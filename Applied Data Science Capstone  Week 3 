{
    "nbformat_minor": 1, 
    "cells": [
        {
            "execution_count": 1, 
            "cell_type": "code", 
            "metadata": {}, 
            "outputs": [], 
            "source": "#!conda install -c conda-forge BeautifulSoup4 --yes"
        }, 
        {
            "execution_count": 2, 
            "cell_type": "code", 
            "metadata": {}, 
            "outputs": [
                {
                    "output_type": "stream", 
                    "name": "stdout", 
                    "text": "Solving environment: done\n\n## Package Plan ##\n\n  environment location: /opt/conda/envs/Python36\n\n  added / updated specs: \n    - wikipedia\n\n\nThe following packages will be downloaded:\n\n    package                    |            build\n    ---------------------------|-----------------\n    certifi-2019.6.16          |           py36_1         149 KB  conda-forge\n    openssl-1.1.1c             |       h516909a_0         2.1 MB  conda-forge\n    ca-certificates-2019.6.16  |       hecc5488_0         145 KB  conda-forge\n    wikipedia-1.4.0            |             py_2          13 KB  conda-forge\n    ------------------------------------------------------------\n                                           Total:         2.4 MB\n\nThe following NEW packages will be INSTALLED:\n\n    wikipedia:       1.4.0-py_2        conda-forge\n\nThe following packages will be UPDATED:\n\n    ca-certificates: 2019.5.15-0                   --> 2019.6.16-hecc5488_0 conda-forge\n    certifi:         2019.6.16-py36_0              --> 2019.6.16-py36_1     conda-forge\n\nThe following packages will be DOWNGRADED:\n\n    openssl:         1.1.1c-h7b6447c_1             --> 1.1.1c-h516909a_0    conda-forge\n\n\nDownloading and Extracting Packages\ncertifi-2019.6.16    | 149 KB    | ##################################### | 100% \nopenssl-1.1.1c       | 2.1 MB    | ##################################### | 100% \nca-certificates-2019 | 145 KB    | ##################################### | 100% \nwikipedia-1.4.0      | 13 KB     | ##################################### | 100% \nPreparing transaction: done\nVerifying transaction: done\nExecuting transaction: done\n"
                }
            ], 
            "source": "!conda install -c conda-forge wikipedia --yes"
        }, 
        {
            "execution_count": 3, 
            "cell_type": "code", 
            "metadata": {}, 
            "outputs": [
                {
                    "output_type": "stream", 
                    "name": "stdout", 
                    "text": "Solving environment: done\n\n## Package Plan ##\n\n  environment location: /opt/conda/envs/Python36\n\n  added / updated specs: \n    - folium=0.5.0\n\n\nThe following packages will be downloaded:\n\n    package                    |            build\n    ---------------------------|-----------------\n    altair-3.1.0               |           py36_0         724 KB  conda-forge\n    folium-0.5.0               |             py_0          45 KB  conda-forge\n    branca-0.3.1               |             py_0          25 KB  conda-forge\n    vincent-0.4.4              |             py_1          28 KB  conda-forge\n    ------------------------------------------------------------\n                                           Total:         822 KB\n\nThe following NEW packages will be INSTALLED:\n\n    altair:  3.1.0-py36_0 conda-forge\n    branca:  0.3.1-py_0   conda-forge\n    folium:  0.5.0-py_0   conda-forge\n    vincent: 0.4.4-py_1   conda-forge\n\n\nDownloading and Extracting Packages\naltair-3.1.0         | 724 KB    | ##################################### | 100% \nfolium-0.5.0         | 45 KB     | ##################################### | 100% \nbranca-0.3.1         | 25 KB     | ##################################### | 100% \nvincent-0.4.4        | 28 KB     | ##################################### | 100% \nPreparing transaction: done\nVerifying transaction: done\nExecuting transaction: done\nLibraries imported.\n"
                }
            ], 
            "source": "from bs4 import BeautifulSoup\nimport requests\nimport pandas as pd\nimport numpy as np\nimport wikipedia as wp\nimport json # library to handle JSON files\n\nfrom geopy.geocoders import Nominatim # convert an address into latitude and longitude values\n\n\nfrom pandas.io.json import json_normalize # tranform JSON file into a pandas dataframe\n\n# Matplotlib and associated plotting modules\nimport matplotlib.cm as cm\nimport matplotlib.colors as colors\n\n# import k-means from clustering stage\nfrom sklearn.cluster import KMeans\n\n!conda install -c conda-forge folium=0.5.0 --yes # uncomment this line if you haven't completed the Foursquare API lab\nimport folium # map rendering library\n\nprint('Libraries imported.')"
        }, 
        {
            "source": "## Using the wikipedia library is the simplest way for scraping data from Wikipedia.", 
            "cell_type": "markdown", 
            "metadata": {}
        }, 
        {
            "execution_count": 4, 
            "cell_type": "code", 
            "metadata": {}, 
            "outputs": [
                {
                    "execution_count": 4, 
                    "metadata": {}, 
                    "data": {
                        "text/plain": "(288, 3)"
                    }, 
                    "output_type": "execute_result"
                }
            ], 
            "source": "\n \n#Get the html source\ncanada_zip_wiki = wp.page(\"List of postal codes of Canada: M\").html().encode(\"UTF-8\")\ncanada_zip_df = pd.read_html(canada_zip_wiki)[0]\ncanada_zip_df.shape"
        }, 
        {
            "source": "## Cleaning up, formatting the data pulled from Wikipedia and adding it into a dataframe", 
            "cell_type": "markdown", 
            "metadata": {}
        }, 
        {
            "execution_count": 5, 
            "cell_type": "code", 
            "metadata": {}, 
            "outputs": [], 
            "source": "canada_zip_df = canada_zip_df.drop(canada_zip_df[canada_zip_df.Borough == 'Not assigned'].index) # remove rows with 'Not assigned' value in the Borough column\ncanada_zip_df = canada_zip_df "
        }, 
        {
            "execution_count": 6, 
            "cell_type": "code", 
            "metadata": {}, 
            "outputs": [
                {
                    "execution_count": 6, 
                    "metadata": {}, 
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Postcode</th>\n      <th>Borough</th>\n      <th>Neighbourhood</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>2</th>\n      <td>M3A</td>\n      <td>North York</td>\n      <td>Parkwoods</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>M4A</td>\n      <td>North York</td>\n      <td>Victoria Village</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>M5A</td>\n      <td>Downtown Toronto</td>\n      <td>Harbourfront</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>M5A</td>\n      <td>Downtown Toronto</td>\n      <td>Regent Park</td>\n    </tr>\n    <tr>\n      <th>6</th>\n      <td>M6A</td>\n      <td>North York</td>\n      <td>Lawrence Heights</td>\n    </tr>\n    <tr>\n      <th>7</th>\n      <td>M6A</td>\n      <td>North York</td>\n      <td>Lawrence Manor</td>\n    </tr>\n    <tr>\n      <th>8</th>\n      <td>M7A</td>\n      <td>Queen's Park</td>\n      <td>Not assigned</td>\n    </tr>\n    <tr>\n      <th>10</th>\n      <td>M9A</td>\n      <td>Etobicoke</td>\n      <td>Islington Avenue</td>\n    </tr>\n    <tr>\n      <th>11</th>\n      <td>M1B</td>\n      <td>Scarborough</td>\n      <td>Rouge</td>\n    </tr>\n    <tr>\n      <th>12</th>\n      <td>M1B</td>\n      <td>Scarborough</td>\n      <td>Malvern</td>\n    </tr>\n    <tr>\n      <th>14</th>\n      <td>M3B</td>\n      <td>North York</td>\n      <td>Don Mills North</td>\n    </tr>\n    <tr>\n      <th>15</th>\n      <td>M4B</td>\n      <td>East York</td>\n      <td>Woodbine Gardens</td>\n    </tr>\n    <tr>\n      <th>16</th>\n      <td>M4B</td>\n      <td>East York</td>\n      <td>Parkview Hill</td>\n    </tr>\n    <tr>\n      <th>17</th>\n      <td>M5B</td>\n      <td>Downtown Toronto</td>\n      <td>Ryerson</td>\n    </tr>\n    <tr>\n      <th>18</th>\n      <td>M5B</td>\n      <td>Downtown Toronto</td>\n      <td>Garden District</td>\n    </tr>\n    <tr>\n      <th>19</th>\n      <td>M6B</td>\n      <td>North York</td>\n      <td>Glencairn</td>\n    </tr>\n    <tr>\n      <th>22</th>\n      <td>M9B</td>\n      <td>Etobicoke</td>\n      <td>Cloverdale</td>\n    </tr>\n    <tr>\n      <th>23</th>\n      <td>M9B</td>\n      <td>Etobicoke</td>\n      <td>Islington</td>\n    </tr>\n    <tr>\n      <th>24</th>\n      <td>M9B</td>\n      <td>Etobicoke</td>\n      <td>Martin Grove</td>\n    </tr>\n    <tr>\n      <th>25</th>\n      <td>M9B</td>\n      <td>Etobicoke</td>\n      <td>Princess Gardens</td>\n    </tr>\n    <tr>\n      <th>26</th>\n      <td>M9B</td>\n      <td>Etobicoke</td>\n      <td>West Deane Park</td>\n    </tr>\n    <tr>\n      <th>27</th>\n      <td>M1C</td>\n      <td>Scarborough</td>\n      <td>Highland Creek</td>\n    </tr>\n    <tr>\n      <th>28</th>\n      <td>M1C</td>\n      <td>Scarborough</td>\n      <td>Rouge Hill</td>\n    </tr>\n    <tr>\n      <th>29</th>\n      <td>M1C</td>\n      <td>Scarborough</td>\n      <td>Port Union</td>\n    </tr>\n    <tr>\n      <th>31</th>\n      <td>M3C</td>\n      <td>North York</td>\n      <td>Flemingdon Park</td>\n    </tr>\n    <tr>\n      <th>32</th>\n      <td>M3C</td>\n      <td>North York</td>\n      <td>Don Mills South</td>\n    </tr>\n    <tr>\n      <th>33</th>\n      <td>M4C</td>\n      <td>East York</td>\n      <td>Woodbine Heights</td>\n    </tr>\n    <tr>\n      <th>34</th>\n      <td>M5C</td>\n      <td>Downtown Toronto</td>\n      <td>St. James Town</td>\n    </tr>\n    <tr>\n      <th>35</th>\n      <td>M6C</td>\n      <td>York</td>\n      <td>Humewood-Cedarvale</td>\n    </tr>\n    <tr>\n      <th>38</th>\n      <td>M9C</td>\n      <td>Etobicoke</td>\n      <td>Bloordale Gardens</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>235</th>\n      <td>M9V</td>\n      <td>Etobicoke</td>\n      <td>Thistletown</td>\n    </tr>\n    <tr>\n      <th>236</th>\n      <td>M1W</td>\n      <td>Scarborough</td>\n      <td>L'Amoreaux West</td>\n    </tr>\n    <tr>\n      <th>239</th>\n      <td>M4W</td>\n      <td>Downtown Toronto</td>\n      <td>Rosedale</td>\n    </tr>\n    <tr>\n      <th>240</th>\n      <td>M5W</td>\n      <td>Downtown Toronto</td>\n      <td>Stn A PO Boxes 25 The Esplanade</td>\n    </tr>\n    <tr>\n      <th>243</th>\n      <td>M8W</td>\n      <td>Etobicoke</td>\n      <td>Alderwood</td>\n    </tr>\n    <tr>\n      <th>244</th>\n      <td>M8W</td>\n      <td>Etobicoke</td>\n      <td>Long Branch</td>\n    </tr>\n    <tr>\n      <th>245</th>\n      <td>M9W</td>\n      <td>Etobicoke</td>\n      <td>Northwest</td>\n    </tr>\n    <tr>\n      <th>246</th>\n      <td>M1X</td>\n      <td>Scarborough</td>\n      <td>Upper Rouge</td>\n    </tr>\n    <tr>\n      <th>249</th>\n      <td>M4X</td>\n      <td>Downtown Toronto</td>\n      <td>Cabbagetown</td>\n    </tr>\n    <tr>\n      <th>250</th>\n      <td>M4X</td>\n      <td>Downtown Toronto</td>\n      <td>St. James Town</td>\n    </tr>\n    <tr>\n      <th>251</th>\n      <td>M5X</td>\n      <td>Downtown Toronto</td>\n      <td>First Canadian Place</td>\n    </tr>\n    <tr>\n      <th>252</th>\n      <td>M5X</td>\n      <td>Downtown Toronto</td>\n      <td>Underground city</td>\n    </tr>\n    <tr>\n      <th>255</th>\n      <td>M8X</td>\n      <td>Etobicoke</td>\n      <td>The Kingsway</td>\n    </tr>\n    <tr>\n      <th>256</th>\n      <td>M8X</td>\n      <td>Etobicoke</td>\n      <td>Montgomery Road</td>\n    </tr>\n    <tr>\n      <th>257</th>\n      <td>M8X</td>\n      <td>Etobicoke</td>\n      <td>Old Mill North</td>\n    </tr>\n    <tr>\n      <th>262</th>\n      <td>M4Y</td>\n      <td>Downtown Toronto</td>\n      <td>Church and Wellesley</td>\n    </tr>\n    <tr>\n      <th>265</th>\n      <td>M7Y</td>\n      <td>East Toronto</td>\n      <td>Business Reply Mail Processing Centre 969 Eastern</td>\n    </tr>\n    <tr>\n      <th>266</th>\n      <td>M8Y</td>\n      <td>Etobicoke</td>\n      <td>Humber Bay</td>\n    </tr>\n    <tr>\n      <th>267</th>\n      <td>M8Y</td>\n      <td>Etobicoke</td>\n      <td>King's Mill Park</td>\n    </tr>\n    <tr>\n      <th>268</th>\n      <td>M8Y</td>\n      <td>Etobicoke</td>\n      <td>Kingsway Park South East</td>\n    </tr>\n    <tr>\n      <th>269</th>\n      <td>M8Y</td>\n      <td>Etobicoke</td>\n      <td>Mimico NE</td>\n    </tr>\n    <tr>\n      <th>270</th>\n      <td>M8Y</td>\n      <td>Etobicoke</td>\n      <td>Old Mill South</td>\n    </tr>\n    <tr>\n      <th>271</th>\n      <td>M8Y</td>\n      <td>Etobicoke</td>\n      <td>The Queensway East</td>\n    </tr>\n    <tr>\n      <th>272</th>\n      <td>M8Y</td>\n      <td>Etobicoke</td>\n      <td>Royal York South East</td>\n    </tr>\n    <tr>\n      <th>273</th>\n      <td>M8Y</td>\n      <td>Etobicoke</td>\n      <td>Sunnylea</td>\n    </tr>\n    <tr>\n      <th>282</th>\n      <td>M8Z</td>\n      <td>Etobicoke</td>\n      <td>Kingsway Park South West</td>\n    </tr>\n    <tr>\n      <th>283</th>\n      <td>M8Z</td>\n      <td>Etobicoke</td>\n      <td>Mimico NW</td>\n    </tr>\n    <tr>\n      <th>284</th>\n      <td>M8Z</td>\n      <td>Etobicoke</td>\n      <td>The Queensway West</td>\n    </tr>\n    <tr>\n      <th>285</th>\n      <td>M8Z</td>\n      <td>Etobicoke</td>\n      <td>Royal York South West</td>\n    </tr>\n    <tr>\n      <th>286</th>\n      <td>M8Z</td>\n      <td>Etobicoke</td>\n      <td>South of Bloor</td>\n    </tr>\n  </tbody>\n</table>\n<p>211 rows \u00d7 3 columns</p>\n</div>", 
                        "text/plain": "    Postcode           Borough  \\\n2        M3A        North York   \n3        M4A        North York   \n4        M5A  Downtown Toronto   \n5        M5A  Downtown Toronto   \n6        M6A        North York   \n7        M6A        North York   \n8        M7A      Queen's Park   \n10       M9A         Etobicoke   \n11       M1B       Scarborough   \n12       M1B       Scarborough   \n14       M3B        North York   \n15       M4B         East York   \n16       M4B         East York   \n17       M5B  Downtown Toronto   \n18       M5B  Downtown Toronto   \n19       M6B        North York   \n22       M9B         Etobicoke   \n23       M9B         Etobicoke   \n24       M9B         Etobicoke   \n25       M9B         Etobicoke   \n26       M9B         Etobicoke   \n27       M1C       Scarborough   \n28       M1C       Scarborough   \n29       M1C       Scarborough   \n31       M3C        North York   \n32       M3C        North York   \n33       M4C         East York   \n34       M5C  Downtown Toronto   \n35       M6C              York   \n38       M9C         Etobicoke   \n..       ...               ...   \n235      M9V         Etobicoke   \n236      M1W       Scarborough   \n239      M4W  Downtown Toronto   \n240      M5W  Downtown Toronto   \n243      M8W         Etobicoke   \n244      M8W         Etobicoke   \n245      M9W         Etobicoke   \n246      M1X       Scarborough   \n249      M4X  Downtown Toronto   \n250      M4X  Downtown Toronto   \n251      M5X  Downtown Toronto   \n252      M5X  Downtown Toronto   \n255      M8X         Etobicoke   \n256      M8X         Etobicoke   \n257      M8X         Etobicoke   \n262      M4Y  Downtown Toronto   \n265      M7Y      East Toronto   \n266      M8Y         Etobicoke   \n267      M8Y         Etobicoke   \n268      M8Y         Etobicoke   \n269      M8Y         Etobicoke   \n270      M8Y         Etobicoke   \n271      M8Y         Etobicoke   \n272      M8Y         Etobicoke   \n273      M8Y         Etobicoke   \n282      M8Z         Etobicoke   \n283      M8Z         Etobicoke   \n284      M8Z         Etobicoke   \n285      M8Z         Etobicoke   \n286      M8Z         Etobicoke   \n\n                                         Neighbourhood  \n2                                            Parkwoods  \n3                                     Victoria Village  \n4                                         Harbourfront  \n5                                          Regent Park  \n6                                     Lawrence Heights  \n7                                       Lawrence Manor  \n8                                         Not assigned  \n10                                    Islington Avenue  \n11                                               Rouge  \n12                                             Malvern  \n14                                     Don Mills North  \n15                                    Woodbine Gardens  \n16                                       Parkview Hill  \n17                                             Ryerson  \n18                                     Garden District  \n19                                           Glencairn  \n22                                          Cloverdale  \n23                                           Islington  \n24                                        Martin Grove  \n25                                    Princess Gardens  \n26                                     West Deane Park  \n27                                      Highland Creek  \n28                                          Rouge Hill  \n29                                          Port Union  \n31                                     Flemingdon Park  \n32                                     Don Mills South  \n33                                    Woodbine Heights  \n34                                      St. James Town  \n35                                  Humewood-Cedarvale  \n38                                   Bloordale Gardens  \n..                                                 ...  \n235                                        Thistletown  \n236                                    L'Amoreaux West  \n239                                           Rosedale  \n240                    Stn A PO Boxes 25 The Esplanade  \n243                                          Alderwood  \n244                                        Long Branch  \n245                                          Northwest  \n246                                        Upper Rouge  \n249                                        Cabbagetown  \n250                                     St. James Town  \n251                               First Canadian Place  \n252                                   Underground city  \n255                                       The Kingsway  \n256                                    Montgomery Road  \n257                                     Old Mill North  \n262                               Church and Wellesley  \n265  Business Reply Mail Processing Centre 969 Eastern  \n266                                         Humber Bay  \n267                                   King's Mill Park  \n268                           Kingsway Park South East  \n269                                          Mimico NE  \n270                                     Old Mill South  \n271                                 The Queensway East  \n272                              Royal York South East  \n273                                           Sunnylea  \n282                           Kingsway Park South West  \n283                                          Mimico NW  \n284                                 The Queensway West  \n285                              Royal York South West  \n286                                     South of Bloor  \n\n[211 rows x 3 columns]"
                    }, 
                    "output_type": "execute_result"
                }
            ], 
            "source": "canada_zip_df"
        }, 
        {
            "execution_count": 7, 
            "cell_type": "code", 
            "metadata": {}, 
            "outputs": [
                {
                    "execution_count": 7, 
                    "metadata": {}, 
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Postcode</th>\n      <th>Borough</th>\n      <th>Neighbourhood</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>2</th>\n      <td>M3A</td>\n      <td>North York</td>\n      <td>Parkwoods</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>M4A</td>\n      <td>North York</td>\n      <td>Victoria Village</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>M5A</td>\n      <td>Downtown Toronto</td>\n      <td>Harbourfront</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>M5A</td>\n      <td>Downtown Toronto</td>\n      <td>Regent Park</td>\n    </tr>\n    <tr>\n      <th>6</th>\n      <td>M6A</td>\n      <td>North York</td>\n      <td>Lawrence Heights</td>\n    </tr>\n    <tr>\n      <th>7</th>\n      <td>M6A</td>\n      <td>North York</td>\n      <td>Lawrence Manor</td>\n    </tr>\n    <tr>\n      <th>8</th>\n      <td>M7A</td>\n      <td>Queen's Park</td>\n      <td>Queen's Park</td>\n    </tr>\n    <tr>\n      <th>10</th>\n      <td>M9A</td>\n      <td>Etobicoke</td>\n      <td>Islington Avenue</td>\n    </tr>\n    <tr>\n      <th>11</th>\n      <td>M1B</td>\n      <td>Scarborough</td>\n      <td>Rouge</td>\n    </tr>\n    <tr>\n      <th>12</th>\n      <td>M1B</td>\n      <td>Scarborough</td>\n      <td>Malvern</td>\n    </tr>\n    <tr>\n      <th>14</th>\n      <td>M3B</td>\n      <td>North York</td>\n      <td>Don Mills North</td>\n    </tr>\n    <tr>\n      <th>15</th>\n      <td>M4B</td>\n      <td>East York</td>\n      <td>Woodbine Gardens</td>\n    </tr>\n    <tr>\n      <th>16</th>\n      <td>M4B</td>\n      <td>East York</td>\n      <td>Parkview Hill</td>\n    </tr>\n    <tr>\n      <th>17</th>\n      <td>M5B</td>\n      <td>Downtown Toronto</td>\n      <td>Ryerson</td>\n    </tr>\n    <tr>\n      <th>18</th>\n      <td>M5B</td>\n      <td>Downtown Toronto</td>\n      <td>Garden District</td>\n    </tr>\n    <tr>\n      <th>19</th>\n      <td>M6B</td>\n      <td>North York</td>\n      <td>Glencairn</td>\n    </tr>\n    <tr>\n      <th>22</th>\n      <td>M9B</td>\n      <td>Etobicoke</td>\n      <td>Cloverdale</td>\n    </tr>\n    <tr>\n      <th>23</th>\n      <td>M9B</td>\n      <td>Etobicoke</td>\n      <td>Islington</td>\n    </tr>\n    <tr>\n      <th>24</th>\n      <td>M9B</td>\n      <td>Etobicoke</td>\n      <td>Martin Grove</td>\n    </tr>\n    <tr>\n      <th>25</th>\n      <td>M9B</td>\n      <td>Etobicoke</td>\n      <td>Princess Gardens</td>\n    </tr>\n    <tr>\n      <th>26</th>\n      <td>M9B</td>\n      <td>Etobicoke</td>\n      <td>West Deane Park</td>\n    </tr>\n    <tr>\n      <th>27</th>\n      <td>M1C</td>\n      <td>Scarborough</td>\n      <td>Highland Creek</td>\n    </tr>\n    <tr>\n      <th>28</th>\n      <td>M1C</td>\n      <td>Scarborough</td>\n      <td>Rouge Hill</td>\n    </tr>\n    <tr>\n      <th>29</th>\n      <td>M1C</td>\n      <td>Scarborough</td>\n      <td>Port Union</td>\n    </tr>\n    <tr>\n      <th>31</th>\n      <td>M3C</td>\n      <td>North York</td>\n      <td>Flemingdon Park</td>\n    </tr>\n    <tr>\n      <th>32</th>\n      <td>M3C</td>\n      <td>North York</td>\n      <td>Don Mills South</td>\n    </tr>\n    <tr>\n      <th>33</th>\n      <td>M4C</td>\n      <td>East York</td>\n      <td>Woodbine Heights</td>\n    </tr>\n    <tr>\n      <th>34</th>\n      <td>M5C</td>\n      <td>Downtown Toronto</td>\n      <td>St. James Town</td>\n    </tr>\n    <tr>\n      <th>35</th>\n      <td>M6C</td>\n      <td>York</td>\n      <td>Humewood-Cedarvale</td>\n    </tr>\n    <tr>\n      <th>38</th>\n      <td>M9C</td>\n      <td>Etobicoke</td>\n      <td>Bloordale Gardens</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>235</th>\n      <td>M9V</td>\n      <td>Etobicoke</td>\n      <td>Thistletown</td>\n    </tr>\n    <tr>\n      <th>236</th>\n      <td>M1W</td>\n      <td>Scarborough</td>\n      <td>L'Amoreaux West</td>\n    </tr>\n    <tr>\n      <th>239</th>\n      <td>M4W</td>\n      <td>Downtown Toronto</td>\n      <td>Rosedale</td>\n    </tr>\n    <tr>\n      <th>240</th>\n      <td>M5W</td>\n      <td>Downtown Toronto</td>\n      <td>Stn A PO Boxes 25 The Esplanade</td>\n    </tr>\n    <tr>\n      <th>243</th>\n      <td>M8W</td>\n      <td>Etobicoke</td>\n      <td>Alderwood</td>\n    </tr>\n    <tr>\n      <th>244</th>\n      <td>M8W</td>\n      <td>Etobicoke</td>\n      <td>Long Branch</td>\n    </tr>\n    <tr>\n      <th>245</th>\n      <td>M9W</td>\n      <td>Etobicoke</td>\n      <td>Northwest</td>\n    </tr>\n    <tr>\n      <th>246</th>\n      <td>M1X</td>\n      <td>Scarborough</td>\n      <td>Upper Rouge</td>\n    </tr>\n    <tr>\n      <th>249</th>\n      <td>M4X</td>\n      <td>Downtown Toronto</td>\n      <td>Cabbagetown</td>\n    </tr>\n    <tr>\n      <th>250</th>\n      <td>M4X</td>\n      <td>Downtown Toronto</td>\n      <td>St. James Town</td>\n    </tr>\n    <tr>\n      <th>251</th>\n      <td>M5X</td>\n      <td>Downtown Toronto</td>\n      <td>First Canadian Place</td>\n    </tr>\n    <tr>\n      <th>252</th>\n      <td>M5X</td>\n      <td>Downtown Toronto</td>\n      <td>Underground city</td>\n    </tr>\n    <tr>\n      <th>255</th>\n      <td>M8X</td>\n      <td>Etobicoke</td>\n      <td>The Kingsway</td>\n    </tr>\n    <tr>\n      <th>256</th>\n      <td>M8X</td>\n      <td>Etobicoke</td>\n      <td>Montgomery Road</td>\n    </tr>\n    <tr>\n      <th>257</th>\n      <td>M8X</td>\n      <td>Etobicoke</td>\n      <td>Old Mill North</td>\n    </tr>\n    <tr>\n      <th>262</th>\n      <td>M4Y</td>\n      <td>Downtown Toronto</td>\n      <td>Church and Wellesley</td>\n    </tr>\n    <tr>\n      <th>265</th>\n      <td>M7Y</td>\n      <td>East Toronto</td>\n      <td>Business Reply Mail Processing Centre 969 Eastern</td>\n    </tr>\n    <tr>\n      <th>266</th>\n      <td>M8Y</td>\n      <td>Etobicoke</td>\n      <td>Humber Bay</td>\n    </tr>\n    <tr>\n      <th>267</th>\n      <td>M8Y</td>\n      <td>Etobicoke</td>\n      <td>King's Mill Park</td>\n    </tr>\n    <tr>\n      <th>268</th>\n      <td>M8Y</td>\n      <td>Etobicoke</td>\n      <td>Kingsway Park South East</td>\n    </tr>\n    <tr>\n      <th>269</th>\n      <td>M8Y</td>\n      <td>Etobicoke</td>\n      <td>Mimico NE</td>\n    </tr>\n    <tr>\n      <th>270</th>\n      <td>M8Y</td>\n      <td>Etobicoke</td>\n      <td>Old Mill South</td>\n    </tr>\n    <tr>\n      <th>271</th>\n      <td>M8Y</td>\n      <td>Etobicoke</td>\n      <td>The Queensway East</td>\n    </tr>\n    <tr>\n      <th>272</th>\n      <td>M8Y</td>\n      <td>Etobicoke</td>\n      <td>Royal York South East</td>\n    </tr>\n    <tr>\n      <th>273</th>\n      <td>M8Y</td>\n      <td>Etobicoke</td>\n      <td>Sunnylea</td>\n    </tr>\n    <tr>\n      <th>282</th>\n      <td>M8Z</td>\n      <td>Etobicoke</td>\n      <td>Kingsway Park South West</td>\n    </tr>\n    <tr>\n      <th>283</th>\n      <td>M8Z</td>\n      <td>Etobicoke</td>\n      <td>Mimico NW</td>\n    </tr>\n    <tr>\n      <th>284</th>\n      <td>M8Z</td>\n      <td>Etobicoke</td>\n      <td>The Queensway West</td>\n    </tr>\n    <tr>\n      <th>285</th>\n      <td>M8Z</td>\n      <td>Etobicoke</td>\n      <td>Royal York South West</td>\n    </tr>\n    <tr>\n      <th>286</th>\n      <td>M8Z</td>\n      <td>Etobicoke</td>\n      <td>South of Bloor</td>\n    </tr>\n  </tbody>\n</table>\n<p>211 rows \u00d7 3 columns</p>\n</div>", 
                        "text/plain": "    Postcode           Borough  \\\n2        M3A        North York   \n3        M4A        North York   \n4        M5A  Downtown Toronto   \n5        M5A  Downtown Toronto   \n6        M6A        North York   \n7        M6A        North York   \n8        M7A      Queen's Park   \n10       M9A         Etobicoke   \n11       M1B       Scarborough   \n12       M1B       Scarborough   \n14       M3B        North York   \n15       M4B         East York   \n16       M4B         East York   \n17       M5B  Downtown Toronto   \n18       M5B  Downtown Toronto   \n19       M6B        North York   \n22       M9B         Etobicoke   \n23       M9B         Etobicoke   \n24       M9B         Etobicoke   \n25       M9B         Etobicoke   \n26       M9B         Etobicoke   \n27       M1C       Scarborough   \n28       M1C       Scarborough   \n29       M1C       Scarborough   \n31       M3C        North York   \n32       M3C        North York   \n33       M4C         East York   \n34       M5C  Downtown Toronto   \n35       M6C              York   \n38       M9C         Etobicoke   \n..       ...               ...   \n235      M9V         Etobicoke   \n236      M1W       Scarborough   \n239      M4W  Downtown Toronto   \n240      M5W  Downtown Toronto   \n243      M8W         Etobicoke   \n244      M8W         Etobicoke   \n245      M9W         Etobicoke   \n246      M1X       Scarborough   \n249      M4X  Downtown Toronto   \n250      M4X  Downtown Toronto   \n251      M5X  Downtown Toronto   \n252      M5X  Downtown Toronto   \n255      M8X         Etobicoke   \n256      M8X         Etobicoke   \n257      M8X         Etobicoke   \n262      M4Y  Downtown Toronto   \n265      M7Y      East Toronto   \n266      M8Y         Etobicoke   \n267      M8Y         Etobicoke   \n268      M8Y         Etobicoke   \n269      M8Y         Etobicoke   \n270      M8Y         Etobicoke   \n271      M8Y         Etobicoke   \n272      M8Y         Etobicoke   \n273      M8Y         Etobicoke   \n282      M8Z         Etobicoke   \n283      M8Z         Etobicoke   \n284      M8Z         Etobicoke   \n285      M8Z         Etobicoke   \n286      M8Z         Etobicoke   \n\n                                         Neighbourhood  \n2                                            Parkwoods  \n3                                     Victoria Village  \n4                                         Harbourfront  \n5                                          Regent Park  \n6                                     Lawrence Heights  \n7                                       Lawrence Manor  \n8                                         Queen's Park  \n10                                    Islington Avenue  \n11                                               Rouge  \n12                                             Malvern  \n14                                     Don Mills North  \n15                                    Woodbine Gardens  \n16                                       Parkview Hill  \n17                                             Ryerson  \n18                                     Garden District  \n19                                           Glencairn  \n22                                          Cloverdale  \n23                                           Islington  \n24                                        Martin Grove  \n25                                    Princess Gardens  \n26                                     West Deane Park  \n27                                      Highland Creek  \n28                                          Rouge Hill  \n29                                          Port Union  \n31                                     Flemingdon Park  \n32                                     Don Mills South  \n33                                    Woodbine Heights  \n34                                      St. James Town  \n35                                  Humewood-Cedarvale  \n38                                   Bloordale Gardens  \n..                                                 ...  \n235                                        Thistletown  \n236                                    L'Amoreaux West  \n239                                           Rosedale  \n240                    Stn A PO Boxes 25 The Esplanade  \n243                                          Alderwood  \n244                                        Long Branch  \n245                                          Northwest  \n246                                        Upper Rouge  \n249                                        Cabbagetown  \n250                                     St. James Town  \n251                               First Canadian Place  \n252                                   Underground city  \n255                                       The Kingsway  \n256                                    Montgomery Road  \n257                                     Old Mill North  \n262                               Church and Wellesley  \n265  Business Reply Mail Processing Centre 969 Eastern  \n266                                         Humber Bay  \n267                                   King's Mill Park  \n268                           Kingsway Park South East  \n269                                          Mimico NE  \n270                                     Old Mill South  \n271                                 The Queensway East  \n272                              Royal York South East  \n273                                           Sunnylea  \n282                           Kingsway Park South West  \n283                                          Mimico NW  \n284                                 The Queensway West  \n285                              Royal York South West  \n286                                     South of Bloor  \n\n[211 rows x 3 columns]"
                    }, 
                    "output_type": "execute_result"
                }
            ], 
            "source": "canada_zip_df.loc[canada_zip_df['Neighbourhood'] =='Not assigned' , 'Neighbourhood'] = canada_zip_df['Borough'] # Adding the Borough name to Neighbourhood in case it was Not assigned\ncanada_zip_df"
        }, 
        {
            "execution_count": 8, 
            "cell_type": "code", 
            "metadata": {}, 
            "outputs": [], 
            "source": "canada_zip_df = canada_zip_df.groupby(['Postcode','Borough'], sort=False).agg( ', '.join) # Merging the same ZIP codes with different Neighbourhoods into one record"
        }, 
        {
            "execution_count": 9, 
            "cell_type": "code", 
            "metadata": {}, 
            "outputs": [
                {
                    "execution_count": 9, 
                    "metadata": {}, 
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th></th>\n      <th>Neighbourhood</th>\n    </tr>\n    <tr>\n      <th>Postcode</th>\n      <th>Borough</th>\n      <th></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>M3A</th>\n      <th>North York</th>\n      <td>Parkwoods</td>\n    </tr>\n    <tr>\n      <th>M4A</th>\n      <th>North York</th>\n      <td>Victoria Village</td>\n    </tr>\n    <tr>\n      <th>M5A</th>\n      <th>Downtown Toronto</th>\n      <td>Harbourfront, Regent Park</td>\n    </tr>\n    <tr>\n      <th>M6A</th>\n      <th>North York</th>\n      <td>Lawrence Heights, Lawrence Manor</td>\n    </tr>\n    <tr>\n      <th>M7A</th>\n      <th>Queen's Park</th>\n      <td>Queen's Park</td>\n    </tr>\n    <tr>\n      <th>M9A</th>\n      <th>Etobicoke</th>\n      <td>Islington Avenue</td>\n    </tr>\n    <tr>\n      <th>M1B</th>\n      <th>Scarborough</th>\n      <td>Rouge, Malvern</td>\n    </tr>\n    <tr>\n      <th>M3B</th>\n      <th>North York</th>\n      <td>Don Mills North</td>\n    </tr>\n    <tr>\n      <th>M4B</th>\n      <th>East York</th>\n      <td>Woodbine Gardens, Parkview Hill</td>\n    </tr>\n    <tr>\n      <th>M5B</th>\n      <th>Downtown Toronto</th>\n      <td>Ryerson, Garden District</td>\n    </tr>\n    <tr>\n      <th>M6B</th>\n      <th>North York</th>\n      <td>Glencairn</td>\n    </tr>\n    <tr>\n      <th>M9B</th>\n      <th>Etobicoke</th>\n      <td>Cloverdale, Islington, Martin Grove, Princess ...</td>\n    </tr>\n    <tr>\n      <th>M1C</th>\n      <th>Scarborough</th>\n      <td>Highland Creek, Rouge Hill, Port Union</td>\n    </tr>\n    <tr>\n      <th>M3C</th>\n      <th>North York</th>\n      <td>Flemingdon Park, Don Mills South</td>\n    </tr>\n    <tr>\n      <th>M4C</th>\n      <th>East York</th>\n      <td>Woodbine Heights</td>\n    </tr>\n    <tr>\n      <th>M5C</th>\n      <th>Downtown Toronto</th>\n      <td>St. James Town</td>\n    </tr>\n    <tr>\n      <th>M6C</th>\n      <th>York</th>\n      <td>Humewood-Cedarvale</td>\n    </tr>\n    <tr>\n      <th>M9C</th>\n      <th>Etobicoke</th>\n      <td>Bloordale Gardens, Eringate, Markland Wood, Ol...</td>\n    </tr>\n    <tr>\n      <th>M1E</th>\n      <th>Scarborough</th>\n      <td>Guildwood, Morningside, West Hill</td>\n    </tr>\n    <tr>\n      <th>M4E</th>\n      <th>East Toronto</th>\n      <td>The Beaches</td>\n    </tr>\n    <tr>\n      <th>M5E</th>\n      <th>Downtown Toronto</th>\n      <td>Berczy Park</td>\n    </tr>\n    <tr>\n      <th>M6E</th>\n      <th>York</th>\n      <td>Caledonia-Fairbanks</td>\n    </tr>\n    <tr>\n      <th>M1G</th>\n      <th>Scarborough</th>\n      <td>Woburn</td>\n    </tr>\n    <tr>\n      <th>M4G</th>\n      <th>East York</th>\n      <td>Leaside</td>\n    </tr>\n    <tr>\n      <th>M5G</th>\n      <th>Downtown Toronto</th>\n      <td>Central Bay Street</td>\n    </tr>\n    <tr>\n      <th>M6G</th>\n      <th>Downtown Toronto</th>\n      <td>Christie</td>\n    </tr>\n    <tr>\n      <th>M1H</th>\n      <th>Scarborough</th>\n      <td>Cedarbrae</td>\n    </tr>\n    <tr>\n      <th>M2H</th>\n      <th>North York</th>\n      <td>Hillcrest Village</td>\n    </tr>\n    <tr>\n      <th>M3H</th>\n      <th>North York</th>\n      <td>Bathurst Manor, Downsview North, Wilson Heights</td>\n    </tr>\n    <tr>\n      <th>M4H</th>\n      <th>East York</th>\n      <td>Thorncliffe Park</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <th>...</th>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>M4R</th>\n      <th>Central Toronto</th>\n      <td>North Toronto West</td>\n    </tr>\n    <tr>\n      <th>M5R</th>\n      <th>Central Toronto</th>\n      <td>The Annex, North Midtown, Yorkville</td>\n    </tr>\n    <tr>\n      <th>M6R</th>\n      <th>West Toronto</th>\n      <td>Parkdale, Roncesvalles</td>\n    </tr>\n    <tr>\n      <th>M7R</th>\n      <th>Mississauga</th>\n      <td>Canada Post Gateway Processing Centre</td>\n    </tr>\n    <tr>\n      <th>M9R</th>\n      <th>Etobicoke</th>\n      <td>Kingsview Village, Martin Grove Gardens, Richv...</td>\n    </tr>\n    <tr>\n      <th>M1S</th>\n      <th>Scarborough</th>\n      <td>Agincourt</td>\n    </tr>\n    <tr>\n      <th>M4S</th>\n      <th>Central Toronto</th>\n      <td>Davisville</td>\n    </tr>\n    <tr>\n      <th>M5S</th>\n      <th>Downtown Toronto</th>\n      <td>Harbord, University of Toronto</td>\n    </tr>\n    <tr>\n      <th>M6S</th>\n      <th>West Toronto</th>\n      <td>Runnymede, Swansea</td>\n    </tr>\n    <tr>\n      <th>M1T</th>\n      <th>Scarborough</th>\n      <td>Clarks Corners, Sullivan, Tam O'Shanter</td>\n    </tr>\n    <tr>\n      <th>M4T</th>\n      <th>Central Toronto</th>\n      <td>Moore Park, Summerhill East</td>\n    </tr>\n    <tr>\n      <th>M5T</th>\n      <th>Downtown Toronto</th>\n      <td>Chinatown, Grange Park, Kensington Market</td>\n    </tr>\n    <tr>\n      <th>M1V</th>\n      <th>Scarborough</th>\n      <td>Agincourt North, L'Amoreaux East, Milliken, St...</td>\n    </tr>\n    <tr>\n      <th>M4V</th>\n      <th>Central Toronto</th>\n      <td>Deer Park, Forest Hill SE, Rathnelly, South Hi...</td>\n    </tr>\n    <tr>\n      <th>M5V</th>\n      <th>Downtown Toronto</th>\n      <td>CN Tower, Bathurst Quay, Island airport, Harbo...</td>\n    </tr>\n    <tr>\n      <th>M8V</th>\n      <th>Etobicoke</th>\n      <td>Humber Bay Shores, Mimico South, New Toronto</td>\n    </tr>\n    <tr>\n      <th>M9V</th>\n      <th>Etobicoke</th>\n      <td>Albion Gardens, Beaumond Heights, Humbergate, ...</td>\n    </tr>\n    <tr>\n      <th>M1W</th>\n      <th>Scarborough</th>\n      <td>L'Amoreaux West</td>\n    </tr>\n    <tr>\n      <th>M4W</th>\n      <th>Downtown Toronto</th>\n      <td>Rosedale</td>\n    </tr>\n    <tr>\n      <th>M5W</th>\n      <th>Downtown Toronto</th>\n      <td>Stn A PO Boxes 25 The Esplanade</td>\n    </tr>\n    <tr>\n      <th>M8W</th>\n      <th>Etobicoke</th>\n      <td>Alderwood, Long Branch</td>\n    </tr>\n    <tr>\n      <th>M9W</th>\n      <th>Etobicoke</th>\n      <td>Northwest</td>\n    </tr>\n    <tr>\n      <th>M1X</th>\n      <th>Scarborough</th>\n      <td>Upper Rouge</td>\n    </tr>\n    <tr>\n      <th>M4X</th>\n      <th>Downtown Toronto</th>\n      <td>Cabbagetown, St. James Town</td>\n    </tr>\n    <tr>\n      <th>M5X</th>\n      <th>Downtown Toronto</th>\n      <td>First Canadian Place, Underground city</td>\n    </tr>\n    <tr>\n      <th>M8X</th>\n      <th>Etobicoke</th>\n      <td>The Kingsway, Montgomery Road, Old Mill North</td>\n    </tr>\n    <tr>\n      <th>M4Y</th>\n      <th>Downtown Toronto</th>\n      <td>Church and Wellesley</td>\n    </tr>\n    <tr>\n      <th>M7Y</th>\n      <th>East Toronto</th>\n      <td>Business Reply Mail Processing Centre 969 Eastern</td>\n    </tr>\n    <tr>\n      <th>M8Y</th>\n      <th>Etobicoke</th>\n      <td>Humber Bay, King's Mill Park, Kingsway Park So...</td>\n    </tr>\n    <tr>\n      <th>M8Z</th>\n      <th>Etobicoke</th>\n      <td>Kingsway Park South West, Mimico NW, The Queen...</td>\n    </tr>\n  </tbody>\n</table>\n<p>103 rows \u00d7 1 columns</p>\n</div>", 
                        "text/plain": "                                                               Neighbourhood\nPostcode Borough                                                            \nM3A      North York                                                Parkwoods\nM4A      North York                                         Victoria Village\nM5A      Downtown Toronto                          Harbourfront, Regent Park\nM6A      North York                         Lawrence Heights, Lawrence Manor\nM7A      Queen's Park                                           Queen's Park\nM9A      Etobicoke                                          Islington Avenue\nM1B      Scarborough                                          Rouge, Malvern\nM3B      North York                                          Don Mills North\nM4B      East York                           Woodbine Gardens, Parkview Hill\nM5B      Downtown Toronto                           Ryerson, Garden District\nM6B      North York                                                Glencairn\nM9B      Etobicoke         Cloverdale, Islington, Martin Grove, Princess ...\nM1C      Scarborough                  Highland Creek, Rouge Hill, Port Union\nM3C      North York                         Flemingdon Park, Don Mills South\nM4C      East York                                          Woodbine Heights\nM5C      Downtown Toronto                                     St. James Town\nM6C      York                                             Humewood-Cedarvale\nM9C      Etobicoke         Bloordale Gardens, Eringate, Markland Wood, Ol...\nM1E      Scarborough                       Guildwood, Morningside, West Hill\nM4E      East Toronto                                            The Beaches\nM5E      Downtown Toronto                                        Berczy Park\nM6E      York                                            Caledonia-Fairbanks\nM1G      Scarborough                                                  Woburn\nM4G      East York                                                   Leaside\nM5G      Downtown Toronto                                 Central Bay Street\nM6G      Downtown Toronto                                           Christie\nM1H      Scarborough                                               Cedarbrae\nM2H      North York                                        Hillcrest Village\nM3H      North York          Bathurst Manor, Downsview North, Wilson Heights\nM4H      East York                                          Thorncliffe Park\n...                                                                      ...\nM4R      Central Toronto                                  North Toronto West\nM5R      Central Toronto                 The Annex, North Midtown, Yorkville\nM6R      West Toronto                                 Parkdale, Roncesvalles\nM7R      Mississauga                   Canada Post Gateway Processing Centre\nM9R      Etobicoke         Kingsview Village, Martin Grove Gardens, Richv...\nM1S      Scarborough                                               Agincourt\nM4S      Central Toronto                                          Davisville\nM5S      Downtown Toronto                     Harbord, University of Toronto\nM6S      West Toronto                                     Runnymede, Swansea\nM1T      Scarborough                 Clarks Corners, Sullivan, Tam O'Shanter\nM4T      Central Toronto                         Moore Park, Summerhill East\nM5T      Downtown Toronto          Chinatown, Grange Park, Kensington Market\nM1V      Scarborough       Agincourt North, L'Amoreaux East, Milliken, St...\nM4V      Central Toronto   Deer Park, Forest Hill SE, Rathnelly, South Hi...\nM5V      Downtown Toronto  CN Tower, Bathurst Quay, Island airport, Harbo...\nM8V      Etobicoke              Humber Bay Shores, Mimico South, New Toronto\nM9V      Etobicoke         Albion Gardens, Beaumond Heights, Humbergate, ...\nM1W      Scarborough                                         L'Amoreaux West\nM4W      Downtown Toronto                                           Rosedale\nM5W      Downtown Toronto                    Stn A PO Boxes 25 The Esplanade\nM8W      Etobicoke                                    Alderwood, Long Branch\nM9W      Etobicoke                                                 Northwest\nM1X      Scarborough                                             Upper Rouge\nM4X      Downtown Toronto                        Cabbagetown, St. James Town\nM5X      Downtown Toronto             First Canadian Place, Underground city\nM8X      Etobicoke             The Kingsway, Montgomery Road, Old Mill North\nM4Y      Downtown Toronto                               Church and Wellesley\nM7Y      East Toronto      Business Reply Mail Processing Centre 969 Eastern\nM8Y      Etobicoke         Humber Bay, King's Mill Park, Kingsway Park So...\nM8Z      Etobicoke         Kingsway Park South West, Mimico NW, The Queen...\n\n[103 rows x 1 columns]"
                    }, 
                    "output_type": "execute_result"
                }
            ], 
            "source": "canada_zip_df"
        }, 
        {
            "execution_count": 10, 
            "cell_type": "code", 
            "metadata": {}, 
            "outputs": [
                {
                    "execution_count": 10, 
                    "metadata": {}, 
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Postcode</th>\n      <th>Borough</th>\n      <th>Neighbourhood</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>M3A</td>\n      <td>North York</td>\n      <td>Parkwoods</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>M4A</td>\n      <td>North York</td>\n      <td>Victoria Village</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>M5A</td>\n      <td>Downtown Toronto</td>\n      <td>Harbourfront, Regent Park</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>M6A</td>\n      <td>North York</td>\n      <td>Lawrence Heights, Lawrence Manor</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>M7A</td>\n      <td>Queen's Park</td>\n      <td>Queen's Park</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>M9A</td>\n      <td>Etobicoke</td>\n      <td>Islington Avenue</td>\n    </tr>\n    <tr>\n      <th>6</th>\n      <td>M1B</td>\n      <td>Scarborough</td>\n      <td>Rouge, Malvern</td>\n    </tr>\n    <tr>\n      <th>7</th>\n      <td>M3B</td>\n      <td>North York</td>\n      <td>Don Mills North</td>\n    </tr>\n    <tr>\n      <th>8</th>\n      <td>M4B</td>\n      <td>East York</td>\n      <td>Woodbine Gardens, Parkview Hill</td>\n    </tr>\n    <tr>\n      <th>9</th>\n      <td>M5B</td>\n      <td>Downtown Toronto</td>\n      <td>Ryerson, Garden District</td>\n    </tr>\n    <tr>\n      <th>10</th>\n      <td>M6B</td>\n      <td>North York</td>\n      <td>Glencairn</td>\n    </tr>\n    <tr>\n      <th>11</th>\n      <td>M9B</td>\n      <td>Etobicoke</td>\n      <td>Cloverdale, Islington, Martin Grove, Princess ...</td>\n    </tr>\n    <tr>\n      <th>12</th>\n      <td>M1C</td>\n      <td>Scarborough</td>\n      <td>Highland Creek, Rouge Hill, Port Union</td>\n    </tr>\n    <tr>\n      <th>13</th>\n      <td>M3C</td>\n      <td>North York</td>\n      <td>Flemingdon Park, Don Mills South</td>\n    </tr>\n    <tr>\n      <th>14</th>\n      <td>M4C</td>\n      <td>East York</td>\n      <td>Woodbine Heights</td>\n    </tr>\n    <tr>\n      <th>15</th>\n      <td>M5C</td>\n      <td>Downtown Toronto</td>\n      <td>St. James Town</td>\n    </tr>\n    <tr>\n      <th>16</th>\n      <td>M6C</td>\n      <td>York</td>\n      <td>Humewood-Cedarvale</td>\n    </tr>\n    <tr>\n      <th>17</th>\n      <td>M9C</td>\n      <td>Etobicoke</td>\n      <td>Bloordale Gardens, Eringate, Markland Wood, Ol...</td>\n    </tr>\n    <tr>\n      <th>18</th>\n      <td>M1E</td>\n      <td>Scarborough</td>\n      <td>Guildwood, Morningside, West Hill</td>\n    </tr>\n    <tr>\n      <th>19</th>\n      <td>M4E</td>\n      <td>East Toronto</td>\n      <td>The Beaches</td>\n    </tr>\n    <tr>\n      <th>20</th>\n      <td>M5E</td>\n      <td>Downtown Toronto</td>\n      <td>Berczy Park</td>\n    </tr>\n    <tr>\n      <th>21</th>\n      <td>M6E</td>\n      <td>York</td>\n      <td>Caledonia-Fairbanks</td>\n    </tr>\n    <tr>\n      <th>22</th>\n      <td>M1G</td>\n      <td>Scarborough</td>\n      <td>Woburn</td>\n    </tr>\n    <tr>\n      <th>23</th>\n      <td>M4G</td>\n      <td>East York</td>\n      <td>Leaside</td>\n    </tr>\n    <tr>\n      <th>24</th>\n      <td>M5G</td>\n      <td>Downtown Toronto</td>\n      <td>Central Bay Street</td>\n    </tr>\n    <tr>\n      <th>25</th>\n      <td>M6G</td>\n      <td>Downtown Toronto</td>\n      <td>Christie</td>\n    </tr>\n    <tr>\n      <th>26</th>\n      <td>M1H</td>\n      <td>Scarborough</td>\n      <td>Cedarbrae</td>\n    </tr>\n    <tr>\n      <th>27</th>\n      <td>M2H</td>\n      <td>North York</td>\n      <td>Hillcrest Village</td>\n    </tr>\n    <tr>\n      <th>28</th>\n      <td>M3H</td>\n      <td>North York</td>\n      <td>Bathurst Manor, Downsview North, Wilson Heights</td>\n    </tr>\n    <tr>\n      <th>29</th>\n      <td>M4H</td>\n      <td>East York</td>\n      <td>Thorncliffe Park</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>73</th>\n      <td>M4R</td>\n      <td>Central Toronto</td>\n      <td>North Toronto West</td>\n    </tr>\n    <tr>\n      <th>74</th>\n      <td>M5R</td>\n      <td>Central Toronto</td>\n      <td>The Annex, North Midtown, Yorkville</td>\n    </tr>\n    <tr>\n      <th>75</th>\n      <td>M6R</td>\n      <td>West Toronto</td>\n      <td>Parkdale, Roncesvalles</td>\n    </tr>\n    <tr>\n      <th>76</th>\n      <td>M7R</td>\n      <td>Mississauga</td>\n      <td>Canada Post Gateway Processing Centre</td>\n    </tr>\n    <tr>\n      <th>77</th>\n      <td>M9R</td>\n      <td>Etobicoke</td>\n      <td>Kingsview Village, Martin Grove Gardens, Richv...</td>\n    </tr>\n    <tr>\n      <th>78</th>\n      <td>M1S</td>\n      <td>Scarborough</td>\n      <td>Agincourt</td>\n    </tr>\n    <tr>\n      <th>79</th>\n      <td>M4S</td>\n      <td>Central Toronto</td>\n      <td>Davisville</td>\n    </tr>\n    <tr>\n      <th>80</th>\n      <td>M5S</td>\n      <td>Downtown Toronto</td>\n      <td>Harbord, University of Toronto</td>\n    </tr>\n    <tr>\n      <th>81</th>\n      <td>M6S</td>\n      <td>West Toronto</td>\n      <td>Runnymede, Swansea</td>\n    </tr>\n    <tr>\n      <th>82</th>\n      <td>M1T</td>\n      <td>Scarborough</td>\n      <td>Clarks Corners, Sullivan, Tam O'Shanter</td>\n    </tr>\n    <tr>\n      <th>83</th>\n      <td>M4T</td>\n      <td>Central Toronto</td>\n      <td>Moore Park, Summerhill East</td>\n    </tr>\n    <tr>\n      <th>84</th>\n      <td>M5T</td>\n      <td>Downtown Toronto</td>\n      <td>Chinatown, Grange Park, Kensington Market</td>\n    </tr>\n    <tr>\n      <th>85</th>\n      <td>M1V</td>\n      <td>Scarborough</td>\n      <td>Agincourt North, L'Amoreaux East, Milliken, St...</td>\n    </tr>\n    <tr>\n      <th>86</th>\n      <td>M4V</td>\n      <td>Central Toronto</td>\n      <td>Deer Park, Forest Hill SE, Rathnelly, South Hi...</td>\n    </tr>\n    <tr>\n      <th>87</th>\n      <td>M5V</td>\n      <td>Downtown Toronto</td>\n      <td>CN Tower, Bathurst Quay, Island airport, Harbo...</td>\n    </tr>\n    <tr>\n      <th>88</th>\n      <td>M8V</td>\n      <td>Etobicoke</td>\n      <td>Humber Bay Shores, Mimico South, New Toronto</td>\n    </tr>\n    <tr>\n      <th>89</th>\n      <td>M9V</td>\n      <td>Etobicoke</td>\n      <td>Albion Gardens, Beaumond Heights, Humbergate, ...</td>\n    </tr>\n    <tr>\n      <th>90</th>\n      <td>M1W</td>\n      <td>Scarborough</td>\n      <td>L'Amoreaux West</td>\n    </tr>\n    <tr>\n      <th>91</th>\n      <td>M4W</td>\n      <td>Downtown Toronto</td>\n      <td>Rosedale</td>\n    </tr>\n    <tr>\n      <th>92</th>\n      <td>M5W</td>\n      <td>Downtown Toronto</td>\n      <td>Stn A PO Boxes 25 The Esplanade</td>\n    </tr>\n    <tr>\n      <th>93</th>\n      <td>M8W</td>\n      <td>Etobicoke</td>\n      <td>Alderwood, Long Branch</td>\n    </tr>\n    <tr>\n      <th>94</th>\n      <td>M9W</td>\n      <td>Etobicoke</td>\n      <td>Northwest</td>\n    </tr>\n    <tr>\n      <th>95</th>\n      <td>M1X</td>\n      <td>Scarborough</td>\n      <td>Upper Rouge</td>\n    </tr>\n    <tr>\n      <th>96</th>\n      <td>M4X</td>\n      <td>Downtown Toronto</td>\n      <td>Cabbagetown, St. James Town</td>\n    </tr>\n    <tr>\n      <th>97</th>\n      <td>M5X</td>\n      <td>Downtown Toronto</td>\n      <td>First Canadian Place, Underground city</td>\n    </tr>\n    <tr>\n      <th>98</th>\n      <td>M8X</td>\n      <td>Etobicoke</td>\n      <td>The Kingsway, Montgomery Road, Old Mill North</td>\n    </tr>\n    <tr>\n      <th>99</th>\n      <td>M4Y</td>\n      <td>Downtown Toronto</td>\n      <td>Church and Wellesley</td>\n    </tr>\n    <tr>\n      <th>100</th>\n      <td>M7Y</td>\n      <td>East Toronto</td>\n      <td>Business Reply Mail Processing Centre 969 Eastern</td>\n    </tr>\n    <tr>\n      <th>101</th>\n      <td>M8Y</td>\n      <td>Etobicoke</td>\n      <td>Humber Bay, King's Mill Park, Kingsway Park So...</td>\n    </tr>\n    <tr>\n      <th>102</th>\n      <td>M8Z</td>\n      <td>Etobicoke</td>\n      <td>Kingsway Park South West, Mimico NW, The Queen...</td>\n    </tr>\n  </tbody>\n</table>\n<p>103 rows \u00d7 3 columns</p>\n</div>", 
                        "text/plain": "    Postcode           Borough  \\\n0        M3A        North York   \n1        M4A        North York   \n2        M5A  Downtown Toronto   \n3        M6A        North York   \n4        M7A      Queen's Park   \n5        M9A         Etobicoke   \n6        M1B       Scarborough   \n7        M3B        North York   \n8        M4B         East York   \n9        M5B  Downtown Toronto   \n10       M6B        North York   \n11       M9B         Etobicoke   \n12       M1C       Scarborough   \n13       M3C        North York   \n14       M4C         East York   \n15       M5C  Downtown Toronto   \n16       M6C              York   \n17       M9C         Etobicoke   \n18       M1E       Scarborough   \n19       M4E      East Toronto   \n20       M5E  Downtown Toronto   \n21       M6E              York   \n22       M1G       Scarborough   \n23       M4G         East York   \n24       M5G  Downtown Toronto   \n25       M6G  Downtown Toronto   \n26       M1H       Scarborough   \n27       M2H        North York   \n28       M3H        North York   \n29       M4H         East York   \n..       ...               ...   \n73       M4R   Central Toronto   \n74       M5R   Central Toronto   \n75       M6R      West Toronto   \n76       M7R       Mississauga   \n77       M9R         Etobicoke   \n78       M1S       Scarborough   \n79       M4S   Central Toronto   \n80       M5S  Downtown Toronto   \n81       M6S      West Toronto   \n82       M1T       Scarborough   \n83       M4T   Central Toronto   \n84       M5T  Downtown Toronto   \n85       M1V       Scarborough   \n86       M4V   Central Toronto   \n87       M5V  Downtown Toronto   \n88       M8V         Etobicoke   \n89       M9V         Etobicoke   \n90       M1W       Scarborough   \n91       M4W  Downtown Toronto   \n92       M5W  Downtown Toronto   \n93       M8W         Etobicoke   \n94       M9W         Etobicoke   \n95       M1X       Scarborough   \n96       M4X  Downtown Toronto   \n97       M5X  Downtown Toronto   \n98       M8X         Etobicoke   \n99       M4Y  Downtown Toronto   \n100      M7Y      East Toronto   \n101      M8Y         Etobicoke   \n102      M8Z         Etobicoke   \n\n                                         Neighbourhood  \n0                                            Parkwoods  \n1                                     Victoria Village  \n2                            Harbourfront, Regent Park  \n3                     Lawrence Heights, Lawrence Manor  \n4                                         Queen's Park  \n5                                     Islington Avenue  \n6                                       Rouge, Malvern  \n7                                      Don Mills North  \n8                      Woodbine Gardens, Parkview Hill  \n9                             Ryerson, Garden District  \n10                                           Glencairn  \n11   Cloverdale, Islington, Martin Grove, Princess ...  \n12              Highland Creek, Rouge Hill, Port Union  \n13                    Flemingdon Park, Don Mills South  \n14                                    Woodbine Heights  \n15                                      St. James Town  \n16                                  Humewood-Cedarvale  \n17   Bloordale Gardens, Eringate, Markland Wood, Ol...  \n18                   Guildwood, Morningside, West Hill  \n19                                         The Beaches  \n20                                         Berczy Park  \n21                                 Caledonia-Fairbanks  \n22                                              Woburn  \n23                                             Leaside  \n24                                  Central Bay Street  \n25                                            Christie  \n26                                           Cedarbrae  \n27                                   Hillcrest Village  \n28     Bathurst Manor, Downsview North, Wilson Heights  \n29                                    Thorncliffe Park  \n..                                                 ...  \n73                                  North Toronto West  \n74                 The Annex, North Midtown, Yorkville  \n75                              Parkdale, Roncesvalles  \n76               Canada Post Gateway Processing Centre  \n77   Kingsview Village, Martin Grove Gardens, Richv...  \n78                                           Agincourt  \n79                                          Davisville  \n80                      Harbord, University of Toronto  \n81                                  Runnymede, Swansea  \n82             Clarks Corners, Sullivan, Tam O'Shanter  \n83                         Moore Park, Summerhill East  \n84           Chinatown, Grange Park, Kensington Market  \n85   Agincourt North, L'Amoreaux East, Milliken, St...  \n86   Deer Park, Forest Hill SE, Rathnelly, South Hi...  \n87   CN Tower, Bathurst Quay, Island airport, Harbo...  \n88        Humber Bay Shores, Mimico South, New Toronto  \n89   Albion Gardens, Beaumond Heights, Humbergate, ...  \n90                                     L'Amoreaux West  \n91                                            Rosedale  \n92                     Stn A PO Boxes 25 The Esplanade  \n93                              Alderwood, Long Branch  \n94                                           Northwest  \n95                                         Upper Rouge  \n96                         Cabbagetown, St. James Town  \n97              First Canadian Place, Underground city  \n98       The Kingsway, Montgomery Road, Old Mill North  \n99                                Church and Wellesley  \n100  Business Reply Mail Processing Centre 969 Eastern  \n101  Humber Bay, King's Mill Park, Kingsway Park So...  \n102  Kingsway Park South West, Mimico NW, The Queen...  \n\n[103 rows x 3 columns]"
                    }, 
                    "output_type": "execute_result"
                }
            ], 
            "source": "canada_zip_df = canada_zip_df.reset_index() # Resetting the index as several rows have been removed or merged into one row\ncanada_zip_df"
        }, 
        {
            "execution_count": 11, 
            "cell_type": "code", 
            "metadata": {}, 
            "outputs": [
                {
                    "execution_count": 11, 
                    "metadata": {}, 
                    "data": {
                        "text/plain": "(103, 3)"
                    }, 
                    "output_type": "execute_result"
                }
            ], 
            "source": "canada_zip_df.shape"
        }, 
        {
            "source": "## Rather relying on the geocoder service I am using the pre-loaded file for latitude and longitude values", 
            "cell_type": "markdown", 
            "metadata": {}
        }, 
        {
            "execution_count": 12, 
            "cell_type": "code", 
            "metadata": {}, 
            "outputs": [
                {
                    "execution_count": 12, 
                    "metadata": {}, 
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Postal Code</th>\n      <th>Latitude</th>\n      <th>Longitude</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>M1B</td>\n      <td>43.806686</td>\n      <td>-79.194353</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>M1C</td>\n      <td>43.784535</td>\n      <td>-79.160497</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>M1E</td>\n      <td>43.763573</td>\n      <td>-79.188711</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>M1G</td>\n      <td>43.770992</td>\n      <td>-79.216917</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>M1H</td>\n      <td>43.773136</td>\n      <td>-79.239476</td>\n    </tr>\n  </tbody>\n</table>\n</div>", 
                        "text/plain": "  Postal Code   Latitude  Longitude\n0         M1B  43.806686 -79.194353\n1         M1C  43.784535 -79.160497\n2         M1E  43.763573 -79.188711\n3         M1G  43.770992 -79.216917\n4         M1H  43.773136 -79.239476"
                    }, 
                    "output_type": "execute_result"
                }
            ], 
            "source": "#Getting the geodata file and creating a dataframe from it\n!wget -q -O 'geo_lon_lat_can.csv'  http://cocl.us/Geospatial_data \ndf_geo_lon_lat_can = pd.read_csv('geo_lon_lat_can.csv')\ndf_geo_lon_lat_can.head()"
        }, 
        {
            "execution_count": 13, 
            "cell_type": "code", 
            "metadata": {}, 
            "outputs": [
                {
                    "execution_count": 13, 
                    "metadata": {}, 
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Postcode</th>\n      <th>Latitude</th>\n      <th>Longitude</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>M1B</td>\n      <td>43.806686</td>\n      <td>-79.194353</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>M1C</td>\n      <td>43.784535</td>\n      <td>-79.160497</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>M1E</td>\n      <td>43.763573</td>\n      <td>-79.188711</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>M1G</td>\n      <td>43.770992</td>\n      <td>-79.216917</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>M1H</td>\n      <td>43.773136</td>\n      <td>-79.239476</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>M1J</td>\n      <td>43.744734</td>\n      <td>-79.239476</td>\n    </tr>\n    <tr>\n      <th>6</th>\n      <td>M1K</td>\n      <td>43.727929</td>\n      <td>-79.262029</td>\n    </tr>\n    <tr>\n      <th>7</th>\n      <td>M1L</td>\n      <td>43.711112</td>\n      <td>-79.284577</td>\n    </tr>\n    <tr>\n      <th>8</th>\n      <td>M1M</td>\n      <td>43.716316</td>\n      <td>-79.239476</td>\n    </tr>\n    <tr>\n      <th>9</th>\n      <td>M1N</td>\n      <td>43.692657</td>\n      <td>-79.264848</td>\n    </tr>\n    <tr>\n      <th>10</th>\n      <td>M1P</td>\n      <td>43.757410</td>\n      <td>-79.273304</td>\n    </tr>\n    <tr>\n      <th>11</th>\n      <td>M1R</td>\n      <td>43.750072</td>\n      <td>-79.295849</td>\n    </tr>\n    <tr>\n      <th>12</th>\n      <td>M1S</td>\n      <td>43.794200</td>\n      <td>-79.262029</td>\n    </tr>\n    <tr>\n      <th>13</th>\n      <td>M1T</td>\n      <td>43.781638</td>\n      <td>-79.304302</td>\n    </tr>\n    <tr>\n      <th>14</th>\n      <td>M1V</td>\n      <td>43.815252</td>\n      <td>-79.284577</td>\n    </tr>\n    <tr>\n      <th>15</th>\n      <td>M1W</td>\n      <td>43.799525</td>\n      <td>-79.318389</td>\n    </tr>\n    <tr>\n      <th>16</th>\n      <td>M1X</td>\n      <td>43.836125</td>\n      <td>-79.205636</td>\n    </tr>\n    <tr>\n      <th>17</th>\n      <td>M2H</td>\n      <td>43.803762</td>\n      <td>-79.363452</td>\n    </tr>\n    <tr>\n      <th>18</th>\n      <td>M2J</td>\n      <td>43.778517</td>\n      <td>-79.346556</td>\n    </tr>\n    <tr>\n      <th>19</th>\n      <td>M2K</td>\n      <td>43.786947</td>\n      <td>-79.385975</td>\n    </tr>\n    <tr>\n      <th>20</th>\n      <td>M2L</td>\n      <td>43.757490</td>\n      <td>-79.374714</td>\n    </tr>\n    <tr>\n      <th>21</th>\n      <td>M2M</td>\n      <td>43.789053</td>\n      <td>-79.408493</td>\n    </tr>\n    <tr>\n      <th>22</th>\n      <td>M2N</td>\n      <td>43.770120</td>\n      <td>-79.408493</td>\n    </tr>\n    <tr>\n      <th>23</th>\n      <td>M2P</td>\n      <td>43.752758</td>\n      <td>-79.400049</td>\n    </tr>\n    <tr>\n      <th>24</th>\n      <td>M2R</td>\n      <td>43.782736</td>\n      <td>-79.442259</td>\n    </tr>\n    <tr>\n      <th>25</th>\n      <td>M3A</td>\n      <td>43.753259</td>\n      <td>-79.329656</td>\n    </tr>\n    <tr>\n      <th>26</th>\n      <td>M3B</td>\n      <td>43.745906</td>\n      <td>-79.352188</td>\n    </tr>\n    <tr>\n      <th>27</th>\n      <td>M3C</td>\n      <td>43.725900</td>\n      <td>-79.340923</td>\n    </tr>\n    <tr>\n      <th>28</th>\n      <td>M3H</td>\n      <td>43.754328</td>\n      <td>-79.442259</td>\n    </tr>\n    <tr>\n      <th>29</th>\n      <td>M3J</td>\n      <td>43.767980</td>\n      <td>-79.487262</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>73</th>\n      <td>M6C</td>\n      <td>43.693781</td>\n      <td>-79.428191</td>\n    </tr>\n    <tr>\n      <th>74</th>\n      <td>M6E</td>\n      <td>43.689026</td>\n      <td>-79.453512</td>\n    </tr>\n    <tr>\n      <th>75</th>\n      <td>M6G</td>\n      <td>43.669542</td>\n      <td>-79.422564</td>\n    </tr>\n    <tr>\n      <th>76</th>\n      <td>M6H</td>\n      <td>43.669005</td>\n      <td>-79.442259</td>\n    </tr>\n    <tr>\n      <th>77</th>\n      <td>M6J</td>\n      <td>43.647927</td>\n      <td>-79.419750</td>\n    </tr>\n    <tr>\n      <th>78</th>\n      <td>M6K</td>\n      <td>43.636847</td>\n      <td>-79.428191</td>\n    </tr>\n    <tr>\n      <th>79</th>\n      <td>M6L</td>\n      <td>43.713756</td>\n      <td>-79.490074</td>\n    </tr>\n    <tr>\n      <th>80</th>\n      <td>M6M</td>\n      <td>43.691116</td>\n      <td>-79.476013</td>\n    </tr>\n    <tr>\n      <th>81</th>\n      <td>M6N</td>\n      <td>43.673185</td>\n      <td>-79.487262</td>\n    </tr>\n    <tr>\n      <th>82</th>\n      <td>M6P</td>\n      <td>43.661608</td>\n      <td>-79.464763</td>\n    </tr>\n    <tr>\n      <th>83</th>\n      <td>M6R</td>\n      <td>43.648960</td>\n      <td>-79.456325</td>\n    </tr>\n    <tr>\n      <th>84</th>\n      <td>M6S</td>\n      <td>43.651571</td>\n      <td>-79.484450</td>\n    </tr>\n    <tr>\n      <th>85</th>\n      <td>M7A</td>\n      <td>43.662301</td>\n      <td>-79.389494</td>\n    </tr>\n    <tr>\n      <th>86</th>\n      <td>M7R</td>\n      <td>43.636966</td>\n      <td>-79.615819</td>\n    </tr>\n    <tr>\n      <th>87</th>\n      <td>M7Y</td>\n      <td>43.662744</td>\n      <td>-79.321558</td>\n    </tr>\n    <tr>\n      <th>88</th>\n      <td>M8V</td>\n      <td>43.605647</td>\n      <td>-79.501321</td>\n    </tr>\n    <tr>\n      <th>89</th>\n      <td>M8W</td>\n      <td>43.602414</td>\n      <td>-79.543484</td>\n    </tr>\n    <tr>\n      <th>90</th>\n      <td>M8X</td>\n      <td>43.653654</td>\n      <td>-79.506944</td>\n    </tr>\n    <tr>\n      <th>91</th>\n      <td>M8Y</td>\n      <td>43.636258</td>\n      <td>-79.498509</td>\n    </tr>\n    <tr>\n      <th>92</th>\n      <td>M8Z</td>\n      <td>43.628841</td>\n      <td>-79.520999</td>\n    </tr>\n    <tr>\n      <th>93</th>\n      <td>M9A</td>\n      <td>43.667856</td>\n      <td>-79.532242</td>\n    </tr>\n    <tr>\n      <th>94</th>\n      <td>M9B</td>\n      <td>43.650943</td>\n      <td>-79.554724</td>\n    </tr>\n    <tr>\n      <th>95</th>\n      <td>M9C</td>\n      <td>43.643515</td>\n      <td>-79.577201</td>\n    </tr>\n    <tr>\n      <th>96</th>\n      <td>M9L</td>\n      <td>43.756303</td>\n      <td>-79.565963</td>\n    </tr>\n    <tr>\n      <th>97</th>\n      <td>M9M</td>\n      <td>43.724766</td>\n      <td>-79.532242</td>\n    </tr>\n    <tr>\n      <th>98</th>\n      <td>M9N</td>\n      <td>43.706876</td>\n      <td>-79.518188</td>\n    </tr>\n    <tr>\n      <th>99</th>\n      <td>M9P</td>\n      <td>43.696319</td>\n      <td>-79.532242</td>\n    </tr>\n    <tr>\n      <th>100</th>\n      <td>M9R</td>\n      <td>43.688905</td>\n      <td>-79.554724</td>\n    </tr>\n    <tr>\n      <th>101</th>\n      <td>M9V</td>\n      <td>43.739416</td>\n      <td>-79.588437</td>\n    </tr>\n    <tr>\n      <th>102</th>\n      <td>M9W</td>\n      <td>43.706748</td>\n      <td>-79.594054</td>\n    </tr>\n  </tbody>\n</table>\n<p>103 rows \u00d7 3 columns</p>\n</div>", 
                        "text/plain": "    Postcode   Latitude  Longitude\n0        M1B  43.806686 -79.194353\n1        M1C  43.784535 -79.160497\n2        M1E  43.763573 -79.188711\n3        M1G  43.770992 -79.216917\n4        M1H  43.773136 -79.239476\n5        M1J  43.744734 -79.239476\n6        M1K  43.727929 -79.262029\n7        M1L  43.711112 -79.284577\n8        M1M  43.716316 -79.239476\n9        M1N  43.692657 -79.264848\n10       M1P  43.757410 -79.273304\n11       M1R  43.750072 -79.295849\n12       M1S  43.794200 -79.262029\n13       M1T  43.781638 -79.304302\n14       M1V  43.815252 -79.284577\n15       M1W  43.799525 -79.318389\n16       M1X  43.836125 -79.205636\n17       M2H  43.803762 -79.363452\n18       M2J  43.778517 -79.346556\n19       M2K  43.786947 -79.385975\n20       M2L  43.757490 -79.374714\n21       M2M  43.789053 -79.408493\n22       M2N  43.770120 -79.408493\n23       M2P  43.752758 -79.400049\n24       M2R  43.782736 -79.442259\n25       M3A  43.753259 -79.329656\n26       M3B  43.745906 -79.352188\n27       M3C  43.725900 -79.340923\n28       M3H  43.754328 -79.442259\n29       M3J  43.767980 -79.487262\n..       ...        ...        ...\n73       M6C  43.693781 -79.428191\n74       M6E  43.689026 -79.453512\n75       M6G  43.669542 -79.422564\n76       M6H  43.669005 -79.442259\n77       M6J  43.647927 -79.419750\n78       M6K  43.636847 -79.428191\n79       M6L  43.713756 -79.490074\n80       M6M  43.691116 -79.476013\n81       M6N  43.673185 -79.487262\n82       M6P  43.661608 -79.464763\n83       M6R  43.648960 -79.456325\n84       M6S  43.651571 -79.484450\n85       M7A  43.662301 -79.389494\n86       M7R  43.636966 -79.615819\n87       M7Y  43.662744 -79.321558\n88       M8V  43.605647 -79.501321\n89       M8W  43.602414 -79.543484\n90       M8X  43.653654 -79.506944\n91       M8Y  43.636258 -79.498509\n92       M8Z  43.628841 -79.520999\n93       M9A  43.667856 -79.532242\n94       M9B  43.650943 -79.554724\n95       M9C  43.643515 -79.577201\n96       M9L  43.756303 -79.565963\n97       M9M  43.724766 -79.532242\n98       M9N  43.706876 -79.518188\n99       M9P  43.696319 -79.532242\n100      M9R  43.688905 -79.554724\n101      M9V  43.739416 -79.588437\n102      M9W  43.706748 -79.594054\n\n[103 rows x 3 columns]"
                    }, 
                    "output_type": "execute_result"
                }
            ], 
            "source": "#Renaming the Postal code column so it matches the canada_zip_df dataframe created from Wikipedia\ndf_geo_lon_lat_can.columns=['Postcode','Latitude','Longitude']\ndf_geo_lon_lat_can"
        }, 
        {
            "execution_count": 14, 
            "cell_type": "code", 
            "metadata": {}, 
            "outputs": [
                {
                    "execution_count": 14, 
                    "metadata": {}, 
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Postcode</th>\n      <th>Borough</th>\n      <th>Neighbourhood</th>\n      <th>Latitude</th>\n      <th>Longitude</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>M3A</td>\n      <td>North York</td>\n      <td>Parkwoods</td>\n      <td>43.753259</td>\n      <td>-79.329656</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>M4A</td>\n      <td>North York</td>\n      <td>Victoria Village</td>\n      <td>43.725882</td>\n      <td>-79.315572</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>M5A</td>\n      <td>Downtown Toronto</td>\n      <td>Harbourfront, Regent Park</td>\n      <td>43.654260</td>\n      <td>-79.360636</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>M6A</td>\n      <td>North York</td>\n      <td>Lawrence Heights, Lawrence Manor</td>\n      <td>43.718518</td>\n      <td>-79.464763</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>M7A</td>\n      <td>Queen's Park</td>\n      <td>Queen's Park</td>\n      <td>43.662301</td>\n      <td>-79.389494</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>M9A</td>\n      <td>Etobicoke</td>\n      <td>Islington Avenue</td>\n      <td>43.667856</td>\n      <td>-79.532242</td>\n    </tr>\n    <tr>\n      <th>6</th>\n      <td>M1B</td>\n      <td>Scarborough</td>\n      <td>Rouge, Malvern</td>\n      <td>43.806686</td>\n      <td>-79.194353</td>\n    </tr>\n    <tr>\n      <th>7</th>\n      <td>M3B</td>\n      <td>North York</td>\n      <td>Don Mills North</td>\n      <td>43.745906</td>\n      <td>-79.352188</td>\n    </tr>\n    <tr>\n      <th>8</th>\n      <td>M4B</td>\n      <td>East York</td>\n      <td>Woodbine Gardens, Parkview Hill</td>\n      <td>43.706397</td>\n      <td>-79.309937</td>\n    </tr>\n    <tr>\n      <th>9</th>\n      <td>M5B</td>\n      <td>Downtown Toronto</td>\n      <td>Ryerson, Garden District</td>\n      <td>43.657162</td>\n      <td>-79.378937</td>\n    </tr>\n    <tr>\n      <th>10</th>\n      <td>M6B</td>\n      <td>North York</td>\n      <td>Glencairn</td>\n      <td>43.709577</td>\n      <td>-79.445073</td>\n    </tr>\n    <tr>\n      <th>11</th>\n      <td>M9B</td>\n      <td>Etobicoke</td>\n      <td>Cloverdale, Islington, Martin Grove, Princess ...</td>\n      <td>43.650943</td>\n      <td>-79.554724</td>\n    </tr>\n    <tr>\n      <th>12</th>\n      <td>M1C</td>\n      <td>Scarborough</td>\n      <td>Highland Creek, Rouge Hill, Port Union</td>\n      <td>43.784535</td>\n      <td>-79.160497</td>\n    </tr>\n    <tr>\n      <th>13</th>\n      <td>M3C</td>\n      <td>North York</td>\n      <td>Flemingdon Park, Don Mills South</td>\n      <td>43.725900</td>\n      <td>-79.340923</td>\n    </tr>\n    <tr>\n      <th>14</th>\n      <td>M4C</td>\n      <td>East York</td>\n      <td>Woodbine Heights</td>\n      <td>43.695344</td>\n      <td>-79.318389</td>\n    </tr>\n    <tr>\n      <th>15</th>\n      <td>M5C</td>\n      <td>Downtown Toronto</td>\n      <td>St. James Town</td>\n      <td>43.651494</td>\n      <td>-79.375418</td>\n    </tr>\n    <tr>\n      <th>16</th>\n      <td>M6C</td>\n      <td>York</td>\n      <td>Humewood-Cedarvale</td>\n      <td>43.693781</td>\n      <td>-79.428191</td>\n    </tr>\n    <tr>\n      <th>17</th>\n      <td>M9C</td>\n      <td>Etobicoke</td>\n      <td>Bloordale Gardens, Eringate, Markland Wood, Ol...</td>\n      <td>43.643515</td>\n      <td>-79.577201</td>\n    </tr>\n    <tr>\n      <th>18</th>\n      <td>M1E</td>\n      <td>Scarborough</td>\n      <td>Guildwood, Morningside, West Hill</td>\n      <td>43.763573</td>\n      <td>-79.188711</td>\n    </tr>\n    <tr>\n      <th>19</th>\n      <td>M4E</td>\n      <td>East Toronto</td>\n      <td>The Beaches</td>\n      <td>43.676357</td>\n      <td>-79.293031</td>\n    </tr>\n    <tr>\n      <th>20</th>\n      <td>M5E</td>\n      <td>Downtown Toronto</td>\n      <td>Berczy Park</td>\n      <td>43.644771</td>\n      <td>-79.373306</td>\n    </tr>\n    <tr>\n      <th>21</th>\n      <td>M6E</td>\n      <td>York</td>\n      <td>Caledonia-Fairbanks</td>\n      <td>43.689026</td>\n      <td>-79.453512</td>\n    </tr>\n    <tr>\n      <th>22</th>\n      <td>M1G</td>\n      <td>Scarborough</td>\n      <td>Woburn</td>\n      <td>43.770992</td>\n      <td>-79.216917</td>\n    </tr>\n    <tr>\n      <th>23</th>\n      <td>M4G</td>\n      <td>East York</td>\n      <td>Leaside</td>\n      <td>43.709060</td>\n      <td>-79.363452</td>\n    </tr>\n    <tr>\n      <th>24</th>\n      <td>M5G</td>\n      <td>Downtown Toronto</td>\n      <td>Central Bay Street</td>\n      <td>43.657952</td>\n      <td>-79.387383</td>\n    </tr>\n    <tr>\n      <th>25</th>\n      <td>M6G</td>\n      <td>Downtown Toronto</td>\n      <td>Christie</td>\n      <td>43.669542</td>\n      <td>-79.422564</td>\n    </tr>\n    <tr>\n      <th>26</th>\n      <td>M1H</td>\n      <td>Scarborough</td>\n      <td>Cedarbrae</td>\n      <td>43.773136</td>\n      <td>-79.239476</td>\n    </tr>\n    <tr>\n      <th>27</th>\n      <td>M2H</td>\n      <td>North York</td>\n      <td>Hillcrest Village</td>\n      <td>43.803762</td>\n      <td>-79.363452</td>\n    </tr>\n    <tr>\n      <th>28</th>\n      <td>M3H</td>\n      <td>North York</td>\n      <td>Bathurst Manor, Downsview North, Wilson Heights</td>\n      <td>43.754328</td>\n      <td>-79.442259</td>\n    </tr>\n    <tr>\n      <th>29</th>\n      <td>M4H</td>\n      <td>East York</td>\n      <td>Thorncliffe Park</td>\n      <td>43.705369</td>\n      <td>-79.349372</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>73</th>\n      <td>M4R</td>\n      <td>Central Toronto</td>\n      <td>North Toronto West</td>\n      <td>43.715383</td>\n      <td>-79.405678</td>\n    </tr>\n    <tr>\n      <th>74</th>\n      <td>M5R</td>\n      <td>Central Toronto</td>\n      <td>The Annex, North Midtown, Yorkville</td>\n      <td>43.672710</td>\n      <td>-79.405678</td>\n    </tr>\n    <tr>\n      <th>75</th>\n      <td>M6R</td>\n      <td>West Toronto</td>\n      <td>Parkdale, Roncesvalles</td>\n      <td>43.648960</td>\n      <td>-79.456325</td>\n    </tr>\n    <tr>\n      <th>76</th>\n      <td>M7R</td>\n      <td>Mississauga</td>\n      <td>Canada Post Gateway Processing Centre</td>\n      <td>43.636966</td>\n      <td>-79.615819</td>\n    </tr>\n    <tr>\n      <th>77</th>\n      <td>M9R</td>\n      <td>Etobicoke</td>\n      <td>Kingsview Village, Martin Grove Gardens, Richv...</td>\n      <td>43.688905</td>\n      <td>-79.554724</td>\n    </tr>\n    <tr>\n      <th>78</th>\n      <td>M1S</td>\n      <td>Scarborough</td>\n      <td>Agincourt</td>\n      <td>43.794200</td>\n      <td>-79.262029</td>\n    </tr>\n    <tr>\n      <th>79</th>\n      <td>M4S</td>\n      <td>Central Toronto</td>\n      <td>Davisville</td>\n      <td>43.704324</td>\n      <td>-79.388790</td>\n    </tr>\n    <tr>\n      <th>80</th>\n      <td>M5S</td>\n      <td>Downtown Toronto</td>\n      <td>Harbord, University of Toronto</td>\n      <td>43.662696</td>\n      <td>-79.400049</td>\n    </tr>\n    <tr>\n      <th>81</th>\n      <td>M6S</td>\n      <td>West Toronto</td>\n      <td>Runnymede, Swansea</td>\n      <td>43.651571</td>\n      <td>-79.484450</td>\n    </tr>\n    <tr>\n      <th>82</th>\n      <td>M1T</td>\n      <td>Scarborough</td>\n      <td>Clarks Corners, Sullivan, Tam O'Shanter</td>\n      <td>43.781638</td>\n      <td>-79.304302</td>\n    </tr>\n    <tr>\n      <th>83</th>\n      <td>M4T</td>\n      <td>Central Toronto</td>\n      <td>Moore Park, Summerhill East</td>\n      <td>43.689574</td>\n      <td>-79.383160</td>\n    </tr>\n    <tr>\n      <th>84</th>\n      <td>M5T</td>\n      <td>Downtown Toronto</td>\n      <td>Chinatown, Grange Park, Kensington Market</td>\n      <td>43.653206</td>\n      <td>-79.400049</td>\n    </tr>\n    <tr>\n      <th>85</th>\n      <td>M1V</td>\n      <td>Scarborough</td>\n      <td>Agincourt North, L'Amoreaux East, Milliken, St...</td>\n      <td>43.815252</td>\n      <td>-79.284577</td>\n    </tr>\n    <tr>\n      <th>86</th>\n      <td>M4V</td>\n      <td>Central Toronto</td>\n      <td>Deer Park, Forest Hill SE, Rathnelly, South Hi...</td>\n      <td>43.686412</td>\n      <td>-79.400049</td>\n    </tr>\n    <tr>\n      <th>87</th>\n      <td>M5V</td>\n      <td>Downtown Toronto</td>\n      <td>CN Tower, Bathurst Quay, Island airport, Harbo...</td>\n      <td>43.628947</td>\n      <td>-79.394420</td>\n    </tr>\n    <tr>\n      <th>88</th>\n      <td>M8V</td>\n      <td>Etobicoke</td>\n      <td>Humber Bay Shores, Mimico South, New Toronto</td>\n      <td>43.605647</td>\n      <td>-79.501321</td>\n    </tr>\n    <tr>\n      <th>89</th>\n      <td>M9V</td>\n      <td>Etobicoke</td>\n      <td>Albion Gardens, Beaumond Heights, Humbergate, ...</td>\n      <td>43.739416</td>\n      <td>-79.588437</td>\n    </tr>\n    <tr>\n      <th>90</th>\n      <td>M1W</td>\n      <td>Scarborough</td>\n      <td>L'Amoreaux West</td>\n      <td>43.799525</td>\n      <td>-79.318389</td>\n    </tr>\n    <tr>\n      <th>91</th>\n      <td>M4W</td>\n      <td>Downtown Toronto</td>\n      <td>Rosedale</td>\n      <td>43.679563</td>\n      <td>-79.377529</td>\n    </tr>\n    <tr>\n      <th>92</th>\n      <td>M5W</td>\n      <td>Downtown Toronto</td>\n      <td>Stn A PO Boxes 25 The Esplanade</td>\n      <td>43.646435</td>\n      <td>-79.374846</td>\n    </tr>\n    <tr>\n      <th>93</th>\n      <td>M8W</td>\n      <td>Etobicoke</td>\n      <td>Alderwood, Long Branch</td>\n      <td>43.602414</td>\n      <td>-79.543484</td>\n    </tr>\n    <tr>\n      <th>94</th>\n      <td>M9W</td>\n      <td>Etobicoke</td>\n      <td>Northwest</td>\n      <td>43.706748</td>\n      <td>-79.594054</td>\n    </tr>\n    <tr>\n      <th>95</th>\n      <td>M1X</td>\n      <td>Scarborough</td>\n      <td>Upper Rouge</td>\n      <td>43.836125</td>\n      <td>-79.205636</td>\n    </tr>\n    <tr>\n      <th>96</th>\n      <td>M4X</td>\n      <td>Downtown Toronto</td>\n      <td>Cabbagetown, St. James Town</td>\n      <td>43.667967</td>\n      <td>-79.367675</td>\n    </tr>\n    <tr>\n      <th>97</th>\n      <td>M5X</td>\n      <td>Downtown Toronto</td>\n      <td>First Canadian Place, Underground city</td>\n      <td>43.648429</td>\n      <td>-79.382280</td>\n    </tr>\n    <tr>\n      <th>98</th>\n      <td>M8X</td>\n      <td>Etobicoke</td>\n      <td>The Kingsway, Montgomery Road, Old Mill North</td>\n      <td>43.653654</td>\n      <td>-79.506944</td>\n    </tr>\n    <tr>\n      <th>99</th>\n      <td>M4Y</td>\n      <td>Downtown Toronto</td>\n      <td>Church and Wellesley</td>\n      <td>43.665860</td>\n      <td>-79.383160</td>\n    </tr>\n    <tr>\n      <th>100</th>\n      <td>M7Y</td>\n      <td>East Toronto</td>\n      <td>Business Reply Mail Processing Centre 969 Eastern</td>\n      <td>43.662744</td>\n      <td>-79.321558</td>\n    </tr>\n    <tr>\n      <th>101</th>\n      <td>M8Y</td>\n      <td>Etobicoke</td>\n      <td>Humber Bay, King's Mill Park, Kingsway Park So...</td>\n      <td>43.636258</td>\n      <td>-79.498509</td>\n    </tr>\n    <tr>\n      <th>102</th>\n      <td>M8Z</td>\n      <td>Etobicoke</td>\n      <td>Kingsway Park South West, Mimico NW, The Queen...</td>\n      <td>43.628841</td>\n      <td>-79.520999</td>\n    </tr>\n  </tbody>\n</table>\n<p>103 rows \u00d7 5 columns</p>\n</div>", 
                        "text/plain": "    Postcode           Borough  \\\n0        M3A        North York   \n1        M4A        North York   \n2        M5A  Downtown Toronto   \n3        M6A        North York   \n4        M7A      Queen's Park   \n5        M9A         Etobicoke   \n6        M1B       Scarborough   \n7        M3B        North York   \n8        M4B         East York   \n9        M5B  Downtown Toronto   \n10       M6B        North York   \n11       M9B         Etobicoke   \n12       M1C       Scarborough   \n13       M3C        North York   \n14       M4C         East York   \n15       M5C  Downtown Toronto   \n16       M6C              York   \n17       M9C         Etobicoke   \n18       M1E       Scarborough   \n19       M4E      East Toronto   \n20       M5E  Downtown Toronto   \n21       M6E              York   \n22       M1G       Scarborough   \n23       M4G         East York   \n24       M5G  Downtown Toronto   \n25       M6G  Downtown Toronto   \n26       M1H       Scarborough   \n27       M2H        North York   \n28       M3H        North York   \n29       M4H         East York   \n..       ...               ...   \n73       M4R   Central Toronto   \n74       M5R   Central Toronto   \n75       M6R      West Toronto   \n76       M7R       Mississauga   \n77       M9R         Etobicoke   \n78       M1S       Scarborough   \n79       M4S   Central Toronto   \n80       M5S  Downtown Toronto   \n81       M6S      West Toronto   \n82       M1T       Scarborough   \n83       M4T   Central Toronto   \n84       M5T  Downtown Toronto   \n85       M1V       Scarborough   \n86       M4V   Central Toronto   \n87       M5V  Downtown Toronto   \n88       M8V         Etobicoke   \n89       M9V         Etobicoke   \n90       M1W       Scarborough   \n91       M4W  Downtown Toronto   \n92       M5W  Downtown Toronto   \n93       M8W         Etobicoke   \n94       M9W         Etobicoke   \n95       M1X       Scarborough   \n96       M4X  Downtown Toronto   \n97       M5X  Downtown Toronto   \n98       M8X         Etobicoke   \n99       M4Y  Downtown Toronto   \n100      M7Y      East Toronto   \n101      M8Y         Etobicoke   \n102      M8Z         Etobicoke   \n\n                                         Neighbourhood   Latitude  Longitude  \n0                                            Parkwoods  43.753259 -79.329656  \n1                                     Victoria Village  43.725882 -79.315572  \n2                            Harbourfront, Regent Park  43.654260 -79.360636  \n3                     Lawrence Heights, Lawrence Manor  43.718518 -79.464763  \n4                                         Queen's Park  43.662301 -79.389494  \n5                                     Islington Avenue  43.667856 -79.532242  \n6                                       Rouge, Malvern  43.806686 -79.194353  \n7                                      Don Mills North  43.745906 -79.352188  \n8                      Woodbine Gardens, Parkview Hill  43.706397 -79.309937  \n9                             Ryerson, Garden District  43.657162 -79.378937  \n10                                           Glencairn  43.709577 -79.445073  \n11   Cloverdale, Islington, Martin Grove, Princess ...  43.650943 -79.554724  \n12              Highland Creek, Rouge Hill, Port Union  43.784535 -79.160497  \n13                    Flemingdon Park, Don Mills South  43.725900 -79.340923  \n14                                    Woodbine Heights  43.695344 -79.318389  \n15                                      St. James Town  43.651494 -79.375418  \n16                                  Humewood-Cedarvale  43.693781 -79.428191  \n17   Bloordale Gardens, Eringate, Markland Wood, Ol...  43.643515 -79.577201  \n18                   Guildwood, Morningside, West Hill  43.763573 -79.188711  \n19                                         The Beaches  43.676357 -79.293031  \n20                                         Berczy Park  43.644771 -79.373306  \n21                                 Caledonia-Fairbanks  43.689026 -79.453512  \n22                                              Woburn  43.770992 -79.216917  \n23                                             Leaside  43.709060 -79.363452  \n24                                  Central Bay Street  43.657952 -79.387383  \n25                                            Christie  43.669542 -79.422564  \n26                                           Cedarbrae  43.773136 -79.239476  \n27                                   Hillcrest Village  43.803762 -79.363452  \n28     Bathurst Manor, Downsview North, Wilson Heights  43.754328 -79.442259  \n29                                    Thorncliffe Park  43.705369 -79.349372  \n..                                                 ...        ...        ...  \n73                                  North Toronto West  43.715383 -79.405678  \n74                 The Annex, North Midtown, Yorkville  43.672710 -79.405678  \n75                              Parkdale, Roncesvalles  43.648960 -79.456325  \n76               Canada Post Gateway Processing Centre  43.636966 -79.615819  \n77   Kingsview Village, Martin Grove Gardens, Richv...  43.688905 -79.554724  \n78                                           Agincourt  43.794200 -79.262029  \n79                                          Davisville  43.704324 -79.388790  \n80                      Harbord, University of Toronto  43.662696 -79.400049  \n81                                  Runnymede, Swansea  43.651571 -79.484450  \n82             Clarks Corners, Sullivan, Tam O'Shanter  43.781638 -79.304302  \n83                         Moore Park, Summerhill East  43.689574 -79.383160  \n84           Chinatown, Grange Park, Kensington Market  43.653206 -79.400049  \n85   Agincourt North, L'Amoreaux East, Milliken, St...  43.815252 -79.284577  \n86   Deer Park, Forest Hill SE, Rathnelly, South Hi...  43.686412 -79.400049  \n87   CN Tower, Bathurst Quay, Island airport, Harbo...  43.628947 -79.394420  \n88        Humber Bay Shores, Mimico South, New Toronto  43.605647 -79.501321  \n89   Albion Gardens, Beaumond Heights, Humbergate, ...  43.739416 -79.588437  \n90                                     L'Amoreaux West  43.799525 -79.318389  \n91                                            Rosedale  43.679563 -79.377529  \n92                     Stn A PO Boxes 25 The Esplanade  43.646435 -79.374846  \n93                              Alderwood, Long Branch  43.602414 -79.543484  \n94                                           Northwest  43.706748 -79.594054  \n95                                         Upper Rouge  43.836125 -79.205636  \n96                         Cabbagetown, St. James Town  43.667967 -79.367675  \n97              First Canadian Place, Underground city  43.648429 -79.382280  \n98       The Kingsway, Montgomery Road, Old Mill North  43.653654 -79.506944  \n99                                Church and Wellesley  43.665860 -79.383160  \n100  Business Reply Mail Processing Centre 969 Eastern  43.662744 -79.321558  \n101  Humber Bay, King's Mill Park, Kingsway Park So...  43.636258 -79.498509  \n102  Kingsway Park South West, Mimico NW, The Queen...  43.628841 -79.520999  \n\n[103 rows x 5 columns]"
                    }, 
                    "output_type": "execute_result"
                }
            ], 
            "source": "# Creating a new dataframe from the canada_zip_df with the df_geo_lon_lat_can dataframe\ncanada_zip_df_new = pd.merge(canada_zip_df,\n                 df_geo_lon_lat_can[['Postcode','Latitude', 'Longitude']],\n                 on='Postcode')\ncanada_zip_df_new "
        }, 
        {
            "execution_count": 19, 
            "cell_type": "code", 
            "metadata": {}, 
            "outputs": [
                {
                    "output_type": "stream", 
                    "name": "stdout", 
                    "text": "The geograpical coordinate of Toronto are 43.653963, -79.387207.\n"
                }
            ], 
            "source": "# Getting the coordinates for Toronto, Canada\n# The service was not always available therefore added hardcoded values\naddress = 'Toronto, Canada'\n\ngeolocator = Nominatim(user_agent=\"toronto_explorer\")\nlocation = geolocator.geocode(address)\nlatitude = location.latitude\nlongitude = location.longitude\n#latitude = 43.653963\n#longitude = -79.387207\n\nprint('The geograpical coordinate of Toronto are {}, {}.'.format(latitude, longitude))"
        }, 
        {
            "execution_count": 20, 
            "cell_type": "code", 
            "metadata": {}, 
            "outputs": [
                {
                    "execution_count": 20, 
                    "metadata": {}, 
                    "data": {
                        "text/html": "<div style=\"width:100%;\"><div style=\"position:relative;width:100%;height:0;padding-bottom:60%;\"><iframe src=\"data:text/html;charset=utf-8;base64,PCFET0NUWVBFIGh0bWw+CjxoZWFkPiAgICAKICAgIDxtZXRhIGh0dHAtZXF1aXY9ImNvbnRlbnQtdHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PVVURi04IiAvPgogICAgPHNjcmlwdD5MX1BSRUZFUl9DQU5WQVMgPSBmYWxzZTsgTF9OT19UT1VDSCA9IGZhbHNlOyBMX0RJU0FCTEVfM0QgPSBmYWxzZTs8L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2FqYXguZ29vZ2xlYXBpcy5jb20vYWpheC9saWJzL2pxdWVyeS8xLjExLjEvanF1ZXJ5Lm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvanMvYm9vdHN0cmFwLm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvTGVhZmxldC5hd2Vzb21lLW1hcmtlcnMvMi4wLjIvbGVhZmxldC5hd2Vzb21lLW1hcmtlcnMuanMiPjwvc2NyaXB0PgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjIuMC9jc3MvYm9vdHN0cmFwLm1pbi5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvY3NzL2Jvb3RzdHJhcC10aGVtZS5taW4uY3NzIi8+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vbWF4Y2RuLmJvb3RzdHJhcGNkbi5jb20vZm9udC1hd2Vzb21lLzQuNi4zL2Nzcy9mb250LWF3ZXNvbWUubWluLmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9MZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy8yLjAuMi9sZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9yYXdnaXQuY29tL3B5dGhvbi12aXN1YWxpemF0aW9uL2ZvbGl1bS9tYXN0ZXIvZm9saXVtL3RlbXBsYXRlcy9sZWFmbGV0LmF3ZXNvbWUucm90YXRlLmNzcyIvPgogICAgPHN0eWxlPmh0bWwsIGJvZHkge3dpZHRoOiAxMDAlO2hlaWdodDogMTAwJTttYXJnaW46IDA7cGFkZGluZzogMDt9PC9zdHlsZT4KICAgIDxzdHlsZT4jbWFwIHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtib3R0b206MDtyaWdodDowO2xlZnQ6MDt9PC9zdHlsZT4KICAgIAogICAgICAgICAgICA8c3R5bGU+ICNtYXBfZTBkMmJmMzIzOGJjNGExMDhjZDk1OTgyZTBlMzc4ZjQgewogICAgICAgICAgICAgICAgcG9zaXRpb24gOiByZWxhdGl2ZTsKICAgICAgICAgICAgICAgIHdpZHRoIDogMTAwLjAlOwogICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAuMCU7CiAgICAgICAgICAgICAgICBsZWZ0OiAwLjAlOwogICAgICAgICAgICAgICAgdG9wOiAwLjAlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICA8L3N0eWxlPgogICAgICAgIAo8L2hlYWQ+Cjxib2R5PiAgICAKICAgIAogICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb2xpdW0tbWFwIiBpZD0ibWFwX2UwZDJiZjMyMzhiYzRhMTA4Y2Q5NTk4MmUwZTM3OGY0IiA+PC9kaXY+CiAgICAgICAgCjwvYm9keT4KPHNjcmlwdD4gICAgCiAgICAKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGJvdW5kcyA9IG51bGw7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgdmFyIG1hcF9lMGQyYmYzMjM4YmM0YTEwOGNkOTU5ODJlMGUzNzhmNCA9IEwubWFwKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hcF9lMGQyYmYzMjM4YmM0YTEwOGNkOTU5ODJlMGUzNzhmNCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2VudGVyOiBbNDMuNjUzOTYzLC03OS4zODcyMDddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgem9vbTogMTAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhCb3VuZHM6IGJvdW5kcywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyczogW10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3b3JsZENvcHlKdW1wOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyczogTC5DUlMuRVBTRzM4NTcKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciB0aWxlX2xheWVyXzIzMjFiZWU2NDQyNDQ1NTE4MzI0YTM2MTMzOGI5ZDI3ID0gTC50aWxlTGF5ZXIoCiAgICAgICAgICAgICAgICAnaHR0cHM6Ly97c30udGlsZS5vcGVuc3RyZWV0bWFwLm9yZy97en0ve3h9L3t5fS5wbmcnLAogICAgICAgICAgICAgICAgewogICJhdHRyaWJ1dGlvbiI6IG51bGwsCiAgImRldGVjdFJldGluYSI6IGZhbHNlLAogICJtYXhab29tIjogMTgsCiAgIm1pblpvb20iOiAxLAogICJub1dyYXAiOiBmYWxzZSwKICAic3ViZG9tYWlucyI6ICJhYmMiCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2UwZDJiZjMyMzhiYzRhMTA4Y2Q5NTk4MmUwZTM3OGY0KTsKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9lYTgxN2MzYWE3NDg0ZDA5OWU3N2VlNTkzYjRhMzUyNyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc1MzI1ODYsLTc5LjMyOTY1NjVdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZTBkMmJmMzIzOGJjNGExMDhjZDk1OTgyZTBlMzc4ZjQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNzNkMzU4NzRkZTAxNGE4NmI2ZjkzOGU2OTJkY2YzN2UgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOTJiY2M2MjU3YjAxNDJkYzhmNzE4OWI1NzA4ZWUwZmUgPSAkKCc8ZGl2IGlkPSJodG1sXzkyYmNjNjI1N2IwMTQyZGM4ZjcxODliNTcwOGVlMGZlIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5QYXJrd29vZHMsIE5vcnRoIFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzczZDM1ODc0ZGUwMTRhODZiNmY5MzhlNjkyZGNmMzdlLnNldENvbnRlbnQoaHRtbF85MmJjYzYyNTdiMDE0MmRjOGY3MTg5YjU3MDhlZTBmZSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9lYTgxN2MzYWE3NDg0ZDA5OWU3N2VlNTkzYjRhMzUyNy5iaW5kUG9wdXAocG9wdXBfNzNkMzU4NzRkZTAxNGE4NmI2ZjkzOGU2OTJkY2YzN2UpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMzBlZjBmYzVjODk5NGNiNDhkNDdhMThkZTEyNjM0NzIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MjU4ODIyOTk5OTk5OTUsLTc5LjMxNTU3MTU5OTk5OTk4XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2UwZDJiZjMyMzhiYzRhMTA4Y2Q5NTk4MmUwZTM3OGY0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzViZDlmMzVmZDRmMDQzNTRiYzU3ZDAwOTQyZGJiMzcyID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzZlNDA1NjYxZjg2YjRkMTFhZGQ4NzNhOTVlMWY5ZjVkID0gJCgnPGRpdiBpZD0iaHRtbF82ZTQwNTY2MWY4NmI0ZDExYWRkODczYTk1ZTFmOWY1ZCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+VmljdG9yaWEgVmlsbGFnZSwgTm9ydGggWW9yazwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNWJkOWYzNWZkNGYwNDM1NGJjNTdkMDA5NDJkYmIzNzIuc2V0Q29udGVudChodG1sXzZlNDA1NjYxZjg2YjRkMTFhZGQ4NzNhOTVlMWY5ZjVkKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzMwZWYwZmM1Yzg5OTRjYjQ4ZDQ3YTE4ZGUxMjYzNDcyLmJpbmRQb3B1cChwb3B1cF81YmQ5ZjM1ZmQ0ZjA0MzU0YmM1N2QwMDk0MmRiYjM3Mik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl82ZTI0YWNjNjI5ZmU0OTM1ODg0NDRjMmU2OTllM2M5OSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY1NDI1OTksLTc5LjM2MDYzNTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZTBkMmJmMzIzOGJjNGExMDhjZDk1OTgyZTBlMzc4ZjQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZGZmMDYwMTkwODk5NGVlNzg1ZjM1MDhjYmU3NzJkNTcgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOGNjMWU2NDAzZWIwNDAyNWIyYWM5NTIyMjc2Mjg5ZTEgPSAkKCc8ZGl2IGlkPSJodG1sXzhjYzFlNjQwM2ViMDQwMjViMmFjOTUyMjI3NjI4OWUxIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5IYXJib3VyZnJvbnQsIFJlZ2VudCBQYXJrLCBEb3dudG93biBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9kZmYwNjAxOTA4OTk0ZWU3ODVmMzUwOGNiZTc3MmQ1Ny5zZXRDb250ZW50KGh0bWxfOGNjMWU2NDAzZWIwNDAyNWIyYWM5NTIyMjc2Mjg5ZTEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNmUyNGFjYzYyOWZlNDkzNTg4NDQ0YzJlNjk5ZTNjOTkuYmluZFBvcHVwKHBvcHVwX2RmZjA2MDE5MDg5OTRlZTc4NWYzNTA4Y2JlNzcyZDU3KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzIxNzZhMzNkM2JlMzRiODRhNDMzNTY2Yjc4NmJlNmI3ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzE4NTE3OTk5OTk5OTk2LC03OS40NjQ3NjMyOTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMGQyYmYzMjM4YmM0YTEwOGNkOTU5ODJlMGUzNzhmNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8wMGFiNWE1ZTQ2Nzk0OGVmYTcwNDU4YTViNDAxYmEzZSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF84MzZmZjM1YjM1OTE0Y2ZiOWU3NTFiZjk4ZTMzMWNkZiA9ICQoJzxkaXYgaWQ9Imh0bWxfODM2ZmYzNWIzNTkxNGNmYjllNzUxYmY5OGUzMzFjZGYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkxhd3JlbmNlIEhlaWdodHMsIExhd3JlbmNlIE1hbm9yLCBOb3J0aCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8wMGFiNWE1ZTQ2Nzk0OGVmYTcwNDU4YTViNDAxYmEzZS5zZXRDb250ZW50KGh0bWxfODM2ZmYzNWIzNTkxNGNmYjllNzUxYmY5OGUzMzFjZGYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMjE3NmEzM2QzYmUzNGI4NGE0MzM1NjZiNzg2YmU2YjcuYmluZFBvcHVwKHBvcHVwXzAwYWI1YTVlNDY3OTQ4ZWZhNzA0NThhNWI0MDFiYTNlKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2E2MjlhYzIyOTMwMzQ3MTJhNDgwYTk1ZmQ1YWVmMmQ3ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjYyMzAxNSwtNzkuMzg5NDkzOF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMGQyYmYzMjM4YmM0YTEwOGNkOTU5ODJlMGUzNzhmNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9iYzNjMTZjNjNkYWU0YzU5ODk3YmFhODZlMzRjNjY1NSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8wM2VjODhkYTQ1Yzk0Y2RiODY5MDM0OWVhMmY4ODQxMSA9ICQoJzxkaXYgaWQ9Imh0bWxfMDNlYzg4ZGE0NWM5NGNkYjg2OTAzNDllYTJmODg0MTEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlF1ZWVuJiMzOTtzIFBhcmssIFF1ZWVuJiMzOTtzIFBhcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2JjM2MxNmM2M2RhZTRjNTk4OTdiYWE4NmUzNGM2NjU1LnNldENvbnRlbnQoaHRtbF8wM2VjODhkYTQ1Yzk0Y2RiODY5MDM0OWVhMmY4ODQxMSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9hNjI5YWMyMjkzMDM0NzEyYTQ4MGE5NWZkNWFlZjJkNy5iaW5kUG9wdXAocG9wdXBfYmMzYzE2YzYzZGFlNGM1OTg5N2JhYTg2ZTM0YzY2NTUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZTgyZmQ3YWY3MDA3NGE3M2FkMzg1ZGEwZmY5NmZlOWIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42Njc4NTU2LC03OS41MzIyNDI0MDAwMDAwMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMGQyYmYzMjM4YmM0YTEwOGNkOTU5ODJlMGUzNzhmNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9iYjA0M2ZiNTNmMWY0MTFiYTE1OGJhMGJlNjFiN2NhYyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9mZDNlMmVkNWU3YzA0NzQ4ODJjMDYxODdhYmUxOWI2YiA9ICQoJzxkaXYgaWQ9Imh0bWxfZmQzZTJlZDVlN2MwNDc0ODgyYzA2MTg3YWJlMTliNmIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPklzbGluZ3RvbiBBdmVudWUsIEV0b2JpY29rZTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYmIwNDNmYjUzZjFmNDExYmExNThiYTBiZTYxYjdjYWMuc2V0Q29udGVudChodG1sX2ZkM2UyZWQ1ZTdjMDQ3NDg4MmMwNjE4N2FiZTE5YjZiKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2U4MmZkN2FmNzAwNzRhNzNhZDM4NWRhMGZmOTZmZTliLmJpbmRQb3B1cChwb3B1cF9iYjA0M2ZiNTNmMWY0MTFiYTE1OGJhMGJlNjFiN2NhYyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8zYmI2NzQ1YmYzNTc0OWI2OGQyZDViMDllNjcxZThjNSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjgwNjY4NjI5OTk5OTk5NiwtNzkuMTk0MzUzNDAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZTBkMmJmMzIzOGJjNGExMDhjZDk1OTgyZTBlMzc4ZjQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMDI5ODI4NTljODE2NDlkOGFiODljYTY4NWQ0MmU3MTMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZWE5YmEwODBkZTViNDExOWFjMDFlMzBkNGMwYjQxNGIgPSAkKCc8ZGl2IGlkPSJodG1sX2VhOWJhMDgwZGU1YjQxMTlhYzAxZTMwZDRjMGI0MTRiIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Sb3VnZSwgTWFsdmVybiwgU2NhcmJvcm91Z2g8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzAyOTgyODU5YzgxNjQ5ZDhhYjg5Y2E2ODVkNDJlNzEzLnNldENvbnRlbnQoaHRtbF9lYTliYTA4MGRlNWI0MTE5YWMwMWUzMGQ0YzBiNDE0Yik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8zYmI2NzQ1YmYzNTc0OWI2OGQyZDViMDllNjcxZThjNS5iaW5kUG9wdXAocG9wdXBfMDI5ODI4NTljODE2NDlkOGFiODljYTY4NWQ0MmU3MTMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMGQyZTgwZmUyOGEzNDAzMGI2MmNiNmM5MGY3Y2E2NzYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NDU5MDU3OTk5OTk5OTYsLTc5LjM1MjE4OF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMGQyYmYzMjM4YmM0YTEwOGNkOTU5ODJlMGUzNzhmNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF80ODFlZDhhMWI3MmU0ZTVlYWU0YTI0YWY4NDM0MTZjZSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF85MzQyMGVlZThmMTA0ZDA0OTI4MDcxNzBiMzQzN2ZkNSA9ICQoJzxkaXYgaWQ9Imh0bWxfOTM0MjBlZWU4ZjEwNGQwNDkyODA3MTcwYjM0MzdmZDUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkRvbiBNaWxscyBOb3J0aCwgTm9ydGggWW9yazwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNDgxZWQ4YTFiNzJlNGU1ZWFlNGEyNGFmODQzNDE2Y2Uuc2V0Q29udGVudChodG1sXzkzNDIwZWVlOGYxMDRkMDQ5MjgwNzE3MGIzNDM3ZmQ1KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzBkMmU4MGZlMjhhMzQwMzBiNjJjYjZjOTBmN2NhNjc2LmJpbmRQb3B1cChwb3B1cF80ODFlZDhhMWI3MmU0ZTVlYWU0YTI0YWY4NDM0MTZjZSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl80YjFkZmFkNDg3NzQ0NTI3YjllNTEyOWM2ZjUzYmU4MyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcwNjM5NzIsLTc5LjMwOTkzN10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMGQyYmYzMjM4YmM0YTEwOGNkOTU5ODJlMGUzNzhmNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8zZjc5NjA4ZGIxMzA0MjA2YjRkNGU3NDI2ZWFiMGYyOCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8yNmUzODgxYTgxYWQ0MzVhYjdlZjU5OWYzYjRiZmQ4MSA9ICQoJzxkaXYgaWQ9Imh0bWxfMjZlMzg4MWE4MWFkNDM1YWI3ZWY1OTlmM2I0YmZkODEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPldvb2RiaW5lIEdhcmRlbnMsIFBhcmt2aWV3IEhpbGwsIEVhc3QgWW9yazwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfM2Y3OTYwOGRiMTMwNDIwNmI0ZDRlNzQyNmVhYjBmMjguc2V0Q29udGVudChodG1sXzI2ZTM4ODFhODFhZDQzNWFiN2VmNTk5ZjNiNGJmZDgxKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzRiMWRmYWQ0ODc3NDQ1MjdiOWU1MTI5YzZmNTNiZTgzLmJpbmRQb3B1cChwb3B1cF8zZjc5NjA4ZGIxMzA0MjA2YjRkNGU3NDI2ZWFiMGYyOCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8yYjgxYzFhMTkwM2Q0NDY4YjZmMTM3NmZkNGJjMTkwMiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY1NzE2MTgsLTc5LjM3ODkzNzA5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2UwZDJiZjMyMzhiYzRhMTA4Y2Q5NTk4MmUwZTM3OGY0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzlmMGQxZTE0NThkMjQ2YzQ4YWI4M2EzZDU2YjU3ZTYxID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzJmYzBmODcyNmQzNDRkOTFhYjJhNTU4NTk1YTgxZGFmID0gJCgnPGRpdiBpZD0iaHRtbF8yZmMwZjg3MjZkMzQ0ZDkxYWIyYTU1ODU5NWE4MWRhZiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+UnllcnNvbiwgR2FyZGVuIERpc3RyaWN0LCBEb3dudG93biBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF85ZjBkMWUxNDU4ZDI0NmM0OGFiODNhM2Q1NmI1N2U2MS5zZXRDb250ZW50KGh0bWxfMmZjMGY4NzI2ZDM0NGQ5MWFiMmE1NTg1OTVhODFkYWYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMmI4MWMxYTE5MDNkNDQ2OGI2ZjEzNzZmZDRiYzE5MDIuYmluZFBvcHVwKHBvcHVwXzlmMGQxZTE0NThkMjQ2YzQ4YWI4M2EzZDU2YjU3ZTYxKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzU5ZDczNzQxYjA0NjQzZDc5NjA1ZWVkMWIxNjljOWIwID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzA5NTc3LC03OS40NDUwNzI1OTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMGQyYmYzMjM4YmM0YTEwOGNkOTU5ODJlMGUzNzhmNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF83ZmM2YTRjZjE1ZDU0NzViODEwZGFkYjkwNTc1MTQxZSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9hMTllNzUxYTFjOWU0YTNmYjJiNDQ2YjVmZWI4NGZkNiA9ICQoJzxkaXYgaWQ9Imh0bWxfYTE5ZTc1MWExYzllNGEzZmIyYjQ0NmI1ZmViODRmZDYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkdsZW5jYWlybiwgTm9ydGggWW9yazwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfN2ZjNmE0Y2YxNWQ1NDc1YjgxMGRhZGI5MDU3NTE0MWUuc2V0Q29udGVudChodG1sX2ExOWU3NTFhMWM5ZTRhM2ZiMmI0NDZiNWZlYjg0ZmQ2KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzU5ZDczNzQxYjA0NjQzZDc5NjA1ZWVkMWIxNjljOWIwLmJpbmRQb3B1cChwb3B1cF83ZmM2YTRjZjE1ZDU0NzViODEwZGFkYjkwNTc1MTQxZSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8yYjZjYmQyZmM0MDA0NWFmOTkxNDhkYTMwMzBiMTc3MCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY1MDk0MzIsLTc5LjU1NDcyNDQwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2UwZDJiZjMyMzhiYzRhMTA4Y2Q5NTk4MmUwZTM3OGY0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2M4ZTZmMWI3NTQ1NzRkNDg4MzQ0YWIwMzg3OGE2ZDJkID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2RkYWNhYjZhZGY1ZDRiYTE4ZGE1NWYzM2M2ZjliMmZmID0gJCgnPGRpdiBpZD0iaHRtbF9kZGFjYWI2YWRmNWQ0YmExOGRhNTVmMzNjNmY5YjJmZiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2xvdmVyZGFsZSwgSXNsaW5ndG9uLCBNYXJ0aW4gR3JvdmUsIFByaW5jZXNzIEdhcmRlbnMsIFdlc3QgRGVhbmUgUGFyaywgRXRvYmljb2tlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9jOGU2ZjFiNzU0NTc0ZDQ4ODM0NGFiMDM4NzhhNmQyZC5zZXRDb250ZW50KGh0bWxfZGRhY2FiNmFkZjVkNGJhMThkYTU1ZjMzYzZmOWIyZmYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMmI2Y2JkMmZjNDAwNDVhZjk5MTQ4ZGEzMDMwYjE3NzAuYmluZFBvcHVwKHBvcHVwX2M4ZTZmMWI3NTQ1NzRkNDg4MzQ0YWIwMzg3OGE2ZDJkKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzE1ZjQ2NWJmY2UzYzRjNDJiMjIxNDJhNWRmNzJkODQ3ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzg0NTM1MSwtNzkuMTYwNDk3MDk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZTBkMmJmMzIzOGJjNGExMDhjZDk1OTgyZTBlMzc4ZjQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOWI2MTk4NmQ0NWVlNDdiMGFjZjM5NzIwN2UwODAzZTEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNmMzNjBhNWFlZDM0NGI3ZGExZjVmOGVkNjhjMjEyYzIgPSAkKCc8ZGl2IGlkPSJodG1sXzZjMzYwYTVhZWQzNDRiN2RhMWY1ZjhlZDY4YzIxMmMyIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5IaWdobGFuZCBDcmVlaywgUm91Z2UgSGlsbCwgUG9ydCBVbmlvbiwgU2NhcmJvcm91Z2g8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzliNjE5ODZkNDVlZTQ3YjBhY2YzOTcyMDdlMDgwM2UxLnNldENvbnRlbnQoaHRtbF82YzM2MGE1YWVkMzQ0YjdkYTFmNWY4ZWQ2OGMyMTJjMik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8xNWY0NjViZmNlM2M0YzQyYjIyMTQyYTVkZjcyZDg0Ny5iaW5kUG9wdXAocG9wdXBfOWI2MTk4NmQ0NWVlNDdiMGFjZjM5NzIwN2UwODAzZTEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMzg1YzJiZjNiNTI4NGQxYmEzNzQ4ZjI2ZWZjMTNlMWMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MjU4OTk3MDAwMDAwMSwtNzkuMzQwOTIzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2UwZDJiZjMyMzhiYzRhMTA4Y2Q5NTk4MmUwZTM3OGY0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzkyMGYzYjE4NjkzNDRjNWU4ZjIxZjgyZjYxNjk0NDEwID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzdiMzRjNmU4ZDg1NDRhOWNhMzg4MTZkNWRjMWRhNzgwID0gJCgnPGRpdiBpZD0iaHRtbF83YjM0YzZlOGQ4NTQ0YTljYTM4ODE2ZDVkYzFkYTc4MCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RmxlbWluZ2RvbiBQYXJrLCBEb24gTWlsbHMgU291dGgsIE5vcnRoIFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzkyMGYzYjE4NjkzNDRjNWU4ZjIxZjgyZjYxNjk0NDEwLnNldENvbnRlbnQoaHRtbF83YjM0YzZlOGQ4NTQ0YTljYTM4ODE2ZDVkYzFkYTc4MCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8zODVjMmJmM2I1Mjg0ZDFiYTM3NDhmMjZlZmMxM2UxYy5iaW5kUG9wdXAocG9wdXBfOTIwZjNiMTg2OTM0NGM1ZThmMjFmODJmNjE2OTQ0MTApOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfN2EyYWVhYTgzNTljNGZkYThiODhiOTgyZGYwNmNmNjIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42OTUzNDM5MDAwMDAwMDUsLTc5LjMxODM4ODddLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZTBkMmJmMzIzOGJjNGExMDhjZDk1OTgyZTBlMzc4ZjQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZmFhZWFhM2ZlYTMwNDU4MThmY2NlZDVmOTQxMWNjNjMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMWU5ZDBlYWYyZjNhNGYzNWFkMTQ1NWFlOGY4OWY0OGYgPSAkKCc8ZGl2IGlkPSJodG1sXzFlOWQwZWFmMmYzYTRmMzVhZDE0NTVhZThmODlmNDhmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Xb29kYmluZSBIZWlnaHRzLCBFYXN0IFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2ZhYWVhYTNmZWEzMDQ1ODE4ZmNjZWQ1Zjk0MTFjYzYzLnNldENvbnRlbnQoaHRtbF8xZTlkMGVhZjJmM2E0ZjM1YWQxNDU1YWU4Zjg5ZjQ4Zik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl83YTJhZWFhODM1OWM0ZmRhOGI4OGI5ODJkZjA2Y2Y2Mi5iaW5kUG9wdXAocG9wdXBfZmFhZWFhM2ZlYTMwNDU4MThmY2NlZDVmOTQxMWNjNjMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMTYzN2IwZmM1ZjM5NGE1MmI2Y2E5MzE1NmU4MjY5M2UgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NTE0OTM5LC03OS4zNzU0MTc5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2UwZDJiZjMyMzhiYzRhMTA4Y2Q5NTk4MmUwZTM3OGY0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzE1NWIwOWVhMzJjMzRkMDdhNDlkMTc3NzIwMDZkMWVjID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzE2YWQ3NjEwOGQ3MTQyN2E5ZjIwMzNiZjgwNWYzY2IyID0gJCgnPGRpdiBpZD0iaHRtbF8xNmFkNzYxMDhkNzE0MjdhOWYyMDMzYmY4MDVmM2NiMiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+U3QuIEphbWVzIFRvd24sIERvd250b3duIFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzE1NWIwOWVhMzJjMzRkMDdhNDlkMTc3NzIwMDZkMWVjLnNldENvbnRlbnQoaHRtbF8xNmFkNzYxMDhkNzE0MjdhOWYyMDMzYmY4MDVmM2NiMik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8xNjM3YjBmYzVmMzk0YTUyYjZjYTkzMTU2ZTgyNjkzZS5iaW5kUG9wdXAocG9wdXBfMTU1YjA5ZWEzMmMzNGQwN2E0OWQxNzc3MjAwNmQxZWMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMWIyYmUzNGY5Y2YyNDA4NWE0NzM4ZmI5MTk5NTZlMDggPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42OTM3ODEzLC03OS40MjgxOTE0MDAwMDAwMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMGQyYmYzMjM4YmM0YTEwOGNkOTU5ODJlMGUzNzhmNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF81NjU5MTU4YmNkNWM0ODVhODI4YjI2OTFmYWQxZmI4MiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF82MDJjZjJlZGEzMmM0M2Q4OWVhZTgxMTdkZTQ5NjA4MCA9ICQoJzxkaXYgaWQ9Imh0bWxfNjAyY2YyZWRhMzJjNDNkODllYWU4MTE3ZGU0OTYwODAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkh1bWV3b29kLUNlZGFydmFsZSwgWW9yazwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNTY1OTE1OGJjZDVjNDg1YTgyOGIyNjkxZmFkMWZiODIuc2V0Q29udGVudChodG1sXzYwMmNmMmVkYTMyYzQzZDg5ZWFlODExN2RlNDk2MDgwKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzFiMmJlMzRmOWNmMjQwODVhNDczOGZiOTE5OTU2ZTA4LmJpbmRQb3B1cChwb3B1cF81NjU5MTU4YmNkNWM0ODVhODI4YjI2OTFmYWQxZmI4Mik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl80NDU4MWFmMDM2MzI0YTc2OGU0YWJkODc1Y2ZlYjJiNSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY0MzUxNTIsLTc5LjU3NzIwMDc5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2UwZDJiZjMyMzhiYzRhMTA4Y2Q5NTk4MmUwZTM3OGY0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzQ3MDFiMDVlNWIxOTRkNWI5MzE5MjgwZTU0YmQ4YjFkID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2ZmNmY5NmE4YjA4YjQ3NWRhYjg0NDZhMzgzMjUzN2VjID0gJCgnPGRpdiBpZD0iaHRtbF9mZjZmOTZhOGIwOGI0NzVkYWI4NDQ2YTM4MzI1MzdlYyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Qmxvb3JkYWxlIEdhcmRlbnMsIEVyaW5nYXRlLCBNYXJrbGFuZCBXb29kLCBPbGQgQnVybmhhbXRob3JwZSwgRXRvYmljb2tlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF80NzAxYjA1ZTViMTk0ZDViOTMxOTI4MGU1NGJkOGIxZC5zZXRDb250ZW50KGh0bWxfZmY2Zjk2YThiMDhiNDc1ZGFiODQ0NmEzODMyNTM3ZWMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNDQ1ODFhZjAzNjMyNGE3NjhlNGFiZDg3NWNmZWIyYjUuYmluZFBvcHVwKHBvcHVwXzQ3MDFiMDVlNWIxOTRkNWI5MzE5MjgwZTU0YmQ4YjFkKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2I5ZThiNTc0MjQ5NTQ4MDQ5YzQxYTVhZmI4MjZjMTEzID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzYzNTcyNiwtNzkuMTg4NzExNV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMGQyYmYzMjM4YmM0YTEwOGNkOTU5ODJlMGUzNzhmNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8wNmFkMjZlZjdhNWI0YzdhYTg4ZTZhN2RkOTBhOWIxNiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8wMTVmMGQwZDQ1OGU0NTllODJmYTAyNjBmMDc0NWQxMSA9ICQoJzxkaXYgaWQ9Imh0bWxfMDE1ZjBkMGQ0NThlNDU5ZTgyZmEwMjYwZjA3NDVkMTEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkd1aWxkd29vZCwgTW9ybmluZ3NpZGUsIFdlc3QgSGlsbCwgU2NhcmJvcm91Z2g8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzA2YWQyNmVmN2E1YjRjN2FhODhlNmE3ZGQ5MGE5YjE2LnNldENvbnRlbnQoaHRtbF8wMTVmMGQwZDQ1OGU0NTllODJmYTAyNjBmMDc0NWQxMSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9iOWU4YjU3NDI0OTU0ODA0OWM0MWE1YWZiODI2YzExMy5iaW5kUG9wdXAocG9wdXBfMDZhZDI2ZWY3YTViNGM3YWE4OGU2YTdkZDkwYTliMTYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZjQwOTZjZWY2ODZmNGUxMTk1OWI2ZjAwZWI4ZGE3N2UgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NzYzNTczOTk5OTk5OSwtNzkuMjkzMDMxMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMGQyYmYzMjM4YmM0YTEwOGNkOTU5ODJlMGUzNzhmNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8yZGQwOTJkMTgxY2U0MjQ2ODg0ZDljYjUwZDA1MWJjOCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8xMGRmZDUyNzMzODM0OWY3ODgxZWMyYTI5ZjJjZjA3YSA9ICQoJzxkaXYgaWQ9Imh0bWxfMTBkZmQ1MjczMzgzNDlmNzg4MWVjMmEyOWYyY2YwN2EiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlRoZSBCZWFjaGVzLCBFYXN0IFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzJkZDA5MmQxODFjZTQyNDY4ODRkOWNiNTBkMDUxYmM4LnNldENvbnRlbnQoaHRtbF8xMGRmZDUyNzMzODM0OWY3ODgxZWMyYTI5ZjJjZjA3YSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9mNDA5NmNlZjY4NmY0ZTExOTU5YjZmMDBlYjhkYTc3ZS5iaW5kUG9wdXAocG9wdXBfMmRkMDkyZDE4MWNlNDI0Njg4NGQ5Y2I1MGQwNTFiYzgpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYmY2NDgxNjBkNGY0NDUyOTg3YjgwYjFkMjQwYTZjYWMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NDQ3NzA3OTk5OTk5OTYsLTc5LjM3MzMwNjRdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZTBkMmJmMzIzOGJjNGExMDhjZDk1OTgyZTBlMzc4ZjQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOWEyYTA1NjkyOTM0NDE5NDk3ZTRjZmU1NGY4MWFmNDQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMDYzNWQ3NDc2NjdmNGVkY2FjMmFjZGQ1YmUwYzI1MzAgPSAkKCc8ZGl2IGlkPSJodG1sXzA2MzVkNzQ3NjY3ZjRlZGNhYzJhY2RkNWJlMGMyNTMwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5CZXJjenkgUGFyaywgRG93bnRvd24gVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOWEyYTA1NjkyOTM0NDE5NDk3ZTRjZmU1NGY4MWFmNDQuc2V0Q29udGVudChodG1sXzA2MzVkNzQ3NjY3ZjRlZGNhYzJhY2RkNWJlMGMyNTMwKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2JmNjQ4MTYwZDRmNDQ1Mjk4N2I4MGIxZDI0MGE2Y2FjLmJpbmRQb3B1cChwb3B1cF85YTJhMDU2OTI5MzQ0MTk0OTdlNGNmZTU0ZjgxYWY0NCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl82YjdhNmNiMjllNGU0ZWExOWUwZDY1ZTlmNjQ0N2ViMSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY4OTAyNTYsLTc5LjQ1MzUxMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMGQyYmYzMjM4YmM0YTEwOGNkOTU5ODJlMGUzNzhmNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF80MzMwM2ZlMzhkYWE0NWQxODRiMDE5NjQ0MjYxZjJiYSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9hODFkZDRiZjU5Yjc0NDIyOGMzMTlhODg1NmQ0MzM3ZCA9ICQoJzxkaXYgaWQ9Imh0bWxfYTgxZGQ0YmY1OWI3NDQyMjhjMzE5YTg4NTZkNDMzN2QiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNhbGVkb25pYS1GYWlyYmFua3MsIFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzQzMzAzZmUzOGRhYTQ1ZDE4NGIwMTk2NDQyNjFmMmJhLnNldENvbnRlbnQoaHRtbF9hODFkZDRiZjU5Yjc0NDIyOGMzMTlhODg1NmQ0MzM3ZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl82YjdhNmNiMjllNGU0ZWExOWUwZDY1ZTlmNjQ0N2ViMS5iaW5kUG9wdXAocG9wdXBfNDMzMDNmZTM4ZGFhNDVkMTg0YjAxOTY0NDI2MWYyYmEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNWI4YzkwMGY5NzA0NDg2YTkwMzBhZmQyOTNiNWZjNmYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NzA5OTIxLC03OS4yMTY5MTc0MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMGQyYmYzMjM4YmM0YTEwOGNkOTU5ODJlMGUzNzhmNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8wZTc3ZTZjNTJhOWU0OGU2OGIwZjhlZjVmZTc4ZDVhMSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8wYjI4ZTY4MWU5ZmY0NTAzOGMzYzA2NGQ2ZTk3NjUzNiA9ICQoJzxkaXYgaWQ9Imh0bWxfMGIyOGU2ODFlOWZmNDUwMzhjM2MwNjRkNmU5NzY1MzYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPldvYnVybiwgU2NhcmJvcm91Z2g8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzBlNzdlNmM1MmE5ZTQ4ZTY4YjBmOGVmNWZlNzhkNWExLnNldENvbnRlbnQoaHRtbF8wYjI4ZTY4MWU5ZmY0NTAzOGMzYzA2NGQ2ZTk3NjUzNik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl81YjhjOTAwZjk3MDQ0ODZhOTAzMGFmZDI5M2I1ZmM2Zi5iaW5kUG9wdXAocG9wdXBfMGU3N2U2YzUyYTllNDhlNjhiMGY4ZWY1ZmU3OGQ1YTEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMjU5ODE4NmVhNTY3NDc5NDhiNmM4ZTM2YmNkZTUxODYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MDkwNjA0LC03OS4zNjM0NTE3XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2UwZDJiZjMyMzhiYzRhMTA4Y2Q5NTk4MmUwZTM3OGY0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzgwMmZjNDU3ZTAzMDQ0NzJhY2MzYzdiNGU4MmFlMzY4ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzgxY2JlMzg2NTc3MTQzYWZhZmRkMmFjMTRlY2EzYzdhID0gJCgnPGRpdiBpZD0iaHRtbF84MWNiZTM4NjU3NzE0M2FmYWZkZDJhYzE0ZWNhM2M3YSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+TGVhc2lkZSwgRWFzdCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF84MDJmYzQ1N2UwMzA0NDcyYWNjM2M3YjRlODJhZTM2OC5zZXRDb250ZW50KGh0bWxfODFjYmUzODY1NzcxNDNhZmFmZGQyYWMxNGVjYTNjN2EpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMjU5ODE4NmVhNTY3NDc5NDhiNmM4ZTM2YmNkZTUxODYuYmluZFBvcHVwKHBvcHVwXzgwMmZjNDU3ZTAzMDQ0NzJhY2MzYzdiNGU4MmFlMzY4KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2ViNTJiZTk0ODJhMTQwN2Y4NGVjZWRiNTc0OGRlNmQ4ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjU3OTUyNCwtNzkuMzg3MzgyNl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMGQyYmYzMjM4YmM0YTEwOGNkOTU5ODJlMGUzNzhmNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8xNDk0MzZkMzcyNmY0OWZiODhmYTg3NTg1ZGYyNjkwMSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF82OTRiOTM1OGI1OTg0NWVmYWVmNTQ3YmM0YjczNGIxMiA9ICQoJzxkaXYgaWQ9Imh0bWxfNjk0YjkzNThiNTk4NDVlZmFlZjU0N2JjNGI3MzRiMTIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNlbnRyYWwgQmF5IFN0cmVldCwgRG93bnRvd24gVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMTQ5NDM2ZDM3MjZmNDlmYjg4ZmE4NzU4NWRmMjY5MDEuc2V0Q29udGVudChodG1sXzY5NGI5MzU4YjU5ODQ1ZWZhZWY1NDdiYzRiNzM0YjEyKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2ViNTJiZTk0ODJhMTQwN2Y4NGVjZWRiNTc0OGRlNmQ4LmJpbmRQb3B1cChwb3B1cF8xNDk0MzZkMzcyNmY0OWZiODhmYTg3NTg1ZGYyNjkwMSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl85Mzc5ZDg2ZDMwMzE0Y2E4YWEwNTJmMmE3ZTFhMTJkZiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY2OTU0MiwtNzkuNDIyNTYzN10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMGQyYmYzMjM4YmM0YTEwOGNkOTU5ODJlMGUzNzhmNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF84ZTYwZWMxNTNjMTQ0NTNlYmNhZTJlZDNmYWNkNWE4OSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF84ZGYxZDQ3MTg0OTc0MmJhOTA0NTU0NjAwMGY5NTIwNyA9ICQoJzxkaXYgaWQ9Imh0bWxfOGRmMWQ0NzE4NDk3NDJiYTkwNDU1NDYwMDBmOTUyMDciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNocmlzdGllLCBEb3dudG93biBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF84ZTYwZWMxNTNjMTQ0NTNlYmNhZTJlZDNmYWNkNWE4OS5zZXRDb250ZW50KGh0bWxfOGRmMWQ0NzE4NDk3NDJiYTkwNDU1NDYwMDBmOTUyMDcpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfOTM3OWQ4NmQzMDMxNGNhOGFhMDUyZjJhN2UxYTEyZGYuYmluZFBvcHVwKHBvcHVwXzhlNjBlYzE1M2MxNDQ1M2ViY2FlMmVkM2ZhY2Q1YTg5KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2Q4ZjY0ZGNmOTdjNjRkMGQ5NzhjYjU2NjIzN2Q2ZDg0ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzczMTM2LC03OS4yMzk0NzYwOTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMGQyYmYzMjM4YmM0YTEwOGNkOTU5ODJlMGUzNzhmNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF80YjA0MzE4YjBhNzk0NmNhYTU2YmI0N2U5MGVkMzU0NCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8zYWE2YTE1MWUwMzE0ZmJlYjAyY2QxMDZiMWM3MjJlYSA9ICQoJzxkaXYgaWQ9Imh0bWxfM2FhNmExNTFlMDMxNGZiZWIwMmNkMTA2YjFjNzIyZWEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNlZGFyYnJhZSwgU2NhcmJvcm91Z2g8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzRiMDQzMThiMGE3OTQ2Y2FhNTZiYjQ3ZTkwZWQzNTQ0LnNldENvbnRlbnQoaHRtbF8zYWE2YTE1MWUwMzE0ZmJlYjAyY2QxMDZiMWM3MjJlYSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9kOGY2NGRjZjk3YzY0ZDBkOTc4Y2I1NjYyMzdkNmQ4NC5iaW5kUG9wdXAocG9wdXBfNGIwNDMxOGIwYTc5NDZjYWE1NmJiNDdlOTBlZDM1NDQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfM2I5MjcyMjIwYzMwNDk4ZWJiZDk2MzU5MzJjZTU1MGYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My44MDM3NjIyLC03OS4zNjM0NTE3XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2UwZDJiZjMyMzhiYzRhMTA4Y2Q5NTk4MmUwZTM3OGY0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2MzZGQxNDIzY2Q3ZTQ1NGFiZGMxOWEwNDQ1ZmEzNDE2ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzI1ODQ3MzAwMDRmYTQ0YjdhNThkNGIzNTc0Zjc1OWM2ID0gJCgnPGRpdiBpZD0iaHRtbF8yNTg0NzMwMDA0ZmE0NGI3YTU4ZDRiMzU3NGY3NTljNiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+SGlsbGNyZXN0IFZpbGxhZ2UsIE5vcnRoIFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2MzZGQxNDIzY2Q3ZTQ1NGFiZGMxOWEwNDQ1ZmEzNDE2LnNldENvbnRlbnQoaHRtbF8yNTg0NzMwMDA0ZmE0NGI3YTU4ZDRiMzU3NGY3NTljNik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8zYjkyNzIyMjBjMzA0OThlYmJkOTYzNTkzMmNlNTUwZi5iaW5kUG9wdXAocG9wdXBfYzNkZDE0MjNjZDdlNDU0YWJkYzE5YTA0NDVmYTM0MTYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOTQwMDRhMDgwNWQ0NDdhYmEwYWJmOTBkNjFhOGFkNTUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NTQzMjgzLC03OS40NDIyNTkzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2UwZDJiZjMyMzhiYzRhMTA4Y2Q5NTk4MmUwZTM3OGY0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2QzOTc4MGFhNTMwNjQxZGZiZDc1Njk4MDcxODM0NThmID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2M5Njk0NDI4MzZmNjRlYzM4Yjk4ZjVhN2IxMTU2NWYxID0gJCgnPGRpdiBpZD0iaHRtbF9jOTY5NDQyODM2ZjY0ZWMzOGI5OGY1YTdiMTE1NjVmMSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QmF0aHVyc3QgTWFub3IsIERvd25zdmlldyBOb3J0aCwgV2lsc29uIEhlaWdodHMsIE5vcnRoIFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2QzOTc4MGFhNTMwNjQxZGZiZDc1Njk4MDcxODM0NThmLnNldENvbnRlbnQoaHRtbF9jOTY5NDQyODM2ZjY0ZWMzOGI5OGY1YTdiMTE1NjVmMSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl85NDAwNGEwODA1ZDQ0N2FiYTBhYmY5MGQ2MWE4YWQ1NS5iaW5kUG9wdXAocG9wdXBfZDM5NzgwYWE1MzA2NDFkZmJkNzU2OTgwNzE4MzQ1OGYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfODM0MGFkOGNmY2U2NDEyYmJkMGE1YmZjZTk3NTY3NDUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MDUzNjg5LC03OS4zNDkzNzE5MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMGQyYmYzMjM4YmM0YTEwOGNkOTU5ODJlMGUzNzhmNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF81MDM5ODk1ZmQxZTU0NGViYmE3OTQzZDVlMTExNGI2YyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9iNGQwZDQ2ZGY3MzE0MzliOTUzNzk1MmQ4MDRlM2IyNSA9ICQoJzxkaXYgaWQ9Imh0bWxfYjRkMGQ0NmRmNzMxNDM5Yjk1Mzc5NTJkODA0ZTNiMjUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlRob3JuY2xpZmZlIFBhcmssIEVhc3QgWW9yazwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNTAzOTg5NWZkMWU1NDRlYmJhNzk0M2Q1ZTExMTRiNmMuc2V0Q29udGVudChodG1sX2I0ZDBkNDZkZjczMTQzOWI5NTM3OTUyZDgwNGUzYjI1KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzgzNDBhZDhjZmNlNjQxMmJiZDBhNWJmY2U5NzU2NzQ1LmJpbmRQb3B1cChwb3B1cF81MDM5ODk1ZmQxZTU0NGViYmE3OTQzZDVlMTExNGI2Yyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl83NzYyMTU2MDQzZjI0ZDNkYmFjYTE2OWU1MWI3NmNlNCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY1MDU3MTIwMDAwMDAxLC03OS4zODQ1Njc1XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2UwZDJiZjMyMzhiYzRhMTA4Y2Q5NTk4MmUwZTM3OGY0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2I1N2QyMjNjOTUzZjRmNDA5Nzk1Mzk5ZTYxMTdlM2ZkID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2IyYmE5MzU5N2E3MTRlZWM4YzY5NmM4M2NhM2MzN2I2ID0gJCgnPGRpdiBpZD0iaHRtbF9iMmJhOTM1OTdhNzE0ZWVjOGM2OTZjODNjYTNjMzdiNiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QWRlbGFpZGUsIEtpbmcsIFJpY2htb25kLCBEb3dudG93biBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9iNTdkMjIzYzk1M2Y0ZjQwOTc5NTM5OWU2MTE3ZTNmZC5zZXRDb250ZW50KGh0bWxfYjJiYTkzNTk3YTcxNGVlYzhjNjk2YzgzY2EzYzM3YjYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNzc2MjE1NjA0M2YyNGQzZGJhY2ExNjllNTFiNzZjZTQuYmluZFBvcHVwKHBvcHVwX2I1N2QyMjNjOTUzZjRmNDA5Nzk1Mzk5ZTYxMTdlM2ZkKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzllY2EzOGZlNGZlNTQ0ZmM5YWJiZjZhMjMxYWIyZGFkID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjY5MDA1MTAwMDAwMDEsLTc5LjQ0MjI1OTNdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZTBkMmJmMzIzOGJjNGExMDhjZDk1OTgyZTBlMzc4ZjQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNDVmMzM1YTdmMzk4NDczZDg3ODczMmQxMDI4MzEzZjIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZmJhZTNlMjA4MjFhNGNhNmJiZTUyMGM1ODY0MThlNjEgPSAkKCc8ZGl2IGlkPSJodG1sX2ZiYWUzZTIwODIxYTRjYTZiYmU1MjBjNTg2NDE4ZTYxIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Eb3ZlcmNvdXJ0IFZpbGxhZ2UsIER1ZmZlcmluLCBXZXN0IFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzQ1ZjMzNWE3ZjM5ODQ3M2Q4Nzg3MzJkMTAyODMxM2YyLnNldENvbnRlbnQoaHRtbF9mYmFlM2UyMDgyMWE0Y2E2YmJlNTIwYzU4NjQxOGU2MSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl85ZWNhMzhmZTRmZTU0NGZjOWFiYmY2YTIzMWFiMmRhZC5iaW5kUG9wdXAocG9wdXBfNDVmMzM1YTdmMzk4NDczZDg3ODczMmQxMDI4MzEzZjIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMzEwY2I3OTA4NGQ4NGY4M2E2YzdiMmY4MmZmZWJiZTkgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NDQ3MzQyLC03OS4yMzk0NzYwOTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMGQyYmYzMjM4YmM0YTEwOGNkOTU5ODJlMGUzNzhmNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9mMmU3MGMxZjMzNmM0N2VkOWI3YzM0OGQ4M2VhNzk4MyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF83YWQzNWQ0YjYyMjA0Y2UwODBjOWU5ZDk3NDRiNDA3YiA9ICQoJzxkaXYgaWQ9Imh0bWxfN2FkMzVkNGI2MjIwNGNlMDgwYzllOWQ5NzQ0YjQwN2IiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlNjYXJib3JvdWdoIFZpbGxhZ2UsIFNjYXJib3JvdWdoPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9mMmU3MGMxZjMzNmM0N2VkOWI3YzM0OGQ4M2VhNzk4My5zZXRDb250ZW50KGh0bWxfN2FkMzVkNGI2MjIwNGNlMDgwYzllOWQ5NzQ0YjQwN2IpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMzEwY2I3OTA4NGQ4NGY4M2E2YzdiMmY4MmZmZWJiZTkuYmluZFBvcHVwKHBvcHVwX2YyZTcwYzFmMzM2YzQ3ZWQ5YjdjMzQ4ZDgzZWE3OTgzKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2Q5MTU5OWIyNzY5YTQ3Yzk5ZDQ4MTUzYTY0YWM3OWViID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzc4NTE3NSwtNzkuMzQ2NTU1N10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMGQyYmYzMjM4YmM0YTEwOGNkOTU5ODJlMGUzNzhmNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8wMWYyOGI3NWM3MTk0Y2ZlYTA5OTY0MTcxMGE0OTk3YyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9lNzNkNDczYzk4ODk0NDIyYjRlMDU1OTk2MzU0YjYxYyA9ICQoJzxkaXYgaWQ9Imh0bWxfZTczZDQ3M2M5ODg5NDQyMmI0ZTA1NTk5NjM1NGI2MWMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkZhaXJ2aWV3LCBIZW5yeSBGYXJtLCBPcmlvbGUsIE5vcnRoIFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzAxZjI4Yjc1YzcxOTRjZmVhMDk5NjQxNzEwYTQ5OTdjLnNldENvbnRlbnQoaHRtbF9lNzNkNDczYzk4ODk0NDIyYjRlMDU1OTk2MzU0YjYxYyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9kOTE1OTliMjc2OWE0N2M5OWQ0ODE1M2E2NGFjNzllYi5iaW5kUG9wdXAocG9wdXBfMDFmMjhiNzVjNzE5NGNmZWEwOTk2NDE3MTBhNDk5N2MpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZGEzMTNjZWYyNmRlNDExZTk5YmIwY2I0YjUyZTc3MzkgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43Njc5ODAzLC03OS40ODcyNjE5MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMGQyYmYzMjM4YmM0YTEwOGNkOTU5ODJlMGUzNzhmNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9mYzZkZDhjMDFjNDI0ZTE1OWFhNTBjNWUzMjc1ZTIxMyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF83Nzg4MDcxOTllZTk0OWExYmRlYTQxOTgzNzIxNzE2YyA9ICQoJzxkaXYgaWQ9Imh0bWxfNzc4ODA3MTk5ZWU5NDlhMWJkZWE0MTk4MzcyMTcxNmMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPk5vcnRod29vZCBQYXJrLCBZb3JrIFVuaXZlcnNpdHksIE5vcnRoIFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2ZjNmRkOGMwMWM0MjRlMTU5YWE1MGM1ZTMyNzVlMjEzLnNldENvbnRlbnQoaHRtbF83Nzg4MDcxOTllZTk0OWExYmRlYTQxOTgzNzIxNzE2Yyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9kYTMxM2NlZjI2ZGU0MTFlOTliYjBjYjRiNTJlNzczOS5iaW5kUG9wdXAocG9wdXBfZmM2ZGQ4YzAxYzQyNGUxNTlhYTUwYzVlMzI3NWUyMTMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMjc0NDdkMWU2MGVlNDAwMWE0MDdmZDUzZDdkNzNiMmUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42ODUzNDcsLTc5LjMzODEwNjVdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZTBkMmJmMzIzOGJjNGExMDhjZDk1OTgyZTBlMzc4ZjQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZDM5MTIyZTIzNTEzNGZkY2JjODBmNzZmMTlhYmVlYmYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNzNlMGI0OGM4MzBhNDIyYWFlNWUzN2I1YmNlNDM4MmMgPSAkKCc8ZGl2IGlkPSJodG1sXzczZTBiNDhjODMwYTQyMmFhZTVlMzdiNWJjZTQzODJjIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5FYXN0IFRvcm9udG8sIEVhc3QgWW9yazwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZDM5MTIyZTIzNTEzNGZkY2JjODBmNzZmMTlhYmVlYmYuc2V0Q29udGVudChodG1sXzczZTBiNDhjODMwYTQyMmFhZTVlMzdiNWJjZTQzODJjKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzI3NDQ3ZDFlNjBlZTQwMDFhNDA3ZmQ1M2Q3ZDczYjJlLmJpbmRQb3B1cChwb3B1cF9kMzkxMjJlMjM1MTM0ZmRjYmM4MGY3NmYxOWFiZWViZik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8zZGQwYThkYTEyODg0OGNmOTk1MzkyNTE2NWFjZDE0NiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY0MDgxNTcsLTc5LjM4MTc1MjI5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2UwZDJiZjMyMzhiYzRhMTA4Y2Q5NTk4MmUwZTM3OGY0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2I2NjZhZmQ2YmEyNDRkZmU4N2UzYjI3ZDUwYTNkNTlhID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzIzNDQ0NDI4NWM4ZTQ4M2RhZDI5OTk2ODE3OTcyY2ZjID0gJCgnPGRpdiBpZD0iaHRtbF8yMzQ0NDQyODVjOGU0ODNkYWQyOTk5NjgxNzk3MmNmYyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+SGFyYm91cmZyb250IEVhc3QsIFRvcm9udG8gSXNsYW5kcywgVW5pb24gU3RhdGlvbiwgRG93bnRvd24gVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYjY2NmFmZDZiYTI0NGRmZTg3ZTNiMjdkNTBhM2Q1OWEuc2V0Q29udGVudChodG1sXzIzNDQ0NDI4NWM4ZTQ4M2RhZDI5OTk2ODE3OTcyY2ZjKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzNkZDBhOGRhMTI4ODQ4Y2Y5OTUzOTI1MTY1YWNkMTQ2LmJpbmRQb3B1cChwb3B1cF9iNjY2YWZkNmJhMjQ0ZGZlODdlM2IyN2Q1MGEzZDU5YSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8zYTA4NzBjYjk0NjA0NDcwODJlNzU3ODViMGNmOGM5MSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY0NzkyNjcwMDAwMDAwNiwtNzkuNDE5NzQ5N10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMGQyYmYzMjM4YmM0YTEwOGNkOTU5ODJlMGUzNzhmNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF85NjU5NzhjMDc2ZTg0ZmFmOWNhZDU2NTA4NDU3ZjljOSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9lZjdhNzlmMTNhNmY0NDc5YjkzMzdjMWEzZDI1OGVlNCA9ICQoJzxkaXYgaWQ9Imh0bWxfZWY3YTc5ZjEzYTZmNDQ3OWI5MzM3YzFhM2QyNThlZTQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkxpdHRsZSBQb3J0dWdhbCwgVHJpbml0eSwgV2VzdCBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF85NjU5NzhjMDc2ZTg0ZmFmOWNhZDU2NTA4NDU3ZjljOS5zZXRDb250ZW50KGh0bWxfZWY3YTc5ZjEzYTZmNDQ3OWI5MzM3YzFhM2QyNThlZTQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfM2EwODcwY2I5NDYwNDQ3MDgyZTc1Nzg1YjBjZjhjOTEuYmluZFBvcHVwKHBvcHVwXzk2NTk3OGMwNzZlODRmYWY5Y2FkNTY1MDg0NTdmOWM5KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzYwOGUzOTJhY2Q4MzQwYmY4NWJhZjE5NjIyNTE3ODFiID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzI3OTI5MiwtNzkuMjYyMDI5NDAwMDAwMDJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZTBkMmJmMzIzOGJjNGExMDhjZDk1OTgyZTBlMzc4ZjQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNmY0NzMzNGJhYTcxNGZkYzljYjgyNWFlYTgzY2U5NjggPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNDNmNjIwZDFlOGJmNDU3OGJkNDI5YWMyNTgwM2U5OWMgPSAkKCc8ZGl2IGlkPSJodG1sXzQzZjYyMGQxZThiZjQ1NzhiZDQyOWFjMjU4MDNlOTljIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5FYXN0IEJpcmNobW91bnQgUGFyaywgSW9udmlldywgS2VubmVkeSBQYXJrLCBTY2FyYm9yb3VnaDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNmY0NzMzNGJhYTcxNGZkYzljYjgyNWFlYTgzY2U5Njguc2V0Q29udGVudChodG1sXzQzZjYyMGQxZThiZjQ1NzhiZDQyOWFjMjU4MDNlOTljKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzYwOGUzOTJhY2Q4MzQwYmY4NWJhZjE5NjIyNTE3ODFiLmJpbmRQb3B1cChwb3B1cF82ZjQ3MzM0YmFhNzE0ZmRjOWNiODI1YWVhODNjZTk2OCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl80ZGJkY2E3MjVjODk0MTViYjNjZjQ5NzA0NjIzOTE4YSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc4Njk0NzMsLTc5LjM4NTk3NV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMGQyYmYzMjM4YmM0YTEwOGNkOTU5ODJlMGUzNzhmNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9iNGNjYzdmMTQxZjU0ZTFhYmFjZWExNmQzZDBkNzhkMCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF84YjYzNGE0MmVjZjU0ZjI3YWY2OTEzZTM0YTJlODNlNiA9ICQoJzxkaXYgaWQ9Imh0bWxfOGI2MzRhNDJlY2Y1NGYyN2FmNjkxM2UzNGEyZTgzZTYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkJheXZpZXcgVmlsbGFnZSwgTm9ydGggWW9yazwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYjRjY2M3ZjE0MWY1NGUxYWJhY2VhMTZkM2QwZDc4ZDAuc2V0Q29udGVudChodG1sXzhiNjM0YTQyZWNmNTRmMjdhZjY5MTNlMzRhMmU4M2U2KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzRkYmRjYTcyNWM4OTQxNWJiM2NmNDk3MDQ2MjM5MThhLmJpbmRQb3B1cChwb3B1cF9iNGNjYzdmMTQxZjU0ZTFhYmFjZWExNmQzZDBkNzhkMCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9mY2IwNzI4Mzc1ZTU0NDg3YjUzMGVjMDI2ZDc1ZjNiNiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjczNzQ3MzIwMDAwMDAwNCwtNzkuNDY0NzYzMjk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZTBkMmJmMzIzOGJjNGExMDhjZDk1OTgyZTBlMzc4ZjQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMzNiZDdjMWNhM2E3NGI4MGE0ZGZmYmQzNTNlN2YxODQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMGM2MzA1NDFmYTIxNDUyMGFmZGMyOGJmYTA0ZTc1ZmYgPSAkKCc8ZGl2IGlkPSJodG1sXzBjNjMwNTQxZmEyMTQ1MjBhZmRjMjhiZmEwNGU3NWZmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DRkIgVG9yb250bywgRG93bnN2aWV3IEVhc3QsIE5vcnRoIFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzMzYmQ3YzFjYTNhNzRiODBhNGRmZmJkMzUzZTdmMTg0LnNldENvbnRlbnQoaHRtbF8wYzYzMDU0MWZhMjE0NTIwYWZkYzI4YmZhMDRlNzVmZik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9mY2IwNzI4Mzc1ZTU0NDg3YjUzMGVjMDI2ZDc1ZjNiNi5iaW5kUG9wdXAocG9wdXBfMzNiZDdjMWNhM2E3NGI4MGE0ZGZmYmQzNTNlN2YxODQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMjMzMzFjMDhlODEyNDIzM2FjNzFhMmM4N2RmMGQ0OGMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42Nzk1NTcxLC03OS4zNTIxODhdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZTBkMmJmMzIzOGJjNGExMDhjZDk1OTgyZTBlMzc4ZjQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOTlkMzRlMzA3NzA1NGQ5ZjlkMTM3NjY4MDdlMjY0MTUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMTFiOGM4NTdiNmY1NGU1YmIxNTMzODY3NDNhMmM1MDcgPSAkKCc8ZGl2IGlkPSJodG1sXzExYjhjODU3YjZmNTRlNWJiMTUzMzg2NzQzYTJjNTA3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5UaGUgRGFuZm9ydGggV2VzdCwgUml2ZXJkYWxlLCBFYXN0IFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzk5ZDM0ZTMwNzcwNTRkOWY5ZDEzNzY2ODA3ZTI2NDE1LnNldENvbnRlbnQoaHRtbF8xMWI4Yzg1N2I2ZjU0ZTViYjE1MzM4Njc0M2EyYzUwNyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8yMzMzMWMwOGU4MTI0MjMzYWM3MWEyYzg3ZGYwZDQ4Yy5iaW5kUG9wdXAocG9wdXBfOTlkMzRlMzA3NzA1NGQ5ZjlkMTM3NjY4MDdlMjY0MTUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNmFiMjkwYzY2MTYwNGFhYWIzODY2Y2U1MDA3ZjQ3YTggPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NDcxNzY4LC03OS4zODE1NzY0MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMGQyYmYzMjM4YmM0YTEwOGNkOTU5ODJlMGUzNzhmNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8wMTY5NmQwNTM0YWQ0MTg5YTg1Y2E1YmRlNDFjY2UxNiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF85Mzk4YTMzZTBkZDc0MDIwYjBiNjA0ODdmOTNjZDQ0OCA9ICQoJzxkaXYgaWQ9Imh0bWxfOTM5OGEzM2UwZGQ3NDAyMGIwYjYwNDg3ZjkzY2Q0NDgiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkRlc2lnbiBFeGNoYW5nZSwgVG9yb250byBEb21pbmlvbiBDZW50cmUsIERvd250b3duIFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzAxNjk2ZDA1MzRhZDQxODlhODVjYTViZGU0MWNjZTE2LnNldENvbnRlbnQoaHRtbF85Mzk4YTMzZTBkZDc0MDIwYjBiNjA0ODdmOTNjZDQ0OCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl82YWIyOTBjNjYxNjA0YWFhYjM4NjZjZTUwMDdmNDdhOC5iaW5kUG9wdXAocG9wdXBfMDE2OTZkMDUzNGFkNDE4OWE4NWNhNWJkZTQxY2NlMTYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNGFkZTM2NzY0MjE2NDllZWFjZThiODIxNzdmYjZjY2QgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42MzY4NDcyLC03OS40MjgxOTE0MDAwMDAwMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMGQyYmYzMjM4YmM0YTEwOGNkOTU5ODJlMGUzNzhmNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF84YWFlMWUzODliMTc0YWU5ODYyNjYwODA5ZmUyNzc3MiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8zNWM5ZjI2YzBhODg0MDY2YTkzYzkzMWViYjdmODk2ZiA9ICQoJzxkaXYgaWQ9Imh0bWxfMzVjOWYyNmMwYTg4NDA2NmE5M2M5MzFlYmI3Zjg5NmYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkJyb2NrdG9uLCBFeGhpYml0aW9uIFBsYWNlLCBQYXJrZGFsZSBWaWxsYWdlLCBXZXN0IFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzhhYWUxZTM4OWIxNzRhZTk4NjI2NjA4MDlmZTI3NzcyLnNldENvbnRlbnQoaHRtbF8zNWM5ZjI2YzBhODg0MDY2YTkzYzkzMWViYjdmODk2Zik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl80YWRlMzY3NjQyMTY0OWVlYWNlOGI4MjE3N2ZiNmNjZC5iaW5kUG9wdXAocG9wdXBfOGFhZTFlMzg5YjE3NGFlOTg2MjY2MDgwOWZlMjc3NzIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYTZjNzk5ODViYjUwNDY2M2E3MDg4NzFhOTQxZWVjNzMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MTExMTE3MDAwMDAwMDQsLTc5LjI4NDU3NzJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZTBkMmJmMzIzOGJjNGExMDhjZDk1OTgyZTBlMzc4ZjQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNGZlMTI5MmZjZmRkNGY0MzhjZDM5Zjc5NmRmOGE2OGMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfY2IwODcxMGQwNGIzNDdjY2EzZGFhMmVjOTI4ZmRjMjIgPSAkKCc8ZGl2IGlkPSJodG1sX2NiMDg3MTBkMDRiMzQ3Y2NhM2RhYTJlYzkyOGZkYzIyIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DbGFpcmxlYSwgR29sZGVuIE1pbGUsIE9ha3JpZGdlLCBTY2FyYm9yb3VnaDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNGZlMTI5MmZjZmRkNGY0MzhjZDM5Zjc5NmRmOGE2OGMuc2V0Q29udGVudChodG1sX2NiMDg3MTBkMDRiMzQ3Y2NhM2RhYTJlYzkyOGZkYzIyKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2E2Yzc5OTg1YmI1MDQ2NjNhNzA4ODcxYTk0MWVlYzczLmJpbmRQb3B1cChwb3B1cF80ZmUxMjkyZmNmZGQ0ZjQzOGNkMzlmNzk2ZGY4YTY4Yyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl80Zjk3MTk4ZmIzZWI0Y2JjYWIzYWViMGZiM2FhNjUyMiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc1NzQ5MDIsLTc5LjM3NDcxNDA5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2UwZDJiZjMyMzhiYzRhMTA4Y2Q5NTk4MmUwZTM3OGY0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2ZhMzc2MmJhYThjNjQ0N2Y5ZDZjMTM4MDQwODMwM2RhID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzkxODdhZmY5NWY2NjQ4ZjNhYWVlZmZiZDJkOGE3ZTIxID0gJCgnPGRpdiBpZD0iaHRtbF85MTg3YWZmOTVmNjY0OGYzYWFlZWZmYmQyZDhhN2UyMSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+U2lsdmVyIEhpbGxzLCBZb3JrIE1pbGxzLCBOb3J0aCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9mYTM3NjJiYWE4YzY0NDdmOWQ2YzEzODA0MDgzMDNkYS5zZXRDb250ZW50KGh0bWxfOTE4N2FmZjk1ZjY2NDhmM2FhZWVmZmJkMmQ4YTdlMjEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNGY5NzE5OGZiM2ViNGNiY2FiM2FlYjBmYjNhYTY1MjIuYmluZFBvcHVwKHBvcHVwX2ZhMzc2MmJhYThjNjQ0N2Y5ZDZjMTM4MDQwODMwM2RhKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzc2YTc5ZjE4YjcxMTRlYTFhN2FkZTU5OTYyZWUwOWNiID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzM5MDE0NiwtNzkuNTA2OTQzNl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMGQyYmYzMjM4YmM0YTEwOGNkOTU5ODJlMGUzNzhmNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8xMWJhOWQ3MzBmOWU0MzczODFlZTBmYTA1NWJmMTc4NSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9lOTk1NWU0MWNhZDg0MGMyYjQ3M2I2ZjgyMWQzYTliNyA9ICQoJzxkaXYgaWQ9Imh0bWxfZTk5NTVlNDFjYWQ4NDBjMmI0NzNiNmY4MjFkM2E5YjciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkRvd25zdmlldyBXZXN0LCBOb3J0aCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8xMWJhOWQ3MzBmOWU0MzczODFlZTBmYTA1NWJmMTc4NS5zZXRDb250ZW50KGh0bWxfZTk5NTVlNDFjYWQ4NDBjMmI0NzNiNmY4MjFkM2E5YjcpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNzZhNzlmMThiNzExNGVhMWE3YWRlNTk5NjJlZTA5Y2IuYmluZFBvcHVwKHBvcHVwXzExYmE5ZDczMGY5ZTQzNzM4MWVlMGZhMDU1YmYxNzg1KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzUyNjI2MWRhZDAxNTRmZmViNWY0MzYwNDg3YjY1YTQ5ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjY4OTk4NSwtNzkuMzE1NTcxNTk5OTk5OThdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZTBkMmJmMzIzOGJjNGExMDhjZDk1OTgyZTBlMzc4ZjQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMzRiOTQwM2RiOWRhNDI3Y2JmNzUyYzZiOGJlMTRjMTIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMjBmZDAwNDgwMzQ3NDhjNDg2MGNmZTY4MjAyNzE1YTAgPSAkKCc8ZGl2IGlkPSJodG1sXzIwZmQwMDQ4MDM0NzQ4YzQ4NjBjZmU2ODIwMjcxNWEwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5UaGUgQmVhY2hlcyBXZXN0LCBJbmRpYSBCYXphYXIsIEVhc3QgVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMzRiOTQwM2RiOWRhNDI3Y2JmNzUyYzZiOGJlMTRjMTIuc2V0Q29udGVudChodG1sXzIwZmQwMDQ4MDM0NzQ4YzQ4NjBjZmU2ODIwMjcxNWEwKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzUyNjI2MWRhZDAxNTRmZmViNWY0MzYwNDg3YjY1YTQ5LmJpbmRQb3B1cChwb3B1cF8zNGI5NDAzZGI5ZGE0MjdjYmY3NTJjNmI4YmUxNGMxMik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9lNGE5Y2ZjNTkwOWY0MGY3OWE1MTFkZGJkNzYyMjBmMyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY0ODE5ODUsLTc5LjM3OTgxNjkwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2UwZDJiZjMyMzhiYzRhMTA4Y2Q5NTk4MmUwZTM3OGY0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzk4YzIyNTAyZTk3YjQxZmI5MjIyNmYxNmFjMjgwMTY5ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2ZmZjk3Y2M4NDM3ODRkODlhMzE0MTdmODFhY2FkNTQxID0gJCgnPGRpdiBpZD0iaHRtbF9mZmY5N2NjODQzNzg0ZDg5YTMxNDE3ZjgxYWNhZDU0MSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q29tbWVyY2UgQ291cnQsIFZpY3RvcmlhIEhvdGVsLCBEb3dudG93biBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF85OGMyMjUwMmU5N2I0MWZiOTIyMjZmMTZhYzI4MDE2OS5zZXRDb250ZW50KGh0bWxfZmZmOTdjYzg0Mzc4NGQ4OWEzMTQxN2Y4MWFjYWQ1NDEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZTRhOWNmYzU5MDlmNDBmNzlhNTExZGRiZDc2MjIwZjMuYmluZFBvcHVwKHBvcHVwXzk4YzIyNTAyZTk3YjQxZmI5MjIyNmYxNmFjMjgwMTY5KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2MzYzkzMGZkOWI3NzRiYmFiOGMwMWEzOWM3OGI1YTk3ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzEzNzU2MjAwMDAwMDA2LC03OS40OTAwNzM4XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2UwZDJiZjMyMzhiYzRhMTA4Y2Q5NTk4MmUwZTM3OGY0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzkwODZiY2I0YjVmNzRmMGJhZWFlYTg4YmI0OWM0YjdmID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2I3NjNhNmQ0MjdlYzQyZTFhODc0MTMyZTE3MWM4NmRkID0gJCgnPGRpdiBpZD0iaHRtbF9iNzYzYTZkNDI3ZWM0MmUxYTg3NDEzMmUxNzFjODZkZCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RG93bnN2aWV3LCBOb3J0aCBQYXJrLCBVcHdvb2QgUGFyaywgTm9ydGggWW9yazwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOTA4NmJjYjRiNWY3NGYwYmFlYWVhODhiYjQ5YzRiN2Yuc2V0Q29udGVudChodG1sX2I3NjNhNmQ0MjdlYzQyZTFhODc0MTMyZTE3MWM4NmRkKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2MzYzkzMGZkOWI3NzRiYmFiOGMwMWEzOWM3OGI1YTk3LmJpbmRQb3B1cChwb3B1cF85MDg2YmNiNGI1Zjc0ZjBiYWVhZWE4OGJiNDljNGI3Zik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl81NWY3NzdmNmE3Mzk0ZGQ2YmU5MDUwZTdiNmFkNGYzZiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc1NjMwMzMsLTc5LjU2NTk2MzI5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2UwZDJiZjMyMzhiYzRhMTA4Y2Q5NTk4MmUwZTM3OGY0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2NlMGY5NzBkN2VjNjRkMDk5NWE3ZjJhM2RjYWQ3ZDI2ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzFhZDRmNThjYzViNTQxZTFiNDc2MGI2NGQzN2JkNDhkID0gJCgnPGRpdiBpZD0iaHRtbF8xYWQ0ZjU4Y2M1YjU0MWUxYjQ3NjBiNjRkMzdiZDQ4ZCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+SHVtYmVyIFN1bW1pdCwgTm9ydGggWW9yazwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfY2UwZjk3MGQ3ZWM2NGQwOTk1YTdmMmEzZGNhZDdkMjYuc2V0Q29udGVudChodG1sXzFhZDRmNThjYzViNTQxZTFiNDc2MGI2NGQzN2JkNDhkKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzU1Zjc3N2Y2YTczOTRkZDZiZTkwNTBlN2I2YWQ0ZjNmLmJpbmRQb3B1cChwb3B1cF9jZTBmOTcwZDdlYzY0ZDA5OTVhN2YyYTNkY2FkN2QyNik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl81YzY3MTUzYTFjNDM0YTdmYTdjNDM4NDRkMTQ2YjZkYyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcxNjMxNiwtNzkuMjM5NDc2MDk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZTBkMmJmMzIzOGJjNGExMDhjZDk1OTgyZTBlMzc4ZjQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYWQzNTEwOTMyNzIxNDQ2N2E0Zjg4MDU2ZmE1ZjllY2UgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZDhkZjgzOWZlOWM2NDZlNzgxYjliODUzZGQ4MDUwYWUgPSAkKCc8ZGl2IGlkPSJodG1sX2Q4ZGY4MzlmZTljNjQ2ZTc4MWI5Yjg1M2RkODA1MGFlIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DbGlmZmNyZXN0LCBDbGlmZnNpZGUsIFNjYXJib3JvdWdoIFZpbGxhZ2UgV2VzdCwgU2NhcmJvcm91Z2g8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2FkMzUxMDkzMjcyMTQ0NjdhNGY4ODA1NmZhNWY5ZWNlLnNldENvbnRlbnQoaHRtbF9kOGRmODM5ZmU5YzY0NmU3ODFiOWI4NTNkZDgwNTBhZSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl81YzY3MTUzYTFjNDM0YTdmYTdjNDM4NDRkMTQ2YjZkYy5iaW5kUG9wdXAocG9wdXBfYWQzNTEwOTMyNzIxNDQ2N2E0Zjg4MDU2ZmE1ZjllY2UpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfM2JkY2M5NzAyZjcxNDYyZThjOTQ0ODNhODc5ZWIwYzkgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43ODkwNTMsLTc5LjQwODQ5Mjc5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2UwZDJiZjMyMzhiYzRhMTA4Y2Q5NTk4MmUwZTM3OGY0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2ZlNDcxOTExYTQ2ZTQ0NTM4ZGQ1MTJkODVhMTk4MGZlID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzI3OTQ5MmE0ZjM5MTQwNTg5ODA5MWE3YzViYzBjOWNkID0gJCgnPGRpdiBpZD0iaHRtbF8yNzk0OTJhNGYzOTE0MDU4OTgwOTFhN2M1YmMwYzljZCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+TmV3dG9uYnJvb2ssIFdpbGxvd2RhbGUsIE5vcnRoIFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2ZlNDcxOTExYTQ2ZTQ0NTM4ZGQ1MTJkODVhMTk4MGZlLnNldENvbnRlbnQoaHRtbF8yNzk0OTJhNGYzOTE0MDU4OTgwOTFhN2M1YmMwYzljZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8zYmRjYzk3MDJmNzE0NjJlOGM5NDQ4M2E4NzllYjBjOS5iaW5kUG9wdXAocG9wdXBfZmU0NzE5MTFhNDZlNDQ1MzhkZDUxMmQ4NWExOTgwZmUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMDBkZTUxYTNhOTYxNGFlMGExYWQ3ZTJlZWZhY2RlMDIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43Mjg0OTY0LC03OS40OTU2OTc0MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMGQyYmYzMjM4YmM0YTEwOGNkOTU5ODJlMGUzNzhmNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8wZTdlOGU5Njc2NTQ0NTQ4OTVkOTFkMGNjY2Y2OWY1ZCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9jYjYwMzQ0MGRmZjI0OWZhYmMzODA3Y2I3NTc3ZjhlOSA9ICQoJzxkaXYgaWQ9Imh0bWxfY2I2MDM0NDBkZmYyNDlmYWJjMzgwN2NiNzU3N2Y4ZTkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkRvd25zdmlldyBDZW50cmFsLCBOb3J0aCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8wZTdlOGU5Njc2NTQ0NTQ4OTVkOTFkMGNjY2Y2OWY1ZC5zZXRDb250ZW50KGh0bWxfY2I2MDM0NDBkZmYyNDlmYWJjMzgwN2NiNzU3N2Y4ZTkpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMDBkZTUxYTNhOTYxNGFlMGExYWQ3ZTJlZWZhY2RlMDIuYmluZFBvcHVwKHBvcHVwXzBlN2U4ZTk2NzY1NDQ1NDg5NWQ5MWQwY2NjZjY5ZjVkKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzQ1NWYxNjRlYTgwMjRlZTE5ZGZkZDYzMzhhNzBiNjlmID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjU5NTI1NSwtNzkuMzQwOTIzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2UwZDJiZjMyMzhiYzRhMTA4Y2Q5NTk4MmUwZTM3OGY0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2U1YjBjYTkyMDFhNzRiOTU4ZjU4YjkxM2ZhZmM3NGE3ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzE5MjMwYzIyM2UwNjQ1YTg4NjhiOGQyYTZlZWY3MDY4ID0gJCgnPGRpdiBpZD0iaHRtbF8xOTIzMGMyMjNlMDY0NWE4ODY4YjhkMmE2ZWVmNzA2OCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+U3R1ZGlvIERpc3RyaWN0LCBFYXN0IFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2U1YjBjYTkyMDFhNzRiOTU4ZjU4YjkxM2ZhZmM3NGE3LnNldENvbnRlbnQoaHRtbF8xOTIzMGMyMjNlMDY0NWE4ODY4YjhkMmE2ZWVmNzA2OCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl80NTVmMTY0ZWE4MDI0ZWUxOWRmZGQ2MzM4YTcwYjY5Zi5iaW5kUG9wdXAocG9wdXBfZTViMGNhOTIwMWE3NGI5NThmNThiOTEzZmFmYzc0YTcpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMTkwZjM5MWZjYWU4NGQyNWE2YzcxMzE3YzllMmI4MWQgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MzMyODI1LC03OS40MTk3NDk3XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2UwZDJiZjMyMzhiYzRhMTA4Y2Q5NTk4MmUwZTM3OGY0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzIwNzg4N2IxZjQ2MTQ2NDY4YmVjOWMzYWY2ZTkyYjM0ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzc2NWU4NGEwZTdmYjRkMDlhMjQxNjNjMDc0NDczNDE5ID0gJCgnPGRpdiBpZD0iaHRtbF83NjVlODRhMGU3ZmI0ZDA5YTI0MTYzYzA3NDQ3MzQxOSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QmVkZm9yZCBQYXJrLCBMYXdyZW5jZSBNYW5vciBFYXN0LCBOb3J0aCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8yMDc4ODdiMWY0NjE0NjQ2OGJlYzljM2FmNmU5MmIzNC5zZXRDb250ZW50KGh0bWxfNzY1ZTg0YTBlN2ZiNGQwOWEyNDE2M2MwNzQ0NzM0MTkpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMTkwZjM5MWZjYWU4NGQyNWE2YzcxMzE3YzllMmI4MWQuYmluZFBvcHVwKHBvcHVwXzIwNzg4N2IxZjQ2MTQ2NDY4YmVjOWMzYWY2ZTkyYjM0KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzk1MGQ1YmEwMjFlNTRhMTA5MzdjODk0YTBhMzljZjlkID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjkxMTE1OCwtNzkuNDc2MDEzMjk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZTBkMmJmMzIzOGJjNGExMDhjZDk1OTgyZTBlMzc4ZjQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOTkyOTZhNTY3MGE1NDM1NTk4OTE3NjNkM2I3YjE1OGMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMWNkMGMwYTljNTMwNGIwOWI3Y2MzNzE2NGQ1MTZkYzIgPSAkKCc8ZGl2IGlkPSJodG1sXzFjZDBjMGE5YzUzMDRiMDliN2NjMzcxNjRkNTE2ZGMyIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5EZWwgUmF5LCBLZWVsZXNkYWxlLCBNb3VudCBEZW5uaXMsIFNpbHZlcnRob3JuLCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF85OTI5NmE1NjcwYTU0MzU1OTg5MTc2M2QzYjdiMTU4Yy5zZXRDb250ZW50KGh0bWxfMWNkMGMwYTljNTMwNGIwOWI3Y2MzNzE2NGQ1MTZkYzIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfOTUwZDViYTAyMWU1NGExMDkzN2M4OTRhMGEzOWNmOWQuYmluZFBvcHVwKHBvcHVwXzk5Mjk2YTU2NzBhNTQzNTU5ODkxNzYzZDNiN2IxNThjKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2JkNWFjNGYzODc1NTRlYWQ4NDAyYjJmZjkwZjA3YTMzID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzI0NzY1OSwtNzkuNTMyMjQyNDAwMDAwMDJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZTBkMmJmMzIzOGJjNGExMDhjZDk1OTgyZTBlMzc4ZjQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYmI0OThkODM2Mjc2NGVmNWIxN2MxYWY2OWI2MjFmODIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNWFlY2U0OGQ4NjRlNDE3MjhhOWRjMDNkNGU5MjQ1ZWQgPSAkKCc8ZGl2IGlkPSJodG1sXzVhZWNlNDhkODY0ZTQxNzI4YTlkYzAzZDRlOTI0NWVkIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5FbWVyeSwgSHVtYmVybGVhLCBOb3J0aCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9iYjQ5OGQ4MzYyNzY0ZWY1YjE3YzFhZjY5YjYyMWY4Mi5zZXRDb250ZW50KGh0bWxfNWFlY2U0OGQ4NjRlNDE3MjhhOWRjMDNkNGU5MjQ1ZWQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYmQ1YWM0ZjM4NzU1NGVhZDg0MDJiMmZmOTBmMDdhMzMuYmluZFBvcHVwKHBvcHVwX2JiNDk4ZDgzNjI3NjRlZjViMTdjMWFmNjliNjIxZjgyKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2NmNzBlYzQ5NTYwOTRiOTY4ODVhNTJhY2MwNjFkYjgyID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjkyNjU3MDAwMDAwMDA0LC03OS4yNjQ4NDgxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2UwZDJiZjMyMzhiYzRhMTA4Y2Q5NTk4MmUwZTM3OGY0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzI2Yzg2ZjliZjk1MTQ2NzlhYTk3MTVhZWIwMmFkMDMzID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzhlMDdmOTM5YWUxYzRjNTI5ZTkzOGQxMDdjOTMzMmY5ID0gJCgnPGRpdiBpZD0iaHRtbF84ZTA3ZjkzOWFlMWM0YzUyOWU5MzhkMTA3YzkzMzJmOSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QmlyY2ggQ2xpZmYsIENsaWZmc2lkZSBXZXN0LCBTY2FyYm9yb3VnaDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMjZjODZmOWJmOTUxNDY3OWFhOTcxNWFlYjAyYWQwMzMuc2V0Q29udGVudChodG1sXzhlMDdmOTM5YWUxYzRjNTI5ZTkzOGQxMDdjOTMzMmY5KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2NmNzBlYzQ5NTYwOTRiOTY4ODVhNTJhY2MwNjFkYjgyLmJpbmRQb3B1cChwb3B1cF8yNmM4NmY5YmY5NTE0Njc5YWE5NzE1YWViMDJhZDAzMyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8wODk0NTUwOGY4YWE0Yjk3OGY5Y2IwM2I2ZWNhMTg1NSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc3MDExOTksLTc5LjQwODQ5Mjc5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2UwZDJiZjMyMzhiYzRhMTA4Y2Q5NTk4MmUwZTM3OGY0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2IxZDhiYzg0Mzc0NjRhZTQ5ODE5YTNkOWY3MDk2OTMwID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzljOGUwZDY3NDg0YjQ5NmE5MzJjMjFhMzZkMjU3YzIxID0gJCgnPGRpdiBpZD0iaHRtbF85YzhlMGQ2NzQ4NGI0OTZhOTMyYzIxYTM2ZDI1N2MyMSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+V2lsbG93ZGFsZSBTb3V0aCwgTm9ydGggWW9yazwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYjFkOGJjODQzNzQ2NGFlNDk4MTlhM2Q5ZjcwOTY5MzAuc2V0Q29udGVudChodG1sXzljOGUwZDY3NDg0YjQ5NmE5MzJjMjFhMzZkMjU3YzIxKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzA4OTQ1NTA4ZjhhYTRiOTc4ZjljYjAzYjZlY2ExODU1LmJpbmRQb3B1cChwb3B1cF9iMWQ4YmM4NDM3NDY0YWU0OTgxOWEzZDlmNzA5NjkzMCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9lYWU0NTE0MWZhYTc0ZmQwYTQ1N2VkZjA5YTQ3YjM5NSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc2MTYzMTMsLTc5LjUyMDk5OTQwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2UwZDJiZjMyMzhiYzRhMTA4Y2Q5NTk4MmUwZTM3OGY0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2NiMTFhNjFlNGE0NjQwNGI5YThlNTg2ZjVmZjgxMmRiID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzk0ZGNjMTYzOWFhMDQyNjVhOTU5N2JkZjQ1ODM3NjBmID0gJCgnPGRpdiBpZD0iaHRtbF85NGRjYzE2MzlhYTA0MjY1YTk1OTdiZGY0NTgzNzYwZiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RG93bnN2aWV3IE5vcnRod2VzdCwgTm9ydGggWW9yazwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfY2IxMWE2MWU0YTQ2NDA0YjlhOGU1ODZmNWZmODEyZGIuc2V0Q29udGVudChodG1sXzk0ZGNjMTYzOWFhMDQyNjVhOTU5N2JkZjQ1ODM3NjBmKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2VhZTQ1MTQxZmFhNzRmZDBhNDU3ZWRmMDlhNDdiMzk1LmJpbmRQb3B1cChwb3B1cF9jYjExYTYxZTRhNDY0MDRiOWE4ZTU4NmY1ZmY4MTJkYik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8xMzMzN2RlZmM2MjI0ZWEzODcxNGYzYjQ5MzI0NzRjNSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcyODAyMDUsLTc5LjM4ODc5MDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZTBkMmJmMzIzOGJjNGExMDhjZDk1OTgyZTBlMzc4ZjQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMGE4YTkwZWFlNDAzNGYzMzliZDM1OTdiMGVmMWI4M2MgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYzQyODNkZTMwODY4NGExMDhmMmE0YzY1MTk2YTZmMWYgPSAkKCc8ZGl2IGlkPSJodG1sX2M0MjgzZGUzMDg2ODRhMTA4ZjJhNGM2NTE5NmE2ZjFmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5MYXdyZW5jZSBQYXJrLCBDZW50cmFsIFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzBhOGE5MGVhZTQwMzRmMzM5YmQzNTk3YjBlZjFiODNjLnNldENvbnRlbnQoaHRtbF9jNDI4M2RlMzA4Njg0YTEwOGYyYTRjNjUxOTZhNmYxZik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8xMzMzN2RlZmM2MjI0ZWEzODcxNGYzYjQ5MzI0NzRjNS5iaW5kUG9wdXAocG9wdXBfMGE4YTkwZWFlNDAzNGYzMzliZDM1OTdiMGVmMWI4M2MpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMTZmNDAxZDFiYzljNGY3OWI2ZjI1MWU5MzdjODJkMDcgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MTE2OTQ4LC03OS40MTY5MzU1OTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMGQyYmYzMjM4YmM0YTEwOGNkOTU5ODJlMGUzNzhmNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9iNjNjYjQ4M2QwNDk0MDM1YjNjOGYxM2UxNWJmY2VjMSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9jOGY1ZmNjMjZkYjc0ZDNkYjk5MTg0MjZlNTA1NTIwMiA9ICQoJzxkaXYgaWQ9Imh0bWxfYzhmNWZjYzI2ZGI3NGQzZGI5OTE4NDI2ZTUwNTUyMDIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlJvc2VsYXduLCBDZW50cmFsIFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2I2M2NiNDgzZDA0OTQwMzViM2M4ZjEzZTE1YmZjZWMxLnNldENvbnRlbnQoaHRtbF9jOGY1ZmNjMjZkYjc0ZDNkYjk5MTg0MjZlNTA1NTIwMik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8xNmY0MDFkMWJjOWM0Zjc5YjZmMjUxZTkzN2M4MmQwNy5iaW5kUG9wdXAocG9wdXBfYjYzY2I0ODNkMDQ5NDAzNWIzYzhmMTNlMTViZmNlYzEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYzU0NTg2OWY2ZjdiNDY0YWJjNzBmNzllMDk1NDE1NmYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NzMxODUyOTk5OTk5OSwtNzkuNDg3MjYxOTAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZTBkMmJmMzIzOGJjNGExMDhjZDk1OTgyZTBlMzc4ZjQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMmEzNWYzMzNkN2FjNDMzNjhhNGRhNjBlOTMzYmM4MGQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNjkzMjUyYjAyYTEwNDQ3Yzg1ZWU3YjY3MjZmYTgwNTkgPSAkKCc8ZGl2IGlkPSJodG1sXzY5MzI1MmIwMmExMDQ0N2M4NWVlN2I2NzI2ZmE4MDU5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5UaGUgSnVuY3Rpb24gTm9ydGgsIFJ1bm55bWVkZSwgWW9yazwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMmEzNWYzMzNkN2FjNDMzNjhhNGRhNjBlOTMzYmM4MGQuc2V0Q29udGVudChodG1sXzY5MzI1MmIwMmExMDQ0N2M4NWVlN2I2NzI2ZmE4MDU5KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2M1NDU4NjlmNmY3YjQ2NGFiYzcwZjc5ZTA5NTQxNTZmLmJpbmRQb3B1cChwb3B1cF8yYTM1ZjMzM2Q3YWM0MzM2OGE0ZGE2MGU5MzNiYzgwZCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl82NDU5ZTc5MjcyMDc0NzQ4OGIzNTBlOTIyN2Q4N2U1MCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcwNjg3NiwtNzkuNTE4MTg4NDAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZTBkMmJmMzIzOGJjNGExMDhjZDk1OTgyZTBlMzc4ZjQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNmM2NWQyMzBhNDUyNGExNjg0ZmU5ZTkzYzRiNjVkNDEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNWE3MzhmMjI4YjE4NDM3ZmE1YWE3YTdhNWY4N2JiNTEgPSAkKCc8ZGl2IGlkPSJodG1sXzVhNzM4ZjIyOGIxODQzN2ZhNWFhN2E3YTVmODdiYjUxIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5XZXN0b24sIFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzZjNjVkMjMwYTQ1MjRhMTY4NGZlOWU5M2M0YjY1ZDQxLnNldENvbnRlbnQoaHRtbF81YTczOGYyMjhiMTg0MzdmYTVhYTdhN2E1Zjg3YmI1MSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl82NDU5ZTc5MjcyMDc0NzQ4OGIzNTBlOTIyN2Q4N2U1MC5iaW5kUG9wdXAocG9wdXBfNmM2NWQyMzBhNDUyNGExNjg0ZmU5ZTkzYzRiNjVkNDEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZjAzN2ZmYjcyYTQxNDU5YmE2N2QyZDczMzBhZTRkYjcgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NTc0MDk2LC03OS4yNzMzMDQwMDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMGQyYmYzMjM4YmM0YTEwOGNkOTU5ODJlMGUzNzhmNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9kZDg0ZDczMzYwMTA0YTZiYjViZjU2YjNmMmRlM2U2MSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9mYWFkYzE2ZWMyMDk0ZWMzYjc2MzkwZDk1N2IxMjZiZCA9ICQoJzxkaXYgaWQ9Imh0bWxfZmFhZGMxNmVjMjA5NGVjM2I3NjM5MGQ5NTdiMTI2YmQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkRvcnNldCBQYXJrLCBTY2FyYm9yb3VnaCBUb3duIENlbnRyZSwgV2V4Zm9yZCBIZWlnaHRzLCBTY2FyYm9yb3VnaDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZGQ4NGQ3MzM2MDEwNGE2YmI1YmY1NmIzZjJkZTNlNjEuc2V0Q29udGVudChodG1sX2ZhYWRjMTZlYzIwOTRlYzNiNzYzOTBkOTU3YjEyNmJkKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2YwMzdmZmI3MmE0MTQ1OWJhNjdkMmQ3MzMwYWU0ZGI3LmJpbmRQb3B1cChwb3B1cF9kZDg0ZDczMzYwMTA0YTZiYjViZjU2YjNmMmRlM2U2MSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9kZjI4YjIzZjU1YzI0YmZiODQ1ZmJmM2JkODIxMzY0ZCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc1Mjc1ODI5OTk5OTk5NiwtNzkuNDAwMDQ5M10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMGQyYmYzMjM4YmM0YTEwOGNkOTU5ODJlMGUzNzhmNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9iODVkYzMwNWU3NmE0YTRlODU4Nzc2OTI1ZWQ1YjkxMyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8yZTA4YmE5NjZhY2I0MjQ2YjUzNmRiYmZiMGJmNTRjYiA9ICQoJzxkaXYgaWQ9Imh0bWxfMmUwOGJhOTY2YWNiNDI0NmI1MzZkYmJmYjBiZjU0Y2IiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPllvcmsgTWlsbHMgV2VzdCwgTm9ydGggWW9yazwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYjg1ZGMzMDVlNzZhNGE0ZTg1ODc3NjkyNWVkNWI5MTMuc2V0Q29udGVudChodG1sXzJlMDhiYTk2NmFjYjQyNDZiNTM2ZGJiZmIwYmY1NGNiKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2RmMjhiMjNmNTVjMjRiZmI4NDVmYmYzYmQ4MjEzNjRkLmJpbmRQb3B1cChwb3B1cF9iODVkYzMwNWU3NmE0YTRlODU4Nzc2OTI1ZWQ1YjkxMyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9mMzAzZmYyOGJmNDc0NDI3YThkZjY1MDNjMmQ3MGFhNCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcxMjc1MTEsLTc5LjM5MDE5NzVdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZTBkMmJmMzIzOGJjNGExMDhjZDk1OTgyZTBlMzc4ZjQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNGU5ZmMxNjVmNDkxNDEyOWIxYWY5MzU0Njk0NTcwYzQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOGMxYTYzM2I5N2QwNDdmZmEzMjM2ZDUyMTlhNjUzMTQgPSAkKCc8ZGl2IGlkPSJodG1sXzhjMWE2MzNiOTdkMDQ3ZmZhMzIzNmQ1MjE5YTY1MzE0IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5EYXZpc3ZpbGxlIE5vcnRoLCBDZW50cmFsIFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzRlOWZjMTY1ZjQ5MTQxMjliMWFmOTM1NDY5NDU3MGM0LnNldENvbnRlbnQoaHRtbF84YzFhNjMzYjk3ZDA0N2ZmYTMyMzZkNTIxOWE2NTMxNCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9mMzAzZmYyOGJmNDc0NDI3YThkZjY1MDNjMmQ3MGFhNC5iaW5kUG9wdXAocG9wdXBfNGU5ZmMxNjVmNDkxNDEyOWIxYWY5MzU0Njk0NTcwYzQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYTVmNDNhMWM5NDJmNDBjY2E1NjY4MzUzNGZkNTVlMTEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42OTY5NDc2LC03OS40MTEzMDcyMDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMGQyYmYzMjM4YmM0YTEwOGNkOTU5ODJlMGUzNzhmNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF82NDNhZDI1MWFlMWI0MjhmOWUyZmMyNDkwMzhkNWYwYiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9hOWQyOWQxMjFhMDg0YTMxODM5MTY0ZWRkNzQ5MDg0NyA9ICQoJzxkaXYgaWQ9Imh0bWxfYTlkMjlkMTIxYTA4NGEzMTgzOTE2NGVkZDc0OTA4NDciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkZvcmVzdCBIaWxsIE5vcnRoLCBGb3Jlc3QgSGlsbCBXZXN0LCBDZW50cmFsIFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzY0M2FkMjUxYWUxYjQyOGY5ZTJmYzI0OTAzOGQ1ZjBiLnNldENvbnRlbnQoaHRtbF9hOWQyOWQxMjFhMDg0YTMxODM5MTY0ZWRkNzQ5MDg0Nyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9hNWY0M2ExYzk0MmY0MGNjYTU2NjgzNTM0ZmQ1NWUxMS5iaW5kUG9wdXAocG9wdXBfNjQzYWQyNTFhZTFiNDI4ZjllMmZjMjQ5MDM4ZDVmMGIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZTVjMmE1MWVmOTJiNDMwMmE4N2JlMmNmNjFhNDYyYmYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NjE2MDgzLC03OS40NjQ3NjMyOTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMGQyYmYzMjM4YmM0YTEwOGNkOTU5ODJlMGUzNzhmNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9kZWZlZjhmYWFkMzk0Zjc2YTYwZDFlYWY3OGI3ZDE4OCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9lZDRhZTI4ZWE2MmQ0ZjM1YmQwMTg4ZTlmMWYwZWE2NCA9ICQoJzxkaXYgaWQ9Imh0bWxfZWQ0YWUyOGVhNjJkNGYzNWJkMDE4OGU5ZjFmMGVhNjQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkhpZ2ggUGFyaywgVGhlIEp1bmN0aW9uIFNvdXRoLCBXZXN0IFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2RlZmVmOGZhYWQzOTRmNzZhNjBkMWVhZjc4YjdkMTg4LnNldENvbnRlbnQoaHRtbF9lZDRhZTI4ZWE2MmQ0ZjM1YmQwMTg4ZTlmMWYwZWE2NCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9lNWMyYTUxZWY5MmI0MzAyYTg3YmUyY2Y2MWE0NjJiZi5iaW5kUG9wdXAocG9wdXBfZGVmZWY4ZmFhZDM5NGY3NmE2MGQxZWFmNzhiN2QxODgpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYmYyNDIwMGZhMWMyNGZiNTg3NjBlMTIzMGU4YjkwY2QgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42OTYzMTksLTc5LjUzMjI0MjQwMDAwMDAyXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2UwZDJiZjMyMzhiYzRhMTA4Y2Q5NTk4MmUwZTM3OGY0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzNhNDM1NGM2ZjBiODRhMDk5OGNjNjFlM2U0ZTEwNmVmID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2I2MWVmZTVhNzgxNjRlYjA4M2JkZTliMTQyYjcyMzdmID0gJCgnPGRpdiBpZD0iaHRtbF9iNjFlZmU1YTc4MTY0ZWIwODNiZGU5YjE0MmI3MjM3ZiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+V2VzdG1vdW50LCBFdG9iaWNva2U8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzNhNDM1NGM2ZjBiODRhMDk5OGNjNjFlM2U0ZTEwNmVmLnNldENvbnRlbnQoaHRtbF9iNjFlZmU1YTc4MTY0ZWIwODNiZGU5YjE0MmI3MjM3Zik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9iZjI0MjAwZmExYzI0ZmI1ODc2MGUxMjMwZThiOTBjZC5iaW5kUG9wdXAocG9wdXBfM2E0MzU0YzZmMGI4NGEwOTk4Y2M2MWUzZTRlMTA2ZWYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZTI0Mzc0ZTU4MTI2NDdhZDkwN2NmY2UzYjNkYTZiYzMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NTAwNzE1MDAwMDAwMDQsLTc5LjI5NTg0OTFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZTBkMmJmMzIzOGJjNGExMDhjZDk1OTgyZTBlMzc4ZjQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNGJhZTcxZjRjNTAxNDI2Njg2M2IzNDNmNWFkOTE4ZDAgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNjBlNGEyMjhiYThiNDY3OTgzOWZjMTg4OTY2ZTg5YzUgPSAkKCc8ZGl2IGlkPSJodG1sXzYwZTRhMjI4YmE4YjQ2Nzk4MzlmYzE4ODk2NmU4OWM1IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5NYXJ5dmFsZSwgV2V4Zm9yZCwgU2NhcmJvcm91Z2g8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzRiYWU3MWY0YzUwMTQyNjY4NjNiMzQzZjVhZDkxOGQwLnNldENvbnRlbnQoaHRtbF82MGU0YTIyOGJhOGI0Njc5ODM5ZmMxODg5NjZlODljNSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9lMjQzNzRlNTgxMjY0N2FkOTA3Y2ZjZTNiM2RhNmJjMy5iaW5kUG9wdXAocG9wdXBfNGJhZTcxZjRjNTAxNDI2Njg2M2IzNDNmNWFkOTE4ZDApOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYzNjY2ZhZTVhOWYyNGUyZGJkOTNlYzdkOGU4M2FkMmQgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43ODI3MzY0LC03OS40NDIyNTkzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2UwZDJiZjMyMzhiYzRhMTA4Y2Q5NTk4MmUwZTM3OGY0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2IxYzU2OTRiYWFlZDRlYWI4MzdlMjU1MjVjOWFjNzkwID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2M2NTI0ZmY0Y2RhMzQxY2Y4YzljNjdjZDE2ZjMzYWI3ID0gJCgnPGRpdiBpZD0iaHRtbF9jNjUyNGZmNGNkYTM0MWNmOGM5YzY3Y2QxNmYzM2FiNyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+V2lsbG93ZGFsZSBXZXN0LCBOb3J0aCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9iMWM1Njk0YmFhZWQ0ZWFiODM3ZTI1NTI1YzlhYzc5MC5zZXRDb250ZW50KGh0bWxfYzY1MjRmZjRjZGEzNDFjZjhjOWM2N2NkMTZmMzNhYjcpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYzNjY2ZhZTVhOWYyNGUyZGJkOTNlYzdkOGU4M2FkMmQuYmluZFBvcHVwKHBvcHVwX2IxYzU2OTRiYWFlZDRlYWI4MzdlMjU1MjVjOWFjNzkwKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzczMzNiYjAwNjJlZDQ3MTE4NzczN2NkMTk3MWM2ZTNmID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzE1MzgzNCwtNzkuNDA1Njc4NDAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZTBkMmJmMzIzOGJjNGExMDhjZDk1OTgyZTBlMzc4ZjQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMzZkZjVmZmQ3NzY4NGMzMmI3YmNmMzQxZjc1ZDkxMGEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOTA5OTc0NTQ4ZjI0NGNkZDg4NGExZTI0NGI4MTRjZWMgPSAkKCc8ZGl2IGlkPSJodG1sXzkwOTk3NDU0OGYyNDRjZGQ4ODRhMWUyNDRiODE0Y2VjIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Ob3J0aCBUb3JvbnRvIFdlc3QsIENlbnRyYWwgVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMzZkZjVmZmQ3NzY4NGMzMmI3YmNmMzQxZjc1ZDkxMGEuc2V0Q29udGVudChodG1sXzkwOTk3NDU0OGYyNDRjZGQ4ODRhMWUyNDRiODE0Y2VjKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzczMzNiYjAwNjJlZDQ3MTE4NzczN2NkMTk3MWM2ZTNmLmJpbmRQb3B1cChwb3B1cF8zNmRmNWZmZDc3Njg0YzMyYjdiY2YzNDFmNzVkOTEwYSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9lZjBjY2M4OTQ2YzY0MDBmOTcyODNkNjM0Mzk1NGQzMSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY3MjcwOTcsLTc5LjQwNTY3ODQwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2UwZDJiZjMyMzhiYzRhMTA4Y2Q5NTk4MmUwZTM3OGY0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2M4ODU4MTZiNTc1MDQ5NWM4OGIxMzVmMjZiNDIyMzM5ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzI3OGQzNzRmYzk1NTRhMzdhNWExZjgxYTZjOTliODZjID0gJCgnPGRpdiBpZD0iaHRtbF8yNzhkMzc0ZmM5NTU0YTM3YTVhMWY4MWE2Yzk5Yjg2YyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+VGhlIEFubmV4LCBOb3J0aCBNaWR0b3duLCBZb3JrdmlsbGUsIENlbnRyYWwgVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYzg4NTgxNmI1NzUwNDk1Yzg4YjEzNWYyNmI0MjIzMzkuc2V0Q29udGVudChodG1sXzI3OGQzNzRmYzk1NTRhMzdhNWExZjgxYTZjOTliODZjKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2VmMGNjYzg5NDZjNjQwMGY5NzI4M2Q2MzQzOTU0ZDMxLmJpbmRQb3B1cChwb3B1cF9jODg1ODE2YjU3NTA0OTVjODhiMTM1ZjI2YjQyMjMzOSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl81N2M1NmJmNTBiY2U0ODdmOWJkNmQ5MzFmYjkyYmZjYSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY0ODk1OTcsLTc5LjQ1NjMyNV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMGQyYmYzMjM4YmM0YTEwOGNkOTU5ODJlMGUzNzhmNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9lY2UxYmY4MjNkZDY0NDRiYWYwNTc1NjUxOWYyZDNhMyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9iZTgxNzRiNzFmODA0MGYwYTFmNWU3YmE2MDhmN2NmMyA9ICQoJzxkaXYgaWQ9Imh0bWxfYmU4MTc0YjcxZjgwNDBmMGExZjVlN2JhNjA4ZjdjZjMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlBhcmtkYWxlLCBSb25jZXN2YWxsZXMsIFdlc3QgVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZWNlMWJmODIzZGQ2NDQ0YmFmMDU3NTY1MTlmMmQzYTMuc2V0Q29udGVudChodG1sX2JlODE3NGI3MWY4MDQwZjBhMWY1ZTdiYTYwOGY3Y2YzKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzU3YzU2YmY1MGJjZTQ4N2Y5YmQ2ZDkzMWZiOTJiZmNhLmJpbmRQb3B1cChwb3B1cF9lY2UxYmY4MjNkZDY0NDRiYWYwNTc1NjUxOWYyZDNhMyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8xZjYwM2U0NGVkMGQ0ZDQ0OGU0ZDEwZjI3MjNkOTdlMiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjYzNjk2NTYsLTc5LjYxNTgxODk5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2UwZDJiZjMyMzhiYzRhMTA4Y2Q5NTk4MmUwZTM3OGY0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzgzYWRmNjIxMmIwNjQzYzg5MTU1MDVkY2ExNjlkNjI1ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzU1YjM1MGFhODgzMzRjZGY4YzM0ZGM5MWQwYWRkMTdiID0gJCgnPGRpdiBpZD0iaHRtbF81NWIzNTBhYTg4MzM0Y2RmOGMzNGRjOTFkMGFkZDE3YiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2FuYWRhIFBvc3QgR2F0ZXdheSBQcm9jZXNzaW5nIENlbnRyZSwgTWlzc2lzc2F1Z2E8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzgzYWRmNjIxMmIwNjQzYzg5MTU1MDVkY2ExNjlkNjI1LnNldENvbnRlbnQoaHRtbF81NWIzNTBhYTg4MzM0Y2RmOGMzNGRjOTFkMGFkZDE3Yik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8xZjYwM2U0NGVkMGQ0ZDQ0OGU0ZDEwZjI3MjNkOTdlMi5iaW5kUG9wdXAocG9wdXBfODNhZGY2MjEyYjA2NDNjODkxNTUwNWRjYTE2OWQ2MjUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMWFkOTU5ZjE5ZjAxNDQ0Nzg4ZDZlNGM2ZjkyZWZhNWQgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42ODg5MDU0LC03OS41NTQ3MjQ0MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMGQyYmYzMjM4YmM0YTEwOGNkOTU5ODJlMGUzNzhmNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF83ZGY4NzFiZDFhNzI0NTkxYmJiNjg1MmZlMTliNzFhZSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9hYzczODlhZDNkZWU0MWNkYjViZjUwMmFjNzE4Njk0YSA9ICQoJzxkaXYgaWQ9Imh0bWxfYWM3Mzg5YWQzZGVlNDFjZGI1YmY1MDJhYzcxODY5NGEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPktpbmdzdmlldyBWaWxsYWdlLCBNYXJ0aW4gR3JvdmUgR2FyZGVucywgUmljaHZpZXcgR2FyZGVucywgU3QuIFBoaWxsaXBzLCBFdG9iaWNva2U8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzdkZjg3MWJkMWE3MjQ1OTFiYmI2ODUyZmUxOWI3MWFlLnNldENvbnRlbnQoaHRtbF9hYzczODlhZDNkZWU0MWNkYjViZjUwMmFjNzE4Njk0YSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8xYWQ5NTlmMTlmMDE0NDQ3ODhkNmU0YzZmOTJlZmE1ZC5iaW5kUG9wdXAocG9wdXBfN2RmODcxYmQxYTcyNDU5MWJiYjY4NTJmZTE5YjcxYWUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMDdlYTAzYzlmMWNjNDQxNDhhNzQzOTRhY2RhMmNkYjggPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43OTQyMDAzLC03OS4yNjIwMjk0MDAwMDAwMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMGQyYmYzMjM4YmM0YTEwOGNkOTU5ODJlMGUzNzhmNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF80NTg0N2MwZmYyMjA0YjA3YTg2NTUyMDE3NjhjZTdkYSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF81Y2NhMGRhMTE1ZjI0ZjkyYmU3NDk0OGQzMjdmN2ZiMCA9ICQoJzxkaXYgaWQ9Imh0bWxfNWNjYTBkYTExNWYyNGY5MmJlNzQ5NDhkMzI3ZjdmYjAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkFnaW5jb3VydCwgU2NhcmJvcm91Z2g8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzQ1ODQ3YzBmZjIyMDRiMDdhODY1NTIwMTc2OGNlN2RhLnNldENvbnRlbnQoaHRtbF81Y2NhMGRhMTE1ZjI0ZjkyYmU3NDk0OGQzMjdmN2ZiMCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8wN2VhMDNjOWYxY2M0NDE0OGE3NDM5NGFjZGEyY2RiOC5iaW5kUG9wdXAocG9wdXBfNDU4NDdjMGZmMjIwNGIwN2E4NjU1MjAxNzY4Y2U3ZGEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZTkxOGFjMWEwMGU5NDgxOGJhMjRkZjE3Mzk5MzExM2MgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MDQzMjQ0LC03OS4zODg3OTAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2UwZDJiZjMyMzhiYzRhMTA4Y2Q5NTk4MmUwZTM3OGY0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzJjNDZmNmNjM2ZhYTQ5MGE4NTdhYzZlMTc2NDljZTMzID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzgwZDE4NDEyODI4ZTRhMTI4ZmFmNTFlZGNkMzJkODI4ID0gJCgnPGRpdiBpZD0iaHRtbF84MGQxODQxMjgyOGU0YTEyOGZhZjUxZWRjZDMyZDgyOCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RGF2aXN2aWxsZSwgQ2VudHJhbCBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8yYzQ2ZjZjYzNmYWE0OTBhODU3YWM2ZTE3NjQ5Y2UzMy5zZXRDb250ZW50KGh0bWxfODBkMTg0MTI4MjhlNGExMjhmYWY1MWVkY2QzMmQ4MjgpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZTkxOGFjMWEwMGU5NDgxOGJhMjRkZjE3Mzk5MzExM2MuYmluZFBvcHVwKHBvcHVwXzJjNDZmNmNjM2ZhYTQ5MGE4NTdhYzZlMTc2NDljZTMzKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzA3OTE3NGYyOTU3MDRhM2RiMTUyMDgxNTRmZDhlMTU2ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjYyNjk1NiwtNzkuNDAwMDQ5M10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMGQyYmYzMjM4YmM0YTEwOGNkOTU5ODJlMGUzNzhmNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8wMWQ2MDE4MmQ2OGM0MjFlYmY5MGRlOGZkMzFiODE2OCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF80YTQ3YWIyMWIyNGI0YjRiOGRlYzk0NDEzMDYzYTRmMSA9ICQoJzxkaXYgaWQ9Imh0bWxfNGE0N2FiMjFiMjRiNGI0YjhkZWM5NDQxMzA2M2E0ZjEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkhhcmJvcmQsIFVuaXZlcnNpdHkgb2YgVG9yb250bywgRG93bnRvd24gVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMDFkNjAxODJkNjhjNDIxZWJmOTBkZThmZDMxYjgxNjguc2V0Q29udGVudChodG1sXzRhNDdhYjIxYjI0YjRiNGI4ZGVjOTQ0MTMwNjNhNGYxKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzA3OTE3NGYyOTU3MDRhM2RiMTUyMDgxNTRmZDhlMTU2LmJpbmRQb3B1cChwb3B1cF8wMWQ2MDE4MmQ2OGM0MjFlYmY5MGRlOGZkMzFiODE2OCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl82NTM2MTBlN2Q2YjA0OTQ1OWJkMWYwM2VkNGJhMTFiZCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY1MTU3MDYsLTc5LjQ4NDQ0OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZTBkMmJmMzIzOGJjNGExMDhjZDk1OTgyZTBlMzc4ZjQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNzFkYWYwMTU4Zjg0NDJmNDg1YTBmMTU5YzA3MTIxZjAgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMjA0YjAyMTU3YjdkNGZhMWE5YzFlMGNiZTdhNWMzYjYgPSAkKCc8ZGl2IGlkPSJodG1sXzIwNGIwMjE1N2I3ZDRmYTFhOWMxZTBjYmU3YTVjM2I2IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5SdW5ueW1lZGUsIFN3YW5zZWEsIFdlc3QgVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNzFkYWYwMTU4Zjg0NDJmNDg1YTBmMTU5YzA3MTIxZjAuc2V0Q29udGVudChodG1sXzIwNGIwMjE1N2I3ZDRmYTFhOWMxZTBjYmU3YTVjM2I2KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzY1MzYxMGU3ZDZiMDQ5NDU5YmQxZjAzZWQ0YmExMWJkLmJpbmRQb3B1cChwb3B1cF83MWRhZjAxNThmODQ0MmY0ODVhMGYxNTljMDcxMjFmMCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8zMTA1OTU5MDQ2YWU0NmRiODllYjk5NzlmMGM4Y2JjNyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc4MTYzNzUsLTc5LjMwNDMwMjFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZTBkMmJmMzIzOGJjNGExMDhjZDk1OTgyZTBlMzc4ZjQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNDI1MWYzYTliYTAwNDIxZGE2ZmZhODUyMjExYjk1ZTEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNzdkMjhkYzhjZGRmNGVkMmI0MTc1NjAxM2FkN2JmMjkgPSAkKCc8ZGl2IGlkPSJodG1sXzc3ZDI4ZGM4Y2RkZjRlZDJiNDE3NTYwMTNhZDdiZjI5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DbGFya3MgQ29ybmVycywgU3VsbGl2YW4sIFRhbSBPJiMzOTtTaGFudGVyLCBTY2FyYm9yb3VnaDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNDI1MWYzYTliYTAwNDIxZGE2ZmZhODUyMjExYjk1ZTEuc2V0Q29udGVudChodG1sXzc3ZDI4ZGM4Y2RkZjRlZDJiNDE3NTYwMTNhZDdiZjI5KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzMxMDU5NTkwNDZhZTQ2ZGI4OWViOTk3OWYwYzhjYmM3LmJpbmRQb3B1cChwb3B1cF80MjUxZjNhOWJhMDA0MjFkYTZmZmE4NTIyMTFiOTVlMSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9iYjQ4Zjk3ZmE1ZDk0NTg4YWViOGNjYjY3OGVmOTQzZiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY4OTU3NDMsLTc5LjM4MzE1OTkwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2UwZDJiZjMyMzhiYzRhMTA4Y2Q5NTk4MmUwZTM3OGY0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzg4YTkzOGQ5MjEyNDQzNjZiNzM4M2E2ZTUwYzIyY2QyID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2FhN2JlZDRlZmRjNDQ5NGY4NjJmMDQ0NDgxZTIzNDJiID0gJCgnPGRpdiBpZD0iaHRtbF9hYTdiZWQ0ZWZkYzQ0OTRmODYyZjA0NDQ4MWUyMzQyYiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+TW9vcmUgUGFyaywgU3VtbWVyaGlsbCBFYXN0LCBDZW50cmFsIFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzg4YTkzOGQ5MjEyNDQzNjZiNzM4M2E2ZTUwYzIyY2QyLnNldENvbnRlbnQoaHRtbF9hYTdiZWQ0ZWZkYzQ0OTRmODYyZjA0NDQ4MWUyMzQyYik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9iYjQ4Zjk3ZmE1ZDk0NTg4YWViOGNjYjY3OGVmOTQzZi5iaW5kUG9wdXAocG9wdXBfODhhOTM4ZDkyMTI0NDM2NmI3MzgzYTZlNTBjMjJjZDIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYWRmODgwNGQ0YmE2NDEwMjhhZTJlYmVkZDNkZjZhZWEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NTMyMDU3LC03OS40MDAwNDkzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2UwZDJiZjMyMzhiYzRhMTA4Y2Q5NTk4MmUwZTM3OGY0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzQwZjJiZThiZmU4ZjQ2ZGRiMjU1NmVjZWNjZDRiYTE1ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2YxMTUxMTlkMDRlNjQwNzliZWE5OTc1YWI3YmNmNDQ3ID0gJCgnPGRpdiBpZD0iaHRtbF9mMTE1MTE5ZDA0ZTY0MDc5YmVhOTk3NWFiN2JjZjQ0NyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2hpbmF0b3duLCBHcmFuZ2UgUGFyaywgS2Vuc2luZ3RvbiBNYXJrZXQsIERvd250b3duIFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzQwZjJiZThiZmU4ZjQ2ZGRiMjU1NmVjZWNjZDRiYTE1LnNldENvbnRlbnQoaHRtbF9mMTE1MTE5ZDA0ZTY0MDc5YmVhOTk3NWFiN2JjZjQ0Nyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9hZGY4ODA0ZDRiYTY0MTAyOGFlMmViZWRkM2RmNmFlYS5iaW5kUG9wdXAocG9wdXBfNDBmMmJlOGJmZThmNDZkZGIyNTU2ZWNlY2NkNGJhMTUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOGNmNzUyMmRjYjYxNDY0N2FmMjNiNjdlYjY0OTY2M2MgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My44MTUyNTIyLC03OS4yODQ1NzcyXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2UwZDJiZjMyMzhiYzRhMTA4Y2Q5NTk4MmUwZTM3OGY0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzEwNWExNmVlNDhlYjQ2NWJhODgwOGIyMGJkODE3OTg3ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2UyNmUyMDgyOTg5ZTRhZWJhYWZjYzU2MTQ3NDEyZDQ2ID0gJCgnPGRpdiBpZD0iaHRtbF9lMjZlMjA4Mjk4OWU0YWViYWFmY2M1NjE0NzQxMmQ0NiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QWdpbmNvdXJ0IE5vcnRoLCBMJiMzOTtBbW9yZWF1eCBFYXN0LCBNaWxsaWtlbiwgU3RlZWxlcyBFYXN0LCBTY2FyYm9yb3VnaDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMTA1YTE2ZWU0OGViNDY1YmE4ODA4YjIwYmQ4MTc5ODcuc2V0Q29udGVudChodG1sX2UyNmUyMDgyOTg5ZTRhZWJhYWZjYzU2MTQ3NDEyZDQ2KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzhjZjc1MjJkY2I2MTQ2NDdhZjIzYjY3ZWI2NDk2NjNjLmJpbmRQb3B1cChwb3B1cF8xMDVhMTZlZTQ4ZWI0NjViYTg4MDhiMjBiZDgxNzk4Nyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9mOTUxZjhlYWZlNjc0MjE1OTI1Y2Q3NmRiMDZiZTgzYyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY4NjQxMjI5OTk5OTk5LC03OS40MDAwNDkzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2UwZDJiZjMyMzhiYzRhMTA4Y2Q5NTk4MmUwZTM3OGY0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzIwNzMwYjQ3YzA2MTRiMGM4MjI4MWE4NzM4YTU4OTI3ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzFhZjc0MmMwN2Y2ZDQ1ZWRiMTE3ODkwNzdlMTkyZWZjID0gJCgnPGRpdiBpZD0iaHRtbF8xYWY3NDJjMDdmNmQ0NWVkYjExNzg5MDc3ZTE5MmVmYyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RGVlciBQYXJrLCBGb3Jlc3QgSGlsbCBTRSwgUmF0aG5lbGx5LCBTb3V0aCBIaWxsLCBTdW1tZXJoaWxsIFdlc3QsIENlbnRyYWwgVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMjA3MzBiNDdjMDYxNGIwYzgyMjgxYTg3MzhhNTg5Mjcuc2V0Q29udGVudChodG1sXzFhZjc0MmMwN2Y2ZDQ1ZWRiMTE3ODkwNzdlMTkyZWZjKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2Y5NTFmOGVhZmU2NzQyMTU5MjVjZDc2ZGIwNmJlODNjLmJpbmRQb3B1cChwb3B1cF8yMDczMGI0N2MwNjE0YjBjODIyODFhODczOGE1ODkyNyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8yZDM4MWIxYjRhMDg0ZjkxOTlmNDI1MTcyYzU2M2NjMiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjYyODk0NjcsLTc5LjM5NDQxOTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZTBkMmJmMzIzOGJjNGExMDhjZDk1OTgyZTBlMzc4ZjQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYmRmZjM0ZGVjZjUzNGEwMzkzZjFkNTliNjYwNmQ4MjAgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOTFiZTlkYjhmYzE1NDMwNDkzODFkMDVmNzMwMzdlMDUgPSAkKCc8ZGl2IGlkPSJodG1sXzkxYmU5ZGI4ZmMxNTQzMDQ5MzgxZDA1ZjczMDM3ZTA1IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DTiBUb3dlciwgQmF0aHVyc3QgUXVheSwgSXNsYW5kIGFpcnBvcnQsIEhhcmJvdXJmcm9udCBXZXN0LCBLaW5nIGFuZCBTcGFkaW5hLCBSYWlsd2F5IExhbmRzLCBTb3V0aCBOaWFnYXJhLCBEb3dudG93biBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9iZGZmMzRkZWNmNTM0YTAzOTNmMWQ1OWI2NjA2ZDgyMC5zZXRDb250ZW50KGh0bWxfOTFiZTlkYjhmYzE1NDMwNDkzODFkMDVmNzMwMzdlMDUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMmQzODFiMWI0YTA4NGY5MTk5ZjQyNTE3MmM1NjNjYzIuYmluZFBvcHVwKHBvcHVwX2JkZmYzNGRlY2Y1MzRhMDM5M2YxZDU5YjY2MDZkODIwKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzMzY2U2NjdkOGM4ZjQ5Y2JiOTFhZjE5Y2I5YjNkZTc5ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjA1NjQ2NiwtNzkuNTAxMzIwNzAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZTBkMmJmMzIzOGJjNGExMDhjZDk1OTgyZTBlMzc4ZjQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMDQ5NWNiNWNmNjg0NGY2YThmMGExOWFlZmZjNjcyNTkgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMTczM2Y1NzA2YzVmNGE5OTg4YjBjNjk1Mzc5YWU1OTIgPSAkKCc8ZGl2IGlkPSJodG1sXzE3MzNmNTcwNmM1ZjRhOTk4OGIwYzY5NTM3OWFlNTkyIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5IdW1iZXIgQmF5IFNob3JlcywgTWltaWNvIFNvdXRoLCBOZXcgVG9yb250bywgRXRvYmljb2tlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8wNDk1Y2I1Y2Y2ODQ0ZjZhOGYwYTE5YWVmZmM2NzI1OS5zZXRDb250ZW50KGh0bWxfMTczM2Y1NzA2YzVmNGE5OTg4YjBjNjk1Mzc5YWU1OTIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMzNjZTY2N2Q4YzhmNDljYmI5MWFmMTljYjliM2RlNzkuYmluZFBvcHVwKHBvcHVwXzA0OTVjYjVjZjY4NDRmNmE4ZjBhMTlhZWZmYzY3MjU5KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzQ4OGM4YzJiM2QwNDQ2MGRhMDlmMWE2Y2YxNWZhMDNhID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzM5NDE2Mzk5OTk5OTk2LC03OS41ODg0MzY5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2UwZDJiZjMyMzhiYzRhMTA4Y2Q5NTk4MmUwZTM3OGY0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzhmNTk2ODhlNWI2ODQyYThiYjhkNjlkNzYxYzNiZTczID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2VhOTZiMzlkYWEwZTQ5OWViOGRiMzE1NTQwODlmOTJmID0gJCgnPGRpdiBpZD0iaHRtbF9lYTk2YjM5ZGFhMGU0OTllYjhkYjMxNTU0MDg5ZjkyZiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QWxiaW9uIEdhcmRlbnMsIEJlYXVtb25kIEhlaWdodHMsIEh1bWJlcmdhdGUsIEphbWVzdG93biwgTW91bnQgT2xpdmUsIFNpbHZlcnN0b25lLCBTb3V0aCBTdGVlbGVzLCBUaGlzdGxldG93biwgRXRvYmljb2tlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF84ZjU5Njg4ZTViNjg0MmE4YmI4ZDY5ZDc2MWMzYmU3My5zZXRDb250ZW50KGh0bWxfZWE5NmIzOWRhYTBlNDk5ZWI4ZGIzMTU1NDA4OWY5MmYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNDg4YzhjMmIzZDA0NDYwZGEwOWYxYTZjZjE1ZmEwM2EuYmluZFBvcHVwKHBvcHVwXzhmNTk2ODhlNWI2ODQyYThiYjhkNjlkNzYxYzNiZTczKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzlkZWUzYmQ3YTkzZjQ5NmQ4MDU1YzhkMjc0MmYxMzRmID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzk5NTI1MjAwMDAwMDA1LC03OS4zMTgzODg3XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2UwZDJiZjMyMzhiYzRhMTA4Y2Q5NTk4MmUwZTM3OGY0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2M5OGRiMTc1M2QxMTQ2OWZhY2FlZTY3MTcwNTdlMzQ2ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2FkYmZiOTU4Mjc3YzRmZmE4MWFmYmY0OTYxZDNhZjI4ID0gJCgnPGRpdiBpZD0iaHRtbF9hZGJmYjk1ODI3N2M0ZmZhODFhZmJmNDk2MWQzYWYyOCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+TCYjMzk7QW1vcmVhdXggV2VzdCwgU2NhcmJvcm91Z2g8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2M5OGRiMTc1M2QxMTQ2OWZhY2FlZTY3MTcwNTdlMzQ2LnNldENvbnRlbnQoaHRtbF9hZGJmYjk1ODI3N2M0ZmZhODFhZmJmNDk2MWQzYWYyOCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl85ZGVlM2JkN2E5M2Y0OTZkODA1NWM4ZDI3NDJmMTM0Zi5iaW5kUG9wdXAocG9wdXBfYzk4ZGIxNzUzZDExNDY5ZmFjYWVlNjcxNzA1N2UzNDYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMTRlNjE1ZjNkZmEwNDg4M2FjMmQwMDg5NGJhMTM0ZTYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42Nzk1NjI2LC03OS4zNzc1Mjk0MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMGQyYmYzMjM4YmM0YTEwOGNkOTU5ODJlMGUzNzhmNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8wMmYxMzJjMDY0NTc0ZTJiYmNjMTQyNGZjZTlkZWYwNSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8zOWQ5MmM3Mzk4YWI0MGNlYWU5ZjQ0YjRjOTllMzI3MSA9ICQoJzxkaXYgaWQ9Imh0bWxfMzlkOTJjNzM5OGFiNDBjZWFlOWY0NGI0Yzk5ZTMyNzEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlJvc2VkYWxlLCBEb3dudG93biBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8wMmYxMzJjMDY0NTc0ZTJiYmNjMTQyNGZjZTlkZWYwNS5zZXRDb250ZW50KGh0bWxfMzlkOTJjNzM5OGFiNDBjZWFlOWY0NGI0Yzk5ZTMyNzEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMTRlNjE1ZjNkZmEwNDg4M2FjMmQwMDg5NGJhMTM0ZTYuYmluZFBvcHVwKHBvcHVwXzAyZjEzMmMwNjQ1NzRlMmJiY2MxNDI0ZmNlOWRlZjA1KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzUxMGY3ZDdlMDg4ZTRkZTY5ZWE1YzQ4N2NlYTViMjg1ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjQ2NDM1MiwtNzkuMzc0ODQ1OTk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZTBkMmJmMzIzOGJjNGExMDhjZDk1OTgyZTBlMzc4ZjQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOTdiMTBkY2M5N2NhNDU0Y2JmNzZjNmQ4YTBlNThhNmQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZjk0MzBlYmJlZGY5NDM1YTg1NjdmMDlhZDI5NmJlMjUgPSAkKCc8ZGl2IGlkPSJodG1sX2Y5NDMwZWJiZWRmOTQzNWE4NTY3ZjA5YWQyOTZiZTI1IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5TdG4gQSBQTyBCb3hlcyAyNSBUaGUgRXNwbGFuYWRlLCBEb3dudG93biBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF85N2IxMGRjYzk3Y2E0NTRjYmY3NmM2ZDhhMGU1OGE2ZC5zZXRDb250ZW50KGh0bWxfZjk0MzBlYmJlZGY5NDM1YTg1NjdmMDlhZDI5NmJlMjUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNTEwZjdkN2UwODhlNGRlNjllYTVjNDg3Y2VhNWIyODUuYmluZFBvcHVwKHBvcHVwXzk3YjEwZGNjOTdjYTQ1NGNiZjc2YzZkOGEwZTU4YTZkKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzRjNjBiZTIwZTUyNjRlODU4Y2IzMTUyZDU2ZTIyYmI0ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjAyNDEzNzAwMDAwMDEsLTc5LjU0MzQ4NDA5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2UwZDJiZjMyMzhiYzRhMTA4Y2Q5NTk4MmUwZTM3OGY0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2IwOGQ5MjE0MTM1YTRkMDBiZTM0Njc1MzBiMGYwYzVhID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzE3YTI0N2E5OThmYjQ2NDA4YmNjNTVhNWNmYTkzODZiID0gJCgnPGRpdiBpZD0iaHRtbF8xN2EyNDdhOTk4ZmI0NjQwOGJjYzU1YTVjZmE5Mzg2YiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QWxkZXJ3b29kLCBMb25nIEJyYW5jaCwgRXRvYmljb2tlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9iMDhkOTIxNDEzNWE0ZDAwYmUzNDY3NTMwYjBmMGM1YS5zZXRDb250ZW50KGh0bWxfMTdhMjQ3YTk5OGZiNDY0MDhiY2M1NWE1Y2ZhOTM4NmIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNGM2MGJlMjBlNTI2NGU4NThjYjMxNTJkNTZlMjJiYjQuYmluZFBvcHVwKHBvcHVwX2IwOGQ5MjE0MTM1YTRkMDBiZTM0Njc1MzBiMGYwYzVhKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzRlZGNlNjg1M2NmMDQ4MzQ5YTBkYzM1NGI4MGRjMTRjID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzA2NzQ4Mjk5OTk5OTk0LC03OS41OTQwNTQ0XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2UwZDJiZjMyMzhiYzRhMTA4Y2Q5NTk4MmUwZTM3OGY0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzIyY2FhZjc2ZmU4ZTQ5NmI5YzBmZGI1Njg3ODA0Y2VmID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzNkY2RjNWM4MTIzZTRiNjNhMGU0YjU2ZDVhNjc4ZWU4ID0gJCgnPGRpdiBpZD0iaHRtbF8zZGNkYzVjODEyM2U0YjYzYTBlNGI1NmQ1YTY3OGVlOCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Tm9ydGh3ZXN0LCBFdG9iaWNva2U8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzIyY2FhZjc2ZmU4ZTQ5NmI5YzBmZGI1Njg3ODA0Y2VmLnNldENvbnRlbnQoaHRtbF8zZGNkYzVjODEyM2U0YjYzYTBlNGI1NmQ1YTY3OGVlOCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl80ZWRjZTY4NTNjZjA0ODM0OWEwZGMzNTRiODBkYzE0Yy5iaW5kUG9wdXAocG9wdXBfMjJjYWFmNzZmZThlNDk2YjljMGZkYjU2ODc4MDRjZWYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZDVlYzBmNWU5NzRmNDRlOTg0YWRhNjJjNjcyN2YyMDcgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My44MzYxMjQ3MDAwMDAwMDYsLTc5LjIwNTYzNjA5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2UwZDJiZjMyMzhiYzRhMTA4Y2Q5NTk4MmUwZTM3OGY0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzA3ZjQxYzVlNzRhNjQzYjc4ODIwNWQwNThlMTY5YWFiID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzBhNDFkZGJjMTllNTQxYTViZmQwNjM4MGYyZGIyNTBlID0gJCgnPGRpdiBpZD0iaHRtbF8wYTQxZGRiYzE5ZTU0MWE1YmZkMDYzODBmMmRiMjUwZSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+VXBwZXIgUm91Z2UsIFNjYXJib3JvdWdoPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8wN2Y0MWM1ZTc0YTY0M2I3ODgyMDVkMDU4ZTE2OWFhYi5zZXRDb250ZW50KGh0bWxfMGE0MWRkYmMxOWU1NDFhNWJmZDA2MzgwZjJkYjI1MGUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZDVlYzBmNWU5NzRmNDRlOTg0YWRhNjJjNjcyN2YyMDcuYmluZFBvcHVwKHBvcHVwXzA3ZjQxYzVlNzRhNjQzYjc4ODIwNWQwNThlMTY5YWFiKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzc4ODM5ZTlkYzhhYzRhZmNiZmVlNzExMjQzNzJkY2Y3ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjY3OTY3LC03OS4zNjc2NzUzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2UwZDJiZjMyMzhiYzRhMTA4Y2Q5NTk4MmUwZTM3OGY0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzRhNTUwZjQ4ZTk4OTRlYTU5NjI4MjZkNDQ2ZDAwOTQzID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzZiMmIyYTM0Y2MwNDRkZGFhZDZjZmQ0N2ViYzY4YjQ2ID0gJCgnPGRpdiBpZD0iaHRtbF82YjJiMmEzNGNjMDQ0ZGRhYWQ2Y2ZkNDdlYmM2OGI0NiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2FiYmFnZXRvd24sIFN0LiBKYW1lcyBUb3duLCBEb3dudG93biBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF80YTU1MGY0OGU5ODk0ZWE1OTYyODI2ZDQ0NmQwMDk0My5zZXRDb250ZW50KGh0bWxfNmIyYjJhMzRjYzA0NGRkYWFkNmNmZDQ3ZWJjNjhiNDYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNzg4MzllOWRjOGFjNGFmY2JmZWU3MTEyNDM3MmRjZjcuYmluZFBvcHVwKHBvcHVwXzRhNTUwZjQ4ZTk4OTRlYTU5NjI4MjZkNDQ2ZDAwOTQzKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2JhMTAxZjQ1YmRkNzQ2Y2M4OGJmNWU1ODc1MWExNDkyID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjQ4NDI5MiwtNzkuMzgyMjgwMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMGQyYmYzMjM4YmM0YTEwOGNkOTU5ODJlMGUzNzhmNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF80MzI2NWI3MzY2ZDc0M2Y1YjFhN2UxN2YyOTE0NTQ5MSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF84MDk5MTEyNjYxZTM0NjJhYjA0OGEyMWVkMDcxYTM1YyA9ICQoJzxkaXYgaWQ9Imh0bWxfODA5OTExMjY2MWUzNDYyYWIwNDhhMjFlZDA3MWEzNWMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkZpcnN0IENhbmFkaWFuIFBsYWNlLCBVbmRlcmdyb3VuZCBjaXR5LCBEb3dudG93biBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF80MzI2NWI3MzY2ZDc0M2Y1YjFhN2UxN2YyOTE0NTQ5MS5zZXRDb250ZW50KGh0bWxfODA5OTExMjY2MWUzNDYyYWIwNDhhMjFlZDA3MWEzNWMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYmExMDFmNDViZGQ3NDZjYzg4YmY1ZTU4NzUxYTE0OTIuYmluZFBvcHVwKHBvcHVwXzQzMjY1YjczNjZkNzQzZjViMWE3ZTE3ZjI5MTQ1NDkxKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzFkZGYwNjNlODUyODQ3YTdiMWNlZWIyOTE3ZTY5OWEwID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjUzNjUzNjAwMDAwMDA1LC03OS41MDY5NDM2XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2UwZDJiZjMyMzhiYzRhMTA4Y2Q5NTk4MmUwZTM3OGY0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2NiY2IwZTEwNTNjMDRjMzFhMTllZjYyYzQzY2ZlZjkzID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzhkZjU5MDA4ZWFhNDQzYmI5Y2FhY2Y5NTIzZTI1NGRjID0gJCgnPGRpdiBpZD0iaHRtbF84ZGY1OTAwOGVhYTQ0M2JiOWNhYWNmOTUyM2UyNTRkYyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+VGhlIEtpbmdzd2F5LCBNb250Z29tZXJ5IFJvYWQsIE9sZCBNaWxsIE5vcnRoLCBFdG9iaWNva2U8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2NiY2IwZTEwNTNjMDRjMzFhMTllZjYyYzQzY2ZlZjkzLnNldENvbnRlbnQoaHRtbF84ZGY1OTAwOGVhYTQ0M2JiOWNhYWNmOTUyM2UyNTRkYyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8xZGRmMDYzZTg1Mjg0N2E3YjFjZWViMjkxN2U2OTlhMC5iaW5kUG9wdXAocG9wdXBfY2JjYjBlMTA1M2MwNGMzMWExOWVmNjJjNDNjZmVmOTMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZDc0YjdiN2M5OTk3NDlkZjkzOWNiMWIyZjcxZTgxZjEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NjU4NTk5LC03OS4zODMxNTk5MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMGQyYmYzMjM4YmM0YTEwOGNkOTU5ODJlMGUzNzhmNCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF84NzBlNzZiNjMyNzc0Y2U0OTkzNTBjMGZmMjhiMjYwMyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9lNmZlNWQ3Y2YwNjA0ODM2OGYyYjMwY2M1M2RiM2ZjMiA9ICQoJzxkaXYgaWQ9Imh0bWxfZTZmZTVkN2NmMDYwNDgzNjhmMmIzMGNjNTNkYjNmYzIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNodXJjaCBhbmQgV2VsbGVzbGV5LCBEb3dudG93biBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF84NzBlNzZiNjMyNzc0Y2U0OTkzNTBjMGZmMjhiMjYwMy5zZXRDb250ZW50KGh0bWxfZTZmZTVkN2NmMDYwNDgzNjhmMmIzMGNjNTNkYjNmYzIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZDc0YjdiN2M5OTk3NDlkZjkzOWNiMWIyZjcxZTgxZjEuYmluZFBvcHVwKHBvcHVwXzg3MGU3NmI2MzI3NzRjZTQ5OTM1MGMwZmYyOGIyNjAzKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2Q5YjMwYTJhYWJlNTRlNThhOGE2MzU4YWVjOTdkNTBkID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjYyNzQzOSwtNzkuMzIxNTU4XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2UwZDJiZjMyMzhiYzRhMTA4Y2Q5NTk4MmUwZTM3OGY0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2E4MmE1MTU4NGQwNTRmYTg4NWJkNmQwNGQxOGNjYjFiID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzI4MzE5ODYzNjZiMjQ4YmI5ODdlMjY3MDFmZDZmZDQ3ID0gJCgnPGRpdiBpZD0iaHRtbF8yODMxOTg2MzY2YjI0OGJiOTg3ZTI2NzAxZmQ2ZmQ0NyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QnVzaW5lc3MgUmVwbHkgTWFpbCBQcm9jZXNzaW5nIENlbnRyZSA5NjkgRWFzdGVybiwgRWFzdCBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9hODJhNTE1ODRkMDU0ZmE4ODViZDZkMDRkMThjY2IxYi5zZXRDb250ZW50KGh0bWxfMjgzMTk4NjM2NmIyNDhiYjk4N2UyNjcwMWZkNmZkNDcpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZDliMzBhMmFhYmU1NGU1OGE4YTYzNThhZWM5N2Q1MGQuYmluZFBvcHVwKHBvcHVwX2E4MmE1MTU4NGQwNTRmYTg4NWJkNmQwNGQxOGNjYjFiKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2MxNzFlOTI0ODkyNTQwYTc5YzcxNWZiYTRlNDE0MTkwID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjM2MjU3OSwtNzkuNDk4NTA5MDk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZTBkMmJmMzIzOGJjNGExMDhjZDk1OTgyZTBlMzc4ZjQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYTdkMjRhYmNkMDA0NGEzNWI3NWRlYmIzNTAyNDE5MjYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfN2ZlOGQyNDkwMmM4NGJhY2EyMzEzNzA3MDNjNmM4YmEgPSAkKCc8ZGl2IGlkPSJodG1sXzdmZThkMjQ5MDJjODRiYWNhMjMxMzcwNzAzYzZjOGJhIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5IdW1iZXIgQmF5LCBLaW5nJiMzOTtzIE1pbGwgUGFyaywgS2luZ3N3YXkgUGFyayBTb3V0aCBFYXN0LCBNaW1pY28gTkUsIE9sZCBNaWxsIFNvdXRoLCBUaGUgUXVlZW5zd2F5IEVhc3QsIFJveWFsIFlvcmsgU291dGggRWFzdCwgU3VubnlsZWEsIEV0b2JpY29rZTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYTdkMjRhYmNkMDA0NGEzNWI3NWRlYmIzNTAyNDE5MjYuc2V0Q29udGVudChodG1sXzdmZThkMjQ5MDJjODRiYWNhMjMxMzcwNzAzYzZjOGJhKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2MxNzFlOTI0ODkyNTQwYTc5YzcxNWZiYTRlNDE0MTkwLmJpbmRQb3B1cChwb3B1cF9hN2QyNGFiY2QwMDQ0YTM1Yjc1ZGViYjM1MDI0MTkyNik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9kZTM0MGIyZjdiZmU0NWU1OGM4MDU2OTNlNTMwZTY5MyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjYyODg0MDgsLTc5LjUyMDk5OTQwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2UwZDJiZjMyMzhiYzRhMTA4Y2Q5NTk4MmUwZTM3OGY0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzEzNzU3M2Y0YjZhMDQ2ODY4Y2E1ODJmYmRmNTYxZjg0ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzQ3NDI1ZGIyYzllNDQxNWM4YWM4MDcxOTQ1ODM2NjQ0ID0gJCgnPGRpdiBpZD0iaHRtbF80NzQyNWRiMmM5ZTQ0MTVjOGFjODA3MTk0NTgzNjY0NCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+S2luZ3N3YXkgUGFyayBTb3V0aCBXZXN0LCBNaW1pY28gTlcsIFRoZSBRdWVlbnN3YXkgV2VzdCwgUm95YWwgWW9yayBTb3V0aCBXZXN0LCBTb3V0aCBvZiBCbG9vciwgRXRvYmljb2tlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8xMzc1NzNmNGI2YTA0Njg2OGNhNTgyZmJkZjU2MWY4NC5zZXRDb250ZW50KGh0bWxfNDc0MjVkYjJjOWU0NDE1YzhhYzgwNzE5NDU4MzY2NDQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZGUzNDBiMmY3YmZlNDVlNThjODA1NjkzZTUzMGU2OTMuYmluZFBvcHVwKHBvcHVwXzEzNzU3M2Y0YjZhMDQ2ODY4Y2E1ODJmYmRmNTYxZjg0KTsKCiAgICAgICAgICAgIAogICAgICAgIAo8L3NjcmlwdD4=\" style=\"position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;\" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div>", 
                        "text/plain": "<folium.folium.Map at 0x7f90d53e73c8>"
                    }, 
                    "output_type": "execute_result"
                }
            ], 
            "source": "# create map of Toronto, Canada using latitude and longitude values\nmap_toronto = folium.Map(location=[latitude, longitude], zoom_start=10)\n\n# add markers to map\nfor lat, lng, borough, neighborhood in zip(canada_zip_df_new ['Latitude'], canada_zip_df_new ['Longitude'], canada_zip_df_new ['Borough'], canada_zip_df_new ['Neighbourhood']):\n    label = '{}, {}'.format(neighborhood, borough)\n    label = folium.Popup(label, parse_html=True)\n    folium.CircleMarker(\n        [lat, lng],\n        radius=5,\n        popup=label,\n        color='blue',\n        fill=True,\n        fill_color='#3186cc',\n        fill_opacity=0.7,\n        parse_html=False).add_to(map_toronto)  \n    \nmap_toronto"
        }, 
        {
            "source": "## Question 3 - Analyzing the Toronto areas - Foursquare venues, clustering", 
            "cell_type": "markdown", 
            "metadata": {}
        }, 
        {
            "execution_count": 56, 
            "cell_type": "code", 
            "metadata": {
                "scrolled": true
            }, 
            "outputs": [
                {
                    "output_type": "stream", 
                    "name": "stdout", 
                    "text": "Your credentails:\nCLIENT_ID: \nCLIENT_SECRET:\n"
                }
            ], 
            "source": "{\n    \"tags\": [\n        \"hide_input\",\n    ]\n}\nLIMIT = 100 #\nradius = 500\nCLIENT_ID = '' # your Foursquare ID\nCLIENT_SECRET = '' # your Foursquare Secret\nVERSION = '20180605' # Foursquare API version\n\nprint('Your credentails:')\nprint('CLIENT_ID: ' + CLIENT_ID)\nprint('CLIENT_SECRET:' + CLIENT_SECRET)"
        }, 
        {
            "execution_count": 23, 
            "cell_type": "code", 
            "metadata": {}, 
            "outputs": [], 
            "source": "def getNearbyVenues(names, latitudes, longitudes, radius=500):\n    \n    venues_list=[]\n    for name, lat, lng in zip(names, latitudes, longitudes):\n        print(name)\n            \n        # create the API request URL\n        url = 'https://api.foursquare.com/v2/venues/explore?&client_id={}&client_secret={}&v={}&ll={},{}&radius={}&limit={}'.format(\n            CLIENT_ID, \n            CLIENT_SECRET, \n            VERSION, \n            lat, \n            lng, \n            radius, \n            LIMIT)\n            \n        # make the GET request\n        results = requests.get(url).json()[\"response\"]['groups'][0]['items']\n        \n        # return only relevant information for each nearby venue\n        venues_list.append([(\n            name, \n            lat, \n            lng, \n            v['venue']['name'], \n            v['venue']['location']['lat'], \n            v['venue']['location']['lng'],  \n            v['venue']['categories'][0]['name']) for v in results])\n\n    nearby_venues = pd.DataFrame([item for venue_list in venues_list for item in venue_list])\n    nearby_venues.columns = ['Neighbourhood', \n                  'Neighbourhood Latitude', \n                  'Neighbourhood Longitude', \n                  'Venue', \n                  'Venue Latitude', \n                  'Venue Longitude', \n                  'Venue Category']\n    \n    return(nearby_venues)"
        }, 
        {
            "execution_count": 24, 
            "cell_type": "code", 
            "metadata": {}, 
            "outputs": [
                {
                    "output_type": "stream", 
                    "name": "stdout", 
                    "text": "Parkwoods\nVictoria Village\nHarbourfront, Regent Park\nLawrence Heights, Lawrence Manor\nQueen's Park\nIslington Avenue\nRouge, Malvern\nDon Mills North\nWoodbine Gardens, Parkview Hill\nRyerson, Garden District\nGlencairn\nCloverdale, Islington, Martin Grove, Princess Gardens, West Deane Park\nHighland Creek, Rouge Hill, Port Union\nFlemingdon Park, Don Mills South\nWoodbine Heights\nSt. James Town\nHumewood-Cedarvale\nBloordale Gardens, Eringate, Markland Wood, Old Burnhamthorpe\nGuildwood, Morningside, West Hill\nThe Beaches\nBerczy Park\nCaledonia-Fairbanks\nWoburn\nLeaside\nCentral Bay Street\nChristie\nCedarbrae\nHillcrest Village\nBathurst Manor, Downsview North, Wilson Heights\nThorncliffe Park\nAdelaide, King, Richmond\nDovercourt Village, Dufferin\nScarborough Village\nFairview, Henry Farm, Oriole\nNorthwood Park, York University\nEast Toronto\nHarbourfront East, Toronto Islands, Union Station\nLittle Portugal, Trinity\nEast Birchmount Park, Ionview, Kennedy Park\nBayview Village\nCFB Toronto, Downsview East\nThe Danforth West, Riverdale\nDesign Exchange, Toronto Dominion Centre\nBrockton, Exhibition Place, Parkdale Village\nClairlea, Golden Mile, Oakridge\nSilver Hills, York Mills\nDownsview West\nThe Beaches West, India Bazaar\nCommerce Court, Victoria Hotel\nDownsview, North Park, Upwood Park\nHumber Summit\nCliffcrest, Cliffside, Scarborough Village West\nNewtonbrook, Willowdale\nDownsview Central\nStudio District\nBedford Park, Lawrence Manor East\nDel Ray, Keelesdale, Mount Dennis, Silverthorn\nEmery, Humberlea\nBirch Cliff, Cliffside West\nWillowdale South\nDownsview Northwest\nLawrence Park\nRoselawn\nThe Junction North, Runnymede\nWeston\nDorset Park, Scarborough Town Centre, Wexford Heights\nYork Mills West\nDavisville North\nForest Hill North, Forest Hill West\nHigh Park, The Junction South\nWestmount\nMaryvale, Wexford\nWillowdale West\nNorth Toronto West\nThe Annex, North Midtown, Yorkville\nParkdale, Roncesvalles\nCanada Post Gateway Processing Centre\nKingsview Village, Martin Grove Gardens, Richview Gardens, St. Phillips\nAgincourt\nDavisville\nHarbord, University of Toronto\nRunnymede, Swansea\nClarks Corners, Sullivan, Tam O'Shanter\nMoore Park, Summerhill East\nChinatown, Grange Park, Kensington Market\nAgincourt North, L'Amoreaux East, Milliken, Steeles East\nDeer Park, Forest Hill SE, Rathnelly, South Hill, Summerhill West\nCN Tower, Bathurst Quay, Island airport, Harbourfront West, King and Spadina, Railway Lands, South Niagara\nHumber Bay Shores, Mimico South, New Toronto\nAlbion Gardens, Beaumond Heights, Humbergate, Jamestown, Mount Olive, Silverstone, South Steeles, Thistletown\nL'Amoreaux West\nRosedale\nStn A PO Boxes 25 The Esplanade\nAlderwood, Long Branch\nNorthwest\nUpper Rouge\nCabbagetown, St. James Town\nFirst Canadian Place, Underground city\nThe Kingsway, Montgomery Road, Old Mill North\nChurch and Wellesley\nBusiness Reply Mail Processing Centre 969 Eastern\nHumber Bay, King's Mill Park, Kingsway Park South East, Mimico NE, Old Mill South, The Queensway East, Royal York South East, Sunnylea\nKingsway Park South West, Mimico NW, The Queensway West, Royal York South West, South of Bloor\n"
                }
            ], 
            "source": "# List the Neighbourhoods\ntoronto_venues = getNearbyVenues(names=canada_zip_df_new['Neighbourhood'],\n                                   latitudes=canada_zip_df_new['Latitude'],\n                                   longitudes=canada_zip_df_new['Longitude']\n                                  )\n\n\n"
        }, 
        {
            "execution_count": 25, 
            "cell_type": "code", 
            "metadata": {}, 
            "outputs": [
                {
                    "output_type": "stream", 
                    "name": "stdout", 
                    "text": "(2249, 7)\n"
                }, 
                {
                    "execution_count": 25, 
                    "metadata": {}, 
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Neighbourhood</th>\n      <th>Neighbourhood Latitude</th>\n      <th>Neighbourhood Longitude</th>\n      <th>Venue</th>\n      <th>Venue Latitude</th>\n      <th>Venue Longitude</th>\n      <th>Venue Category</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>Parkwoods</td>\n      <td>43.753259</td>\n      <td>-79.329656</td>\n      <td>Brookbanks Park</td>\n      <td>43.751976</td>\n      <td>-79.332140</td>\n      <td>Park</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>Parkwoods</td>\n      <td>43.753259</td>\n      <td>-79.329656</td>\n      <td>KFC</td>\n      <td>43.754387</td>\n      <td>-79.333021</td>\n      <td>Fast Food Restaurant</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>Parkwoods</td>\n      <td>43.753259</td>\n      <td>-79.329656</td>\n      <td>Variety Store</td>\n      <td>43.751974</td>\n      <td>-79.333114</td>\n      <td>Food &amp; Drink Shop</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>Victoria Village</td>\n      <td>43.725882</td>\n      <td>-79.315572</td>\n      <td>Victoria Village Arena</td>\n      <td>43.723481</td>\n      <td>-79.315635</td>\n      <td>Hockey Arena</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>Victoria Village</td>\n      <td>43.725882</td>\n      <td>-79.315572</td>\n      <td>Tim Hortons</td>\n      <td>43.725517</td>\n      <td>-79.313103</td>\n      <td>Coffee Shop</td>\n    </tr>\n  </tbody>\n</table>\n</div>", 
                        "text/plain": "      Neighbourhood  Neighbourhood Latitude  Neighbourhood Longitude  \\\n0         Parkwoods               43.753259               -79.329656   \n1         Parkwoods               43.753259               -79.329656   \n2         Parkwoods               43.753259               -79.329656   \n3  Victoria Village               43.725882               -79.315572   \n4  Victoria Village               43.725882               -79.315572   \n\n                    Venue  Venue Latitude  Venue Longitude  \\\n0         Brookbanks Park       43.751976       -79.332140   \n1                     KFC       43.754387       -79.333021   \n2           Variety Store       43.751974       -79.333114   \n3  Victoria Village Arena       43.723481       -79.315635   \n4             Tim Hortons       43.725517       -79.313103   \n\n         Venue Category  \n0                  Park  \n1  Fast Food Restaurant  \n2     Food & Drink Shop  \n3          Hockey Arena  \n4           Coffee Shop  "
                    }, 
                    "output_type": "execute_result"
                }
            ], 
            "source": "print(toronto_venues.shape)\ntoronto_venues.head()"
        }, 
        {
            "execution_count": 26, 
            "cell_type": "code", 
            "metadata": {}, 
            "outputs": [
                {
                    "execution_count": 26, 
                    "metadata": {}, 
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Neighbourhood Latitude</th>\n      <th>Neighbourhood Longitude</th>\n      <th>Venue</th>\n      <th>Venue Latitude</th>\n      <th>Venue Longitude</th>\n      <th>Venue Category</th>\n    </tr>\n    <tr>\n      <th>Neighbourhood</th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>Adelaide, King, Richmond</th>\n      <td>100</td>\n      <td>100</td>\n      <td>100</td>\n      <td>100</td>\n      <td>100</td>\n      <td>100</td>\n    </tr>\n    <tr>\n      <th>Agincourt</th>\n      <td>4</td>\n      <td>4</td>\n      <td>4</td>\n      <td>4</td>\n      <td>4</td>\n      <td>4</td>\n    </tr>\n    <tr>\n      <th>Agincourt North, L'Amoreaux East, Milliken, Steeles East</th>\n      <td>2</td>\n      <td>2</td>\n      <td>2</td>\n      <td>2</td>\n      <td>2</td>\n      <td>2</td>\n    </tr>\n    <tr>\n      <th>Albion Gardens, Beaumond Heights, Humbergate, Jamestown, Mount Olive, Silverstone, South Steeles, Thistletown</th>\n      <td>11</td>\n      <td>11</td>\n      <td>11</td>\n      <td>11</td>\n      <td>11</td>\n      <td>11</td>\n    </tr>\n    <tr>\n      <th>Alderwood, Long Branch</th>\n      <td>9</td>\n      <td>9</td>\n      <td>9</td>\n      <td>9</td>\n      <td>9</td>\n      <td>9</td>\n    </tr>\n    <tr>\n      <th>Bathurst Manor, Downsview North, Wilson Heights</th>\n      <td>18</td>\n      <td>18</td>\n      <td>18</td>\n      <td>18</td>\n      <td>18</td>\n      <td>18</td>\n    </tr>\n    <tr>\n      <th>Bayview Village</th>\n      <td>4</td>\n      <td>4</td>\n      <td>4</td>\n      <td>4</td>\n      <td>4</td>\n      <td>4</td>\n    </tr>\n    <tr>\n      <th>Bedford Park, Lawrence Manor East</th>\n      <td>22</td>\n      <td>22</td>\n      <td>22</td>\n      <td>22</td>\n      <td>22</td>\n      <td>22</td>\n    </tr>\n    <tr>\n      <th>Berczy Park</th>\n      <td>57</td>\n      <td>57</td>\n      <td>57</td>\n      <td>57</td>\n      <td>57</td>\n      <td>57</td>\n    </tr>\n    <tr>\n      <th>Birch Cliff, Cliffside West</th>\n      <td>4</td>\n      <td>4</td>\n      <td>4</td>\n      <td>4</td>\n      <td>4</td>\n      <td>4</td>\n    </tr>\n    <tr>\n      <th>Bloordale Gardens, Eringate, Markland Wood, Old Burnhamthorpe</th>\n      <td>9</td>\n      <td>9</td>\n      <td>9</td>\n      <td>9</td>\n      <td>9</td>\n      <td>9</td>\n    </tr>\n    <tr>\n      <th>Brockton, Exhibition Place, Parkdale Village</th>\n      <td>21</td>\n      <td>21</td>\n      <td>21</td>\n      <td>21</td>\n      <td>21</td>\n      <td>21</td>\n    </tr>\n    <tr>\n      <th>Business Reply Mail Processing Centre 969 Eastern</th>\n      <td>20</td>\n      <td>20</td>\n      <td>20</td>\n      <td>20</td>\n      <td>20</td>\n      <td>20</td>\n    </tr>\n    <tr>\n      <th>CFB Toronto, Downsview East</th>\n      <td>2</td>\n      <td>2</td>\n      <td>2</td>\n      <td>2</td>\n      <td>2</td>\n      <td>2</td>\n    </tr>\n    <tr>\n      <th>CN Tower, Bathurst Quay, Island airport, Harbourfront West, King and Spadina, Railway Lands, South Niagara</th>\n      <td>17</td>\n      <td>17</td>\n      <td>17</td>\n      <td>17</td>\n      <td>17</td>\n      <td>17</td>\n    </tr>\n    <tr>\n      <th>Cabbagetown, St. James Town</th>\n      <td>43</td>\n      <td>43</td>\n      <td>43</td>\n      <td>43</td>\n      <td>43</td>\n      <td>43</td>\n    </tr>\n    <tr>\n      <th>Caledonia-Fairbanks</th>\n      <td>6</td>\n      <td>6</td>\n      <td>6</td>\n      <td>6</td>\n      <td>6</td>\n      <td>6</td>\n    </tr>\n    <tr>\n      <th>Canada Post Gateway Processing Centre</th>\n      <td>11</td>\n      <td>11</td>\n      <td>11</td>\n      <td>11</td>\n      <td>11</td>\n      <td>11</td>\n    </tr>\n    <tr>\n      <th>Cedarbrae</th>\n      <td>7</td>\n      <td>7</td>\n      <td>7</td>\n      <td>7</td>\n      <td>7</td>\n      <td>7</td>\n    </tr>\n    <tr>\n      <th>Central Bay Street</th>\n      <td>87</td>\n      <td>87</td>\n      <td>87</td>\n      <td>87</td>\n      <td>87</td>\n      <td>87</td>\n    </tr>\n    <tr>\n      <th>Chinatown, Grange Park, Kensington Market</th>\n      <td>100</td>\n      <td>100</td>\n      <td>100</td>\n      <td>100</td>\n      <td>100</td>\n      <td>100</td>\n    </tr>\n    <tr>\n      <th>Christie</th>\n      <td>15</td>\n      <td>15</td>\n      <td>15</td>\n      <td>15</td>\n      <td>15</td>\n      <td>15</td>\n    </tr>\n    <tr>\n      <th>Church and Wellesley</th>\n      <td>90</td>\n      <td>90</td>\n      <td>90</td>\n      <td>90</td>\n      <td>90</td>\n      <td>90</td>\n    </tr>\n    <tr>\n      <th>Clairlea, Golden Mile, Oakridge</th>\n      <td>10</td>\n      <td>10</td>\n      <td>10</td>\n      <td>10</td>\n      <td>10</td>\n      <td>10</td>\n    </tr>\n    <tr>\n      <th>Clarks Corners, Sullivan, Tam O'Shanter</th>\n      <td>10</td>\n      <td>10</td>\n      <td>10</td>\n      <td>10</td>\n      <td>10</td>\n      <td>10</td>\n    </tr>\n    <tr>\n      <th>Cliffcrest, Cliffside, Scarborough Village West</th>\n      <td>2</td>\n      <td>2</td>\n      <td>2</td>\n      <td>2</td>\n      <td>2</td>\n      <td>2</td>\n    </tr>\n    <tr>\n      <th>Cloverdale, Islington, Martin Grove, Princess Gardens, West Deane Park</th>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>Commerce Court, Victoria Hotel</th>\n      <td>100</td>\n      <td>100</td>\n      <td>100</td>\n      <td>100</td>\n      <td>100</td>\n      <td>100</td>\n    </tr>\n    <tr>\n      <th>Davisville</th>\n      <td>37</td>\n      <td>37</td>\n      <td>37</td>\n      <td>37</td>\n      <td>37</td>\n      <td>37</td>\n    </tr>\n    <tr>\n      <th>Davisville North</th>\n      <td>8</td>\n      <td>8</td>\n      <td>8</td>\n      <td>8</td>\n      <td>8</td>\n      <td>8</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>Northwood Park, York University</th>\n      <td>4</td>\n      <td>4</td>\n      <td>4</td>\n      <td>4</td>\n      <td>4</td>\n      <td>4</td>\n    </tr>\n    <tr>\n      <th>Parkdale, Roncesvalles</th>\n      <td>15</td>\n      <td>15</td>\n      <td>15</td>\n      <td>15</td>\n      <td>15</td>\n      <td>15</td>\n    </tr>\n    <tr>\n      <th>Parkwoods</th>\n      <td>3</td>\n      <td>3</td>\n      <td>3</td>\n      <td>3</td>\n      <td>3</td>\n      <td>3</td>\n    </tr>\n    <tr>\n      <th>Queen's Park</th>\n      <td>41</td>\n      <td>41</td>\n      <td>41</td>\n      <td>41</td>\n      <td>41</td>\n      <td>41</td>\n    </tr>\n    <tr>\n      <th>Rosedale</th>\n      <td>5</td>\n      <td>5</td>\n      <td>5</td>\n      <td>5</td>\n      <td>5</td>\n      <td>5</td>\n    </tr>\n    <tr>\n      <th>Roselawn</th>\n      <td>2</td>\n      <td>2</td>\n      <td>2</td>\n      <td>2</td>\n      <td>2</td>\n      <td>2</td>\n    </tr>\n    <tr>\n      <th>Rouge, Malvern</th>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>Runnymede, Swansea</th>\n      <td>37</td>\n      <td>37</td>\n      <td>37</td>\n      <td>37</td>\n      <td>37</td>\n      <td>37</td>\n    </tr>\n    <tr>\n      <th>Ryerson, Garden District</th>\n      <td>100</td>\n      <td>100</td>\n      <td>100</td>\n      <td>100</td>\n      <td>100</td>\n      <td>100</td>\n    </tr>\n    <tr>\n      <th>Scarborough Village</th>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>Silver Hills, York Mills</th>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>St. James Town</th>\n      <td>100</td>\n      <td>100</td>\n      <td>100</td>\n      <td>100</td>\n      <td>100</td>\n      <td>100</td>\n    </tr>\n    <tr>\n      <th>Stn A PO Boxes 25 The Esplanade</th>\n      <td>96</td>\n      <td>96</td>\n      <td>96</td>\n      <td>96</td>\n      <td>96</td>\n      <td>96</td>\n    </tr>\n    <tr>\n      <th>Studio District</th>\n      <td>41</td>\n      <td>41</td>\n      <td>41</td>\n      <td>41</td>\n      <td>41</td>\n      <td>41</td>\n    </tr>\n    <tr>\n      <th>The Annex, North Midtown, Yorkville</th>\n      <td>23</td>\n      <td>23</td>\n      <td>23</td>\n      <td>23</td>\n      <td>23</td>\n      <td>23</td>\n    </tr>\n    <tr>\n      <th>The Beaches</th>\n      <td>4</td>\n      <td>4</td>\n      <td>4</td>\n      <td>4</td>\n      <td>4</td>\n      <td>4</td>\n    </tr>\n    <tr>\n      <th>The Beaches West, India Bazaar</th>\n      <td>21</td>\n      <td>21</td>\n      <td>21</td>\n      <td>21</td>\n      <td>21</td>\n      <td>21</td>\n    </tr>\n    <tr>\n      <th>The Danforth West, Riverdale</th>\n      <td>41</td>\n      <td>41</td>\n      <td>41</td>\n      <td>41</td>\n      <td>41</td>\n      <td>41</td>\n    </tr>\n    <tr>\n      <th>The Junction North, Runnymede</th>\n      <td>4</td>\n      <td>4</td>\n      <td>4</td>\n      <td>4</td>\n      <td>4</td>\n      <td>4</td>\n    </tr>\n    <tr>\n      <th>The Kingsway, Montgomery Road, Old Mill North</th>\n      <td>2</td>\n      <td>2</td>\n      <td>2</td>\n      <td>2</td>\n      <td>2</td>\n      <td>2</td>\n    </tr>\n    <tr>\n      <th>Thorncliffe Park</th>\n      <td>15</td>\n      <td>15</td>\n      <td>15</td>\n      <td>15</td>\n      <td>15</td>\n      <td>15</td>\n    </tr>\n    <tr>\n      <th>Victoria Village</th>\n      <td>5</td>\n      <td>5</td>\n      <td>5</td>\n      <td>5</td>\n      <td>5</td>\n      <td>5</td>\n    </tr>\n    <tr>\n      <th>Westmount</th>\n      <td>7</td>\n      <td>7</td>\n      <td>7</td>\n      <td>7</td>\n      <td>7</td>\n      <td>7</td>\n    </tr>\n    <tr>\n      <th>Weston</th>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>Willowdale South</th>\n      <td>36</td>\n      <td>36</td>\n      <td>36</td>\n      <td>36</td>\n      <td>36</td>\n      <td>36</td>\n    </tr>\n    <tr>\n      <th>Willowdale West</th>\n      <td>5</td>\n      <td>5</td>\n      <td>5</td>\n      <td>5</td>\n      <td>5</td>\n      <td>5</td>\n    </tr>\n    <tr>\n      <th>Woburn</th>\n      <td>4</td>\n      <td>4</td>\n      <td>4</td>\n      <td>4</td>\n      <td>4</td>\n      <td>4</td>\n    </tr>\n    <tr>\n      <th>Woodbine Gardens, Parkview Hill</th>\n      <td>12</td>\n      <td>12</td>\n      <td>12</td>\n      <td>12</td>\n      <td>12</td>\n      <td>12</td>\n    </tr>\n    <tr>\n      <th>Woodbine Heights</th>\n      <td>9</td>\n      <td>9</td>\n      <td>9</td>\n      <td>9</td>\n      <td>9</td>\n      <td>9</td>\n    </tr>\n    <tr>\n      <th>York Mills West</th>\n      <td>3</td>\n      <td>3</td>\n      <td>3</td>\n      <td>3</td>\n      <td>3</td>\n      <td>3</td>\n    </tr>\n  </tbody>\n</table>\n<p>100 rows \u00d7 6 columns</p>\n</div>", 
                        "text/plain": "                                                    Neighbourhood Latitude  \\\nNeighbourhood                                                                \nAdelaide, King, Richmond                                               100   \nAgincourt                                                                4   \nAgincourt North, L'Amoreaux East, Milliken, Ste...                       2   \nAlbion Gardens, Beaumond Heights, Humbergate, J...                      11   \nAlderwood, Long Branch                                                   9   \nBathurst Manor, Downsview North, Wilson Heights                         18   \nBayview Village                                                          4   \nBedford Park, Lawrence Manor East                                       22   \nBerczy Park                                                             57   \nBirch Cliff, Cliffside West                                              4   \nBloordale Gardens, Eringate, Markland Wood, Old...                       9   \nBrockton, Exhibition Place, Parkdale Village                            21   \nBusiness Reply Mail Processing Centre 969 Eastern                       20   \nCFB Toronto, Downsview East                                              2   \nCN Tower, Bathurst Quay, Island airport, Harbou...                      17   \nCabbagetown, St. James Town                                             43   \nCaledonia-Fairbanks                                                      6   \nCanada Post Gateway Processing Centre                                   11   \nCedarbrae                                                                7   \nCentral Bay Street                                                      87   \nChinatown, Grange Park, Kensington Market                              100   \nChristie                                                                15   \nChurch and Wellesley                                                    90   \nClairlea, Golden Mile, Oakridge                                         10   \nClarks Corners, Sullivan, Tam O'Shanter                                 10   \nCliffcrest, Cliffside, Scarborough Village West                          2   \nCloverdale, Islington, Martin Grove, Princess G...                       1   \nCommerce Court, Victoria Hotel                                         100   \nDavisville                                                              37   \nDavisville North                                                         8   \n...                                                                    ...   \nNorthwood Park, York University                                          4   \nParkdale, Roncesvalles                                                  15   \nParkwoods                                                                3   \nQueen's Park                                                            41   \nRosedale                                                                 5   \nRoselawn                                                                 2   \nRouge, Malvern                                                           1   \nRunnymede, Swansea                                                      37   \nRyerson, Garden District                                               100   \nScarborough Village                                                      1   \nSilver Hills, York Mills                                                 1   \nSt. James Town                                                         100   \nStn A PO Boxes 25 The Esplanade                                         96   \nStudio District                                                         41   \nThe Annex, North Midtown, Yorkville                                     23   \nThe Beaches                                                              4   \nThe Beaches West, India Bazaar                                          21   \nThe Danforth West, Riverdale                                            41   \nThe Junction North, Runnymede                                            4   \nThe Kingsway, Montgomery Road, Old Mill North                            2   \nThorncliffe Park                                                        15   \nVictoria Village                                                         5   \nWestmount                                                                7   \nWeston                                                                   1   \nWillowdale South                                                        36   \nWillowdale West                                                          5   \nWoburn                                                                   4   \nWoodbine Gardens, Parkview Hill                                         12   \nWoodbine Heights                                                         9   \nYork Mills West                                                          3   \n\n                                                    Neighbourhood Longitude  \\\nNeighbourhood                                                                 \nAdelaide, King, Richmond                                                100   \nAgincourt                                                                 4   \nAgincourt North, L'Amoreaux East, Milliken, Ste...                        2   \nAlbion Gardens, Beaumond Heights, Humbergate, J...                       11   \nAlderwood, Long Branch                                                    9   \nBathurst Manor, Downsview North, Wilson Heights                          18   \nBayview Village                                                           4   \nBedford Park, Lawrence Manor East                                        22   \nBerczy Park                                                              57   \nBirch Cliff, Cliffside West                                               4   \nBloordale Gardens, Eringate, Markland Wood, Old...                        9   \nBrockton, Exhibition Place, Parkdale Village                             21   \nBusiness Reply Mail Processing Centre 969 Eastern                        20   \nCFB Toronto, Downsview East                                               2   \nCN Tower, Bathurst Quay, Island airport, Harbou...                       17   \nCabbagetown, St. James Town                                              43   \nCaledonia-Fairbanks                                                       6   \nCanada Post Gateway Processing Centre                                    11   \nCedarbrae                                                                 7   \nCentral Bay Street                                                       87   \nChinatown, Grange Park, Kensington Market                               100   \nChristie                                                                 15   \nChurch and Wellesley                                                     90   \nClairlea, Golden Mile, Oakridge                                          10   \nClarks Corners, Sullivan, Tam O'Shanter                                  10   \nCliffcrest, Cliffside, Scarborough Village West                           2   \nCloverdale, Islington, Martin Grove, Princess G...                        1   \nCommerce Court, Victoria Hotel                                          100   \nDavisville                                                               37   \nDavisville North                                                          8   \n...                                                                     ...   \nNorthwood Park, York University                                           4   \nParkdale, Roncesvalles                                                   15   \nParkwoods                                                                 3   \nQueen's Park                                                             41   \nRosedale                                                                  5   \nRoselawn                                                                  2   \nRouge, Malvern                                                            1   \nRunnymede, Swansea                                                       37   \nRyerson, Garden District                                                100   \nScarborough Village                                                       1   \nSilver Hills, York Mills                                                  1   \nSt. James Town                                                          100   \nStn A PO Boxes 25 The Esplanade                                          96   \nStudio District                                                          41   \nThe Annex, North Midtown, Yorkville                                      23   \nThe Beaches                                                               4   \nThe Beaches West, India Bazaar                                           21   \nThe Danforth West, Riverdale                                             41   \nThe Junction North, Runnymede                                             4   \nThe Kingsway, Montgomery Road, Old Mill North                             2   \nThorncliffe Park                                                         15   \nVictoria Village                                                          5   \nWestmount                                                                 7   \nWeston                                                                    1   \nWillowdale South                                                         36   \nWillowdale West                                                           5   \nWoburn                                                                    4   \nWoodbine Gardens, Parkview Hill                                          12   \nWoodbine Heights                                                          9   \nYork Mills West                                                           3   \n\n                                                    Venue  Venue Latitude  \\\nNeighbourhood                                                               \nAdelaide, King, Richmond                              100             100   \nAgincourt                                               4               4   \nAgincourt North, L'Amoreaux East, Milliken, Ste...      2               2   \nAlbion Gardens, Beaumond Heights, Humbergate, J...     11              11   \nAlderwood, Long Branch                                  9               9   \nBathurst Manor, Downsview North, Wilson Heights        18              18   \nBayview Village                                         4               4   \nBedford Park, Lawrence Manor East                      22              22   \nBerczy Park                                            57              57   \nBirch Cliff, Cliffside West                             4               4   \nBloordale Gardens, Eringate, Markland Wood, Old...      9               9   \nBrockton, Exhibition Place, Parkdale Village           21              21   \nBusiness Reply Mail Processing Centre 969 Eastern      20              20   \nCFB Toronto, Downsview East                             2               2   \nCN Tower, Bathurst Quay, Island airport, Harbou...     17              17   \nCabbagetown, St. James Town                            43              43   \nCaledonia-Fairbanks                                     6               6   \nCanada Post Gateway Processing Centre                  11              11   \nCedarbrae                                               7               7   \nCentral Bay Street                                     87              87   \nChinatown, Grange Park, Kensington Market             100             100   \nChristie                                               15              15   \nChurch and Wellesley                                   90              90   \nClairlea, Golden Mile, Oakridge                        10              10   \nClarks Corners, Sullivan, Tam O'Shanter                10              10   \nCliffcrest, Cliffside, Scarborough Village West         2               2   \nCloverdale, Islington, Martin Grove, Princess G...      1               1   \nCommerce Court, Victoria Hotel                        100             100   \nDavisville                                             37              37   \nDavisville North                                        8               8   \n...                                                   ...             ...   \nNorthwood Park, York University                         4               4   \nParkdale, Roncesvalles                                 15              15   \nParkwoods                                               3               3   \nQueen's Park                                           41              41   \nRosedale                                                5               5   \nRoselawn                                                2               2   \nRouge, Malvern                                          1               1   \nRunnymede, Swansea                                     37              37   \nRyerson, Garden District                              100             100   \nScarborough Village                                     1               1   \nSilver Hills, York Mills                                1               1   \nSt. James Town                                        100             100   \nStn A PO Boxes 25 The Esplanade                        96              96   \nStudio District                                        41              41   \nThe Annex, North Midtown, Yorkville                    23              23   \nThe Beaches                                             4               4   \nThe Beaches West, India Bazaar                         21              21   \nThe Danforth West, Riverdale                           41              41   \nThe Junction North, Runnymede                           4               4   \nThe Kingsway, Montgomery Road, Old Mill North           2               2   \nThorncliffe Park                                       15              15   \nVictoria Village                                        5               5   \nWestmount                                               7               7   \nWeston                                                  1               1   \nWillowdale South                                       36              36   \nWillowdale West                                         5               5   \nWoburn                                                  4               4   \nWoodbine Gardens, Parkview Hill                        12              12   \nWoodbine Heights                                        9               9   \nYork Mills West                                         3               3   \n\n                                                    Venue Longitude  \\\nNeighbourhood                                                         \nAdelaide, King, Richmond                                        100   \nAgincourt                                                         4   \nAgincourt North, L'Amoreaux East, Milliken, Ste...                2   \nAlbion Gardens, Beaumond Heights, Humbergate, J...               11   \nAlderwood, Long Branch                                            9   \nBathurst Manor, Downsview North, Wilson Heights                  18   \nBayview Village                                                   4   \nBedford Park, Lawrence Manor East                                22   \nBerczy Park                                                      57   \nBirch Cliff, Cliffside West                                       4   \nBloordale Gardens, Eringate, Markland Wood, Old...                9   \nBrockton, Exhibition Place, Parkdale Village                     21   \nBusiness Reply Mail Processing Centre 969 Eastern                20   \nCFB Toronto, Downsview East                                       2   \nCN Tower, Bathurst Quay, Island airport, Harbou...               17   \nCabbagetown, St. James Town                                      43   \nCaledonia-Fairbanks                                               6   \nCanada Post Gateway Processing Centre                            11   \nCedarbrae                                                         7   \nCentral Bay Street                                               87   \nChinatown, Grange Park, Kensington Market                       100   \nChristie                                                         15   \nChurch and Wellesley                                             90   \nClairlea, Golden Mile, Oakridge                                  10   \nClarks Corners, Sullivan, Tam O'Shanter                          10   \nCliffcrest, Cliffside, Scarborough Village West                   2   \nCloverdale, Islington, Martin Grove, Princess G...                1   \nCommerce Court, Victoria Hotel                                  100   \nDavisville                                                       37   \nDavisville North                                                  8   \n...                                                             ...   \nNorthwood Park, York University                                   4   \nParkdale, Roncesvalles                                           15   \nParkwoods                                                         3   \nQueen's Park                                                     41   \nRosedale                                                          5   \nRoselawn                                                          2   \nRouge, Malvern                                                    1   \nRunnymede, Swansea                                               37   \nRyerson, Garden District                                        100   \nScarborough Village                                               1   \nSilver Hills, York Mills                                          1   \nSt. James Town                                                  100   \nStn A PO Boxes 25 The Esplanade                                  96   \nStudio District                                                  41   \nThe Annex, North Midtown, Yorkville                              23   \nThe Beaches                                                       4   \nThe Beaches West, India Bazaar                                   21   \nThe Danforth West, Riverdale                                     41   \nThe Junction North, Runnymede                                     4   \nThe Kingsway, Montgomery Road, Old Mill North                     2   \nThorncliffe Park                                                 15   \nVictoria Village                                                  5   \nWestmount                                                         7   \nWeston                                                            1   \nWillowdale South                                                 36   \nWillowdale West                                                   5   \nWoburn                                                            4   \nWoodbine Gardens, Parkview Hill                                  12   \nWoodbine Heights                                                  9   \nYork Mills West                                                   3   \n\n                                                    Venue Category  \nNeighbourhood                                                       \nAdelaide, King, Richmond                                       100  \nAgincourt                                                        4  \nAgincourt North, L'Amoreaux East, Milliken, Ste...               2  \nAlbion Gardens, Beaumond Heights, Humbergate, J...              11  \nAlderwood, Long Branch                                           9  \nBathurst Manor, Downsview North, Wilson Heights                 18  \nBayview Village                                                  4  \nBedford Park, Lawrence Manor East                               22  \nBerczy Park                                                     57  \nBirch Cliff, Cliffside West                                      4  \nBloordale Gardens, Eringate, Markland Wood, Old...               9  \nBrockton, Exhibition Place, Parkdale Village                    21  \nBusiness Reply Mail Processing Centre 969 Eastern               20  \nCFB Toronto, Downsview East                                      2  \nCN Tower, Bathurst Quay, Island airport, Harbou...              17  \nCabbagetown, St. James Town                                     43  \nCaledonia-Fairbanks                                              6  \nCanada Post Gateway Processing Centre                           11  \nCedarbrae                                                        7  \nCentral Bay Street                                              87  \nChinatown, Grange Park, Kensington Market                      100  \nChristie                                                        15  \nChurch and Wellesley                                            90  \nClairlea, Golden Mile, Oakridge                                 10  \nClarks Corners, Sullivan, Tam O'Shanter                         10  \nCliffcrest, Cliffside, Scarborough Village West                  2  \nCloverdale, Islington, Martin Grove, Princess G...               1  \nCommerce Court, Victoria Hotel                                 100  \nDavisville                                                      37  \nDavisville North                                                 8  \n...                                                            ...  \nNorthwood Park, York University                                  4  \nParkdale, Roncesvalles                                          15  \nParkwoods                                                        3  \nQueen's Park                                                    41  \nRosedale                                                         5  \nRoselawn                                                         2  \nRouge, Malvern                                                   1  \nRunnymede, Swansea                                              37  \nRyerson, Garden District                                       100  \nScarborough Village                                              1  \nSilver Hills, York Mills                                         1  \nSt. James Town                                                 100  \nStn A PO Boxes 25 The Esplanade                                 96  \nStudio District                                                 41  \nThe Annex, North Midtown, Yorkville                             23  \nThe Beaches                                                      4  \nThe Beaches West, India Bazaar                                  21  \nThe Danforth West, Riverdale                                    41  \nThe Junction North, Runnymede                                    4  \nThe Kingsway, Montgomery Road, Old Mill North                    2  \nThorncliffe Park                                                15  \nVictoria Village                                                 5  \nWestmount                                                        7  \nWeston                                                           1  \nWillowdale South                                                36  \nWillowdale West                                                  5  \nWoburn                                                           4  \nWoodbine Gardens, Parkview Hill                                 12  \nWoodbine Heights                                                 9  \nYork Mills West                                                  3  \n\n[100 rows x 6 columns]"
                    }, 
                    "output_type": "execute_result"
                }
            ], 
            "source": "toronto_venues.groupby('Neighbourhood').count()"
        }, 
        {
            "execution_count": 27, 
            "cell_type": "code", 
            "metadata": {}, 
            "outputs": [
                {
                    "output_type": "stream", 
                    "name": "stdout", 
                    "text": "There are 276 uniques categories.\n"
                }
            ], 
            "source": "print('There are {} uniques categories.'.format(len(toronto_venues['Venue Category'].unique())))"
        }, 
        {
            "execution_count": 28, 
            "cell_type": "code", 
            "metadata": {}, 
            "outputs": [
                {
                    "execution_count": 28, 
                    "metadata": {}, 
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Neighbourhood</th>\n      <th>Accessories Store</th>\n      <th>Afghan Restaurant</th>\n      <th>Airport</th>\n      <th>Airport Food Court</th>\n      <th>Airport Gate</th>\n      <th>Airport Lounge</th>\n      <th>Airport Service</th>\n      <th>Airport Terminal</th>\n      <th>American Restaurant</th>\n      <th>...</th>\n      <th>Turkish Restaurant</th>\n      <th>Vegetarian / Vegan Restaurant</th>\n      <th>Video Game Store</th>\n      <th>Video Store</th>\n      <th>Vietnamese Restaurant</th>\n      <th>Warehouse Store</th>\n      <th>Wine Bar</th>\n      <th>Wings Joint</th>\n      <th>Women's Store</th>\n      <th>Yoga Studio</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>Parkwoods</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>...</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>Parkwoods</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>...</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>Parkwoods</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>...</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>Victoria Village</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>...</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>Victoria Village</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>...</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n  </tbody>\n</table>\n<p>5 rows \u00d7 277 columns</p>\n</div>", 
                        "text/plain": "      Neighbourhood  Accessories Store  Afghan Restaurant  Airport  \\\n0         Parkwoods                  0                  0        0   \n1         Parkwoods                  0                  0        0   \n2         Parkwoods                  0                  0        0   \n3  Victoria Village                  0                  0        0   \n4  Victoria Village                  0                  0        0   \n\n   Airport Food Court  Airport Gate  Airport Lounge  Airport Service  \\\n0                   0             0               0                0   \n1                   0             0               0                0   \n2                   0             0               0                0   \n3                   0             0               0                0   \n4                   0             0               0                0   \n\n   Airport Terminal  American Restaurant  ...  Turkish Restaurant  \\\n0                 0                    0  ...                   0   \n1                 0                    0  ...                   0   \n2                 0                    0  ...                   0   \n3                 0                    0  ...                   0   \n4                 0                    0  ...                   0   \n\n   Vegetarian / Vegan Restaurant  Video Game Store  Video Store  \\\n0                              0                 0            0   \n1                              0                 0            0   \n2                              0                 0            0   \n3                              0                 0            0   \n4                              0                 0            0   \n\n   Vietnamese Restaurant  Warehouse Store  Wine Bar  Wings Joint  \\\n0                      0                0         0            0   \n1                      0                0         0            0   \n2                      0                0         0            0   \n3                      0                0         0            0   \n4                      0                0         0            0   \n\n   Women's Store  Yoga Studio  \n0              0            0  \n1              0            0  \n2              0            0  \n3              0            0  \n4              0            0  \n\n[5 rows x 277 columns]"
                    }, 
                    "output_type": "execute_result"
                }
            ], 
            "source": "# one hot encoding\ntoronto_onehot = pd.get_dummies(toronto_venues[['Venue Category']], prefix=\"\", prefix_sep=\"\")\n\n# add neighborhood column back to dataframe\ntoronto_onehot['Neighbourhood'] = toronto_venues['Neighbourhood'] \n\n# move neighborhood column to the first column\nfixed_columns = [toronto_onehot.columns[-1]] + list(toronto_onehot.columns[:-1])\ntoronto_onehot = toronto_onehot[fixed_columns]\n\ntoronto_onehot.head()"
        }, 
        {
            "execution_count": 29, 
            "cell_type": "code", 
            "metadata": {}, 
            "outputs": [
                {
                    "execution_count": 29, 
                    "metadata": {}, 
                    "data": {
                        "text/plain": "(2249, 277)"
                    }, 
                    "output_type": "execute_result"
                }
            ], 
            "source": "toronto_onehot.shape"
        }, 
        {
            "execution_count": 30, 
            "cell_type": "code", 
            "metadata": {}, 
            "outputs": [
                {
                    "execution_count": 30, 
                    "metadata": {}, 
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Neighbourhood</th>\n      <th>Accessories Store</th>\n      <th>Afghan Restaurant</th>\n      <th>Airport</th>\n      <th>Airport Food Court</th>\n      <th>Airport Gate</th>\n      <th>Airport Lounge</th>\n      <th>Airport Service</th>\n      <th>Airport Terminal</th>\n      <th>American Restaurant</th>\n      <th>...</th>\n      <th>Turkish Restaurant</th>\n      <th>Vegetarian / Vegan Restaurant</th>\n      <th>Video Game Store</th>\n      <th>Video Store</th>\n      <th>Vietnamese Restaurant</th>\n      <th>Warehouse Store</th>\n      <th>Wine Bar</th>\n      <th>Wings Joint</th>\n      <th>Women's Store</th>\n      <th>Yoga Studio</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>Adelaide, King, Richmond</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.030000</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.010000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.010000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>Agincourt</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>Agincourt North, L'Amoreaux East, Milliken, St...</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>Albion Gardens, Beaumond Heights, Humbergate, ...</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>Alderwood, Long Branch</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>Bathurst Manor, Downsview North, Wilson Heights</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.055556</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>6</th>\n      <td>Bayview Village</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>7</th>\n      <td>Bedford Park, Lawrence Manor East</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.045455</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>8</th>\n      <td>Berczy Park</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.017544</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>9</th>\n      <td>Birch Cliff, Cliffside West</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>10</th>\n      <td>Bloordale Gardens, Eringate, Markland Wood, Ol...</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>11</th>\n      <td>Brockton, Exhibition Place, Parkdale Village</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>12</th>\n      <td>Business Reply Mail Processing Centre 969 Eastern</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.050000</td>\n    </tr>\n    <tr>\n      <th>13</th>\n      <td>CFB Toronto, Downsview East</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.500000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>14</th>\n      <td>CN Tower, Bathurst Quay, Island airport, Harbo...</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.058824</td>\n      <td>0.058824</td>\n      <td>0.058824</td>\n      <td>0.117647</td>\n      <td>0.176471</td>\n      <td>0.117647</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>15</th>\n      <td>Cabbagetown, St. James Town</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.023256</td>\n    </tr>\n    <tr>\n      <th>16</th>\n      <td>Caledonia-Fairbanks</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.166667</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>17</th>\n      <td>Canada Post Gateway Processing Centre</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.090909</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>18</th>\n      <td>Cedarbrae</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>19</th>\n      <td>Central Bay Street</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.011494</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.011494</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.011494</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.011494</td>\n    </tr>\n    <tr>\n      <th>20</th>\n      <td>Chinatown, Grange Park, Kensington Market</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.060000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.050000</td>\n      <td>0.000000</td>\n      <td>0.010000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>21</th>\n      <td>Christie</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>22</th>\n      <td>Church and Wellesley</td>\n      <td>0.0</td>\n      <td>0.011111</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.011111</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.011111</td>\n      <td>0.000000</td>\n      <td>0.011111</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.011111</td>\n      <td>0.000000</td>\n      <td>0.011111</td>\n    </tr>\n    <tr>\n      <th>23</th>\n      <td>Clairlea, Golden Mile, Oakridge</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>24</th>\n      <td>Clarks Corners, Sullivan, Tam O'Shanter</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>25</th>\n      <td>Cliffcrest, Cliffside, Scarborough Village West</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.500000</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>26</th>\n      <td>Cloverdale, Islington, Martin Grove, Princess ...</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>27</th>\n      <td>Commerce Court, Victoria Hotel</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.040000</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.020000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.010000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>28</th>\n      <td>Davisville</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>29</th>\n      <td>Davisville North</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>70</th>\n      <td>Northwood Park, York University</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>71</th>\n      <td>Parkdale, Roncesvalles</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>72</th>\n      <td>Parkwoods</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>73</th>\n      <td>Queen's Park</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.024390</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.024390</td>\n      <td>0.000000</td>\n      <td>0.024390</td>\n    </tr>\n    <tr>\n      <th>74</th>\n      <td>Rosedale</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>75</th>\n      <td>Roselawn</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>76</th>\n      <td>Rouge, Malvern</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>77</th>\n      <td>Runnymede, Swansea</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.027027</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>78</th>\n      <td>Ryerson, Garden District</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.010000</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.010000</td>\n      <td>0.010000</td>\n      <td>0.000000</td>\n      <td>0.010000</td>\n      <td>0.000000</td>\n      <td>0.010000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>79</th>\n      <td>Scarborough Village</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>80</th>\n      <td>Silver Hills, York Mills</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>81</th>\n      <td>St. James Town</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.020000</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.010000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>82</th>\n      <td>Stn A PO Boxes 25 The Esplanade</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.010417</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.010417</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>83</th>\n      <td>Studio District</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.048780</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.024390</td>\n    </tr>\n    <tr>\n      <th>84</th>\n      <td>The Annex, North Midtown, Yorkville</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.043478</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.043478</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>85</th>\n      <td>The Beaches</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>86</th>\n      <td>The Beaches West, India Bazaar</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>87</th>\n      <td>The Danforth West, Riverdale</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.024390</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.024390</td>\n    </tr>\n    <tr>\n      <th>88</th>\n      <td>The Junction North, Runnymede</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>89</th>\n      <td>The Kingsway, Montgomery Road, Old Mill North</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>90</th>\n      <td>Thorncliffe Park</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.066667</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.066667</td>\n    </tr>\n    <tr>\n      <th>91</th>\n      <td>Victoria Village</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>92</th>\n      <td>Westmount</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>93</th>\n      <td>Weston</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>94</th>\n      <td>Willowdale South</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.027778</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>95</th>\n      <td>Willowdale West</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>96</th>\n      <td>Woburn</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>97</th>\n      <td>Woodbine Gardens, Parkview Hill</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>98</th>\n      <td>Woodbine Heights</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.111111</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>99</th>\n      <td>York Mills West</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n  </tbody>\n</table>\n<p>100 rows \u00d7 277 columns</p>\n</div>", 
                        "text/plain": "                                        Neighbourhood  Accessories Store  \\\n0                            Adelaide, King, Richmond                0.0   \n1                                           Agincourt                0.0   \n2   Agincourt North, L'Amoreaux East, Milliken, St...                0.0   \n3   Albion Gardens, Beaumond Heights, Humbergate, ...                0.0   \n4                              Alderwood, Long Branch                0.0   \n5     Bathurst Manor, Downsview North, Wilson Heights                0.0   \n6                                     Bayview Village                0.0   \n7                   Bedford Park, Lawrence Manor East                0.0   \n8                                         Berczy Park                0.0   \n9                         Birch Cliff, Cliffside West                0.0   \n10  Bloordale Gardens, Eringate, Markland Wood, Ol...                0.0   \n11       Brockton, Exhibition Place, Parkdale Village                0.0   \n12  Business Reply Mail Processing Centre 969 Eastern                0.0   \n13                        CFB Toronto, Downsview East                0.0   \n14  CN Tower, Bathurst Quay, Island airport, Harbo...                0.0   \n15                        Cabbagetown, St. James Town                0.0   \n16                                Caledonia-Fairbanks                0.0   \n17              Canada Post Gateway Processing Centre                0.0   \n18                                          Cedarbrae                0.0   \n19                                 Central Bay Street                0.0   \n20          Chinatown, Grange Park, Kensington Market                0.0   \n21                                           Christie                0.0   \n22                               Church and Wellesley                0.0   \n23                    Clairlea, Golden Mile, Oakridge                0.0   \n24            Clarks Corners, Sullivan, Tam O'Shanter                0.0   \n25    Cliffcrest, Cliffside, Scarborough Village West                0.0   \n26  Cloverdale, Islington, Martin Grove, Princess ...                0.0   \n27                     Commerce Court, Victoria Hotel                0.0   \n28                                         Davisville                0.0   \n29                                   Davisville North                0.0   \n..                                                ...                ...   \n70                    Northwood Park, York University                0.0   \n71                             Parkdale, Roncesvalles                0.0   \n72                                          Parkwoods                0.0   \n73                                       Queen's Park                0.0   \n74                                           Rosedale                0.0   \n75                                           Roselawn                0.0   \n76                                     Rouge, Malvern                0.0   \n77                                 Runnymede, Swansea                0.0   \n78                           Ryerson, Garden District                0.0   \n79                                Scarborough Village                0.0   \n80                           Silver Hills, York Mills                0.0   \n81                                     St. James Town                0.0   \n82                    Stn A PO Boxes 25 The Esplanade                0.0   \n83                                    Studio District                0.0   \n84                The Annex, North Midtown, Yorkville                0.0   \n85                                        The Beaches                0.0   \n86                     The Beaches West, India Bazaar                0.0   \n87                       The Danforth West, Riverdale                0.0   \n88                      The Junction North, Runnymede                0.0   \n89      The Kingsway, Montgomery Road, Old Mill North                0.0   \n90                                   Thorncliffe Park                0.0   \n91                                   Victoria Village                0.0   \n92                                          Westmount                0.0   \n93                                             Weston                0.0   \n94                                   Willowdale South                0.0   \n95                                    Willowdale West                0.0   \n96                                             Woburn                0.0   \n97                    Woodbine Gardens, Parkview Hill                0.0   \n98                                   Woodbine Heights                0.0   \n99                                    York Mills West                0.0   \n\n    Afghan Restaurant   Airport  Airport Food Court  Airport Gate  \\\n0            0.000000  0.000000            0.000000      0.000000   \n1            0.000000  0.000000            0.000000      0.000000   \n2            0.000000  0.000000            0.000000      0.000000   \n3            0.000000  0.000000            0.000000      0.000000   \n4            0.000000  0.000000            0.000000      0.000000   \n5            0.000000  0.000000            0.000000      0.000000   \n6            0.000000  0.000000            0.000000      0.000000   \n7            0.000000  0.000000            0.000000      0.000000   \n8            0.000000  0.000000            0.000000      0.000000   \n9            0.000000  0.000000            0.000000      0.000000   \n10           0.000000  0.000000            0.000000      0.000000   \n11           0.000000  0.000000            0.000000      0.000000   \n12           0.000000  0.000000            0.000000      0.000000   \n13           0.000000  0.500000            0.000000      0.000000   \n14           0.000000  0.058824            0.058824      0.058824   \n15           0.000000  0.000000            0.000000      0.000000   \n16           0.000000  0.000000            0.000000      0.000000   \n17           0.000000  0.000000            0.000000      0.000000   \n18           0.000000  0.000000            0.000000      0.000000   \n19           0.000000  0.000000            0.000000      0.000000   \n20           0.000000  0.000000            0.000000      0.000000   \n21           0.000000  0.000000            0.000000      0.000000   \n22           0.011111  0.000000            0.000000      0.000000   \n23           0.000000  0.000000            0.000000      0.000000   \n24           0.000000  0.000000            0.000000      0.000000   \n25           0.000000  0.000000            0.000000      0.000000   \n26           0.000000  0.000000            0.000000      0.000000   \n27           0.000000  0.000000            0.000000      0.000000   \n28           0.000000  0.000000            0.000000      0.000000   \n29           0.000000  0.000000            0.000000      0.000000   \n..                ...       ...                 ...           ...   \n70           0.000000  0.000000            0.000000      0.000000   \n71           0.000000  0.000000            0.000000      0.000000   \n72           0.000000  0.000000            0.000000      0.000000   \n73           0.000000  0.000000            0.000000      0.000000   \n74           0.000000  0.000000            0.000000      0.000000   \n75           0.000000  0.000000            0.000000      0.000000   \n76           0.000000  0.000000            0.000000      0.000000   \n77           0.000000  0.000000            0.000000      0.000000   \n78           0.000000  0.000000            0.000000      0.000000   \n79           0.000000  0.000000            0.000000      0.000000   \n80           0.000000  0.000000            0.000000      0.000000   \n81           0.000000  0.000000            0.000000      0.000000   \n82           0.000000  0.000000            0.000000      0.000000   \n83           0.000000  0.000000            0.000000      0.000000   \n84           0.000000  0.000000            0.000000      0.000000   \n85           0.000000  0.000000            0.000000      0.000000   \n86           0.000000  0.000000            0.000000      0.000000   \n87           0.000000  0.000000            0.000000      0.000000   \n88           0.000000  0.000000            0.000000      0.000000   \n89           0.000000  0.000000            0.000000      0.000000   \n90           0.000000  0.000000            0.000000      0.000000   \n91           0.000000  0.000000            0.000000      0.000000   \n92           0.000000  0.000000            0.000000      0.000000   \n93           0.000000  0.000000            0.000000      0.000000   \n94           0.000000  0.000000            0.000000      0.000000   \n95           0.000000  0.000000            0.000000      0.000000   \n96           0.000000  0.000000            0.000000      0.000000   \n97           0.000000  0.000000            0.000000      0.000000   \n98           0.000000  0.000000            0.000000      0.000000   \n99           0.000000  0.000000            0.000000      0.000000   \n\n    Airport Lounge  Airport Service  Airport Terminal  American Restaurant  \\\n0         0.000000         0.000000          0.000000             0.030000   \n1         0.000000         0.000000          0.000000             0.000000   \n2         0.000000         0.000000          0.000000             0.000000   \n3         0.000000         0.000000          0.000000             0.000000   \n4         0.000000         0.000000          0.000000             0.000000   \n5         0.000000         0.000000          0.000000             0.000000   \n6         0.000000         0.000000          0.000000             0.000000   \n7         0.000000         0.000000          0.000000             0.045455   \n8         0.000000         0.000000          0.000000             0.000000   \n9         0.000000         0.000000          0.000000             0.000000   \n10        0.000000         0.000000          0.000000             0.000000   \n11        0.000000         0.000000          0.000000             0.000000   \n12        0.000000         0.000000          0.000000             0.000000   \n13        0.000000         0.000000          0.000000             0.000000   \n14        0.117647         0.176471          0.117647             0.000000   \n15        0.000000         0.000000          0.000000             0.000000   \n16        0.000000         0.000000          0.000000             0.000000   \n17        0.000000         0.000000          0.000000             0.090909   \n18        0.000000         0.000000          0.000000             0.000000   \n19        0.000000         0.000000          0.000000             0.011494   \n20        0.000000         0.000000          0.000000             0.000000   \n21        0.000000         0.000000          0.000000             0.000000   \n22        0.000000         0.000000          0.000000             0.011111   \n23        0.000000         0.000000          0.000000             0.000000   \n24        0.000000         0.000000          0.000000             0.000000   \n25        0.000000         0.000000          0.000000             0.500000   \n26        0.000000         0.000000          0.000000             0.000000   \n27        0.000000         0.000000          0.000000             0.040000   \n28        0.000000         0.000000          0.000000             0.000000   \n29        0.000000         0.000000          0.000000             0.000000   \n..             ...              ...               ...                  ...   \n70        0.000000         0.000000          0.000000             0.000000   \n71        0.000000         0.000000          0.000000             0.000000   \n72        0.000000         0.000000          0.000000             0.000000   \n73        0.000000         0.000000          0.000000             0.000000   \n74        0.000000         0.000000          0.000000             0.000000   \n75        0.000000         0.000000          0.000000             0.000000   \n76        0.000000         0.000000          0.000000             0.000000   \n77        0.000000         0.000000          0.000000             0.000000   \n78        0.000000         0.000000          0.000000             0.010000   \n79        0.000000         0.000000          0.000000             0.000000   \n80        0.000000         0.000000          0.000000             0.000000   \n81        0.000000         0.000000          0.000000             0.020000   \n82        0.000000         0.000000          0.000000             0.010417   \n83        0.000000         0.000000          0.000000             0.048780   \n84        0.000000         0.000000          0.000000             0.043478   \n85        0.000000         0.000000          0.000000             0.000000   \n86        0.000000         0.000000          0.000000             0.000000   \n87        0.000000         0.000000          0.000000             0.024390   \n88        0.000000         0.000000          0.000000             0.000000   \n89        0.000000         0.000000          0.000000             0.000000   \n90        0.000000         0.000000          0.000000             0.000000   \n91        0.000000         0.000000          0.000000             0.000000   \n92        0.000000         0.000000          0.000000             0.000000   \n93        0.000000         0.000000          0.000000             0.000000   \n94        0.000000         0.000000          0.000000             0.000000   \n95        0.000000         0.000000          0.000000             0.000000   \n96        0.000000         0.000000          0.000000             0.000000   \n97        0.000000         0.000000          0.000000             0.000000   \n98        0.000000         0.000000          0.000000             0.000000   \n99        0.000000         0.000000          0.000000             0.000000   \n\n    ...  Turkish Restaurant  Vegetarian / Vegan Restaurant  Video Game Store  \\\n0   ...                 0.0                       0.010000          0.000000   \n1   ...                 0.0                       0.000000          0.000000   \n2   ...                 0.0                       0.000000          0.000000   \n3   ...                 0.0                       0.000000          0.000000   \n4   ...                 0.0                       0.000000          0.000000   \n5   ...                 0.0                       0.000000          0.000000   \n6   ...                 0.0                       0.000000          0.000000   \n7   ...                 0.0                       0.000000          0.000000   \n8   ...                 0.0                       0.017544          0.000000   \n9   ...                 0.0                       0.000000          0.000000   \n10  ...                 0.0                       0.000000          0.000000   \n11  ...                 0.0                       0.000000          0.000000   \n12  ...                 0.0                       0.000000          0.000000   \n13  ...                 0.0                       0.000000          0.000000   \n14  ...                 0.0                       0.000000          0.000000   \n15  ...                 0.0                       0.000000          0.000000   \n16  ...                 0.0                       0.000000          0.000000   \n17  ...                 0.0                       0.000000          0.000000   \n18  ...                 0.0                       0.000000          0.000000   \n19  ...                 0.0                       0.011494          0.000000   \n20  ...                 0.0                       0.060000          0.000000   \n21  ...                 0.0                       0.000000          0.000000   \n22  ...                 0.0                       0.000000          0.011111   \n23  ...                 0.0                       0.000000          0.000000   \n24  ...                 0.0                       0.000000          0.000000   \n25  ...                 0.0                       0.000000          0.000000   \n26  ...                 0.0                       0.000000          0.000000   \n27  ...                 0.0                       0.020000          0.000000   \n28  ...                 0.0                       0.000000          0.000000   \n29  ...                 0.0                       0.000000          0.000000   \n..  ...                 ...                            ...               ...   \n70  ...                 0.0                       0.000000          0.000000   \n71  ...                 0.0                       0.000000          0.000000   \n72  ...                 0.0                       0.000000          0.000000   \n73  ...                 0.0                       0.024390          0.000000   \n74  ...                 0.0                       0.000000          0.000000   \n75  ...                 0.0                       0.000000          0.000000   \n76  ...                 0.0                       0.000000          0.000000   \n77  ...                 0.0                       0.027027          0.000000   \n78  ...                 0.0                       0.010000          0.010000   \n79  ...                 0.0                       0.000000          0.000000   \n80  ...                 0.0                       0.000000          0.000000   \n81  ...                 0.0                       0.010000          0.000000   \n82  ...                 0.0                       0.010417          0.000000   \n83  ...                 0.0                       0.000000          0.000000   \n84  ...                 0.0                       0.043478          0.000000   \n85  ...                 0.0                       0.000000          0.000000   \n86  ...                 0.0                       0.000000          0.000000   \n87  ...                 0.0                       0.000000          0.000000   \n88  ...                 0.0                       0.000000          0.000000   \n89  ...                 0.0                       0.000000          0.000000   \n90  ...                 0.0                       0.000000          0.000000   \n91  ...                 0.0                       0.000000          0.000000   \n92  ...                 0.0                       0.000000          0.000000   \n93  ...                 0.0                       0.000000          0.000000   \n94  ...                 0.0                       0.000000          0.000000   \n95  ...                 0.0                       0.000000          0.000000   \n96  ...                 0.0                       0.000000          0.000000   \n97  ...                 0.0                       0.000000          0.000000   \n98  ...                 0.0                       0.000000          0.000000   \n99  ...                 0.0                       0.000000          0.000000   \n\n    Video Store  Vietnamese Restaurant  Warehouse Store  Wine Bar  \\\n0      0.000000               0.000000         0.000000  0.010000   \n1      0.000000               0.000000         0.000000  0.000000   \n2      0.000000               0.000000         0.000000  0.000000   \n3      0.000000               0.000000         0.000000  0.000000   \n4      0.000000               0.000000         0.000000  0.000000   \n5      0.055556               0.000000         0.000000  0.000000   \n6      0.000000               0.000000         0.000000  0.000000   \n7      0.000000               0.000000         0.000000  0.000000   \n8      0.000000               0.000000         0.000000  0.000000   \n9      0.000000               0.000000         0.000000  0.000000   \n10     0.000000               0.000000         0.000000  0.000000   \n11     0.000000               0.000000         0.000000  0.000000   \n12     0.000000               0.000000         0.000000  0.000000   \n13     0.000000               0.000000         0.000000  0.000000   \n14     0.000000               0.000000         0.000000  0.000000   \n15     0.000000               0.000000         0.000000  0.000000   \n16     0.000000               0.000000         0.000000  0.000000   \n17     0.000000               0.000000         0.000000  0.000000   \n18     0.000000               0.000000         0.000000  0.000000   \n19     0.000000               0.000000         0.000000  0.011494   \n20     0.000000               0.050000         0.000000  0.010000   \n21     0.000000               0.000000         0.000000  0.000000   \n22     0.000000               0.011111         0.000000  0.000000   \n23     0.000000               0.000000         0.000000  0.000000   \n24     0.000000               0.000000         0.000000  0.000000   \n25     0.000000               0.000000         0.000000  0.000000   \n26     0.000000               0.000000         0.000000  0.000000   \n27     0.000000               0.000000         0.000000  0.010000   \n28     0.000000               0.000000         0.000000  0.000000   \n29     0.000000               0.000000         0.000000  0.000000   \n..          ...                    ...              ...       ...   \n70     0.000000               0.000000         0.000000  0.000000   \n71     0.000000               0.000000         0.000000  0.000000   \n72     0.000000               0.000000         0.000000  0.000000   \n73     0.000000               0.000000         0.000000  0.000000   \n74     0.000000               0.000000         0.000000  0.000000   \n75     0.000000               0.000000         0.000000  0.000000   \n76     0.000000               0.000000         0.000000  0.000000   \n77     0.000000               0.000000         0.000000  0.000000   \n78     0.000000               0.010000         0.000000  0.010000   \n79     0.000000               0.000000         0.000000  0.000000   \n80     0.000000               0.000000         0.000000  0.000000   \n81     0.000000               0.000000         0.000000  0.000000   \n82     0.000000               0.000000         0.000000  0.000000   \n83     0.000000               0.000000         0.000000  0.000000   \n84     0.000000               0.000000         0.000000  0.000000   \n85     0.000000               0.000000         0.000000  0.000000   \n86     0.000000               0.000000         0.000000  0.000000   \n87     0.000000               0.000000         0.000000  0.000000   \n88     0.000000               0.000000         0.000000  0.000000   \n89     0.000000               0.000000         0.000000  0.000000   \n90     0.000000               0.000000         0.066667  0.000000   \n91     0.000000               0.000000         0.000000  0.000000   \n92     0.000000               0.000000         0.000000  0.000000   \n93     0.000000               0.000000         0.000000  0.000000   \n94     0.000000               0.027778         0.000000  0.000000   \n95     0.000000               0.000000         0.000000  0.000000   \n96     0.000000               0.000000         0.000000  0.000000   \n97     0.000000               0.000000         0.000000  0.000000   \n98     0.111111               0.000000         0.000000  0.000000   \n99     0.000000               0.000000         0.000000  0.000000   \n\n    Wings Joint  Women's Store  Yoga Studio  \n0      0.000000       0.000000     0.000000  \n1      0.000000       0.000000     0.000000  \n2      0.000000       0.000000     0.000000  \n3      0.000000       0.000000     0.000000  \n4      0.000000       0.000000     0.000000  \n5      0.000000       0.000000     0.000000  \n6      0.000000       0.000000     0.000000  \n7      0.000000       0.000000     0.000000  \n8      0.000000       0.000000     0.000000  \n9      0.000000       0.000000     0.000000  \n10     0.000000       0.000000     0.000000  \n11     0.000000       0.000000     0.000000  \n12     0.000000       0.000000     0.050000  \n13     0.000000       0.000000     0.000000  \n14     0.000000       0.000000     0.000000  \n15     0.000000       0.000000     0.023256  \n16     0.000000       0.166667     0.000000  \n17     0.000000       0.000000     0.000000  \n18     0.000000       0.000000     0.000000  \n19     0.000000       0.000000     0.011494  \n20     0.000000       0.000000     0.000000  \n21     0.000000       0.000000     0.000000  \n22     0.011111       0.000000     0.011111  \n23     0.000000       0.000000     0.000000  \n24     0.000000       0.000000     0.000000  \n25     0.000000       0.000000     0.000000  \n26     0.000000       0.000000     0.000000  \n27     0.000000       0.000000     0.000000  \n28     0.000000       0.000000     0.000000  \n29     0.000000       0.000000     0.000000  \n..          ...            ...          ...  \n70     0.000000       0.000000     0.000000  \n71     0.000000       0.000000     0.000000  \n72     0.000000       0.000000     0.000000  \n73     0.024390       0.000000     0.024390  \n74     0.000000       0.000000     0.000000  \n75     0.000000       0.000000     0.000000  \n76     0.000000       0.000000     0.000000  \n77     0.000000       0.000000     0.000000  \n78     0.000000       0.000000     0.000000  \n79     0.000000       0.000000     0.000000  \n80     0.000000       0.000000     0.000000  \n81     0.000000       0.000000     0.000000  \n82     0.000000       0.000000     0.000000  \n83     0.000000       0.000000     0.024390  \n84     0.000000       0.000000     0.000000  \n85     0.000000       0.000000     0.000000  \n86     0.000000       0.000000     0.000000  \n87     0.000000       0.000000     0.024390  \n88     0.000000       0.000000     0.000000  \n89     0.000000       0.000000     0.000000  \n90     0.000000       0.000000     0.066667  \n91     0.000000       0.000000     0.000000  \n92     0.000000       0.000000     0.000000  \n93     0.000000       0.000000     0.000000  \n94     0.000000       0.000000     0.000000  \n95     0.000000       0.000000     0.000000  \n96     0.000000       0.000000     0.000000  \n97     0.000000       0.000000     0.000000  \n98     0.000000       0.000000     0.000000  \n99     0.000000       0.000000     0.000000  \n\n[100 rows x 277 columns]"
                    }, 
                    "output_type": "execute_result"
                }
            ], 
            "source": "toronto_grouped = toronto_onehot.groupby('Neighbourhood').mean().reset_index()\ntoronto_grouped"
        }, 
        {
            "execution_count": 31, 
            "cell_type": "code", 
            "metadata": {}, 
            "outputs": [
                {
                    "execution_count": 31, 
                    "metadata": {}, 
                    "data": {
                        "text/plain": "(100, 277)"
                    }, 
                    "output_type": "execute_result"
                }
            ], 
            "source": "toronto_grouped.shape"
        }, 
        {
            "execution_count": 32, 
            "cell_type": "code", 
            "metadata": {}, 
            "outputs": [
                {
                    "output_type": "stream", 
                    "name": "stdout", 
                    "text": "----Adelaide, King, Richmond----\n             venue  freq\n0      Coffee Shop  0.07\n1             Caf\u00e9  0.05\n2              Bar  0.04\n3  Thai Restaurant  0.04\n4       Steakhouse  0.04\n\n\n----Agincourt----\n            venue  freq\n0          Lounge  0.25\n1    Skating Rink  0.25\n2  Breakfast Spot  0.25\n3  Clothing Store  0.25\n4          Museum  0.00\n\n\n----Agincourt North, L'Amoreaux East, Milliken, Steeles East----\n                        venue  freq\n0                  Playground   0.5\n1                        Park   0.5\n2           Accessories Store   0.0\n3  Modern European Restaurant   0.0\n4                      Museum   0.0\n\n\n----Albion Gardens, Beaumond Heights, Humbergate, Jamestown, Mount Olive, Silverstone, South Steeles, Thistletown----\n                 venue  freq\n0        Grocery Store  0.18\n1          Coffee Shop  0.09\n2       Discount Store  0.09\n3  Fried Chicken Joint  0.09\n4  Japanese Restaurant  0.09\n\n\n----Alderwood, Long Branch----\n         venue  freq\n0  Pizza Place  0.22\n1     Pharmacy  0.11\n2         Pool  0.11\n3          Gym  0.11\n4          Pub  0.11\n\n\n----Bathurst Manor, Downsview North, Wilson Heights----\n         venue  freq\n0  Coffee Shop  0.11\n1     Pharmacy  0.06\n2        Diner  0.06\n3         Bank  0.06\n4  Bridal Shop  0.06\n\n\n----Bayview Village----\n                 venue  freq\n0   Chinese Restaurant  0.25\n1  Japanese Restaurant  0.25\n2                 Bank  0.25\n3                 Caf\u00e9  0.25\n4    Accessories Store  0.00\n\n\n----Bedford Park, Lawrence Manor East----\n                venue  freq\n0         Coffee Shop  0.09\n1     Thai Restaurant  0.09\n2  Italian Restaurant  0.09\n3           Juice Bar  0.05\n4       Grocery Store  0.05\n\n\n----Berczy Park----\n          venue  freq\n0   Coffee Shop  0.11\n1  Cocktail Bar  0.05\n2      Beer Bar  0.04\n3    Steakhouse  0.04\n4   Cheese Shop  0.04\n\n\n----Birch Cliff, Cliffside West----\n                   venue  freq\n0           Skating Rink  0.25\n1  General Entertainment  0.25\n2        College Stadium  0.25\n3                   Caf\u00e9  0.25\n4    Monument / Landmark  0.00\n\n\n----Bloordale Gardens, Eringate, Markland Wood, Old Burnhamthorpe----\n               venue  freq\n0  Convenience Store  0.11\n1           Pharmacy  0.11\n2       Liquor Store  0.11\n3     Shopping Plaza  0.11\n4         Beer Store  0.11\n\n\n----Brockton, Exhibition Place, Parkdale Village----\n                venue  freq\n0      Breakfast Spot  0.10\n1         Coffee Shop  0.10\n2                Caf\u00e9  0.10\n3                 Gym  0.05\n4  Falafel Restaurant  0.05\n\n\n----Business Reply Mail Processing Centre 969 Eastern----\n                  venue  freq\n0    Light Rail Station  0.10\n1           Yoga Studio  0.05\n2            Restaurant  0.05\n3                   Spa  0.05\n4  Fast Food Restaurant  0.05\n\n\n----CFB Toronto, Downsview East----\n                        venue  freq\n0                        Park   0.5\n1                     Airport   0.5\n2  Modern European Restaurant   0.0\n3                      Museum   0.0\n4               Moving Target   0.0\n\n\n----CN Tower, Bathurst Quay, Island airport, Harbourfront West, King and Spadina, Railway Lands, South Niagara----\n              venue  freq\n0   Airport Service  0.18\n1    Airport Lounge  0.12\n2  Airport Terminal  0.12\n3          Boutique  0.06\n4             Plane  0.06\n\n\n----Cabbagetown, St. James Town----\n                venue  freq\n0         Coffee Shop  0.07\n1                Caf\u00e9  0.05\n2         Pizza Place  0.05\n3              Bakery  0.05\n4  Italian Restaurant  0.05\n\n\n----Caledonia-Fairbanks----\n                  venue  freq\n0                  Park  0.33\n1         Women's Store  0.17\n2  Fast Food Restaurant  0.17\n3                Market  0.17\n4              Pharmacy  0.17\n\n\n----Canada Post Gateway Processing Centre----\n                      venue  freq\n0               Coffee Shop  0.18\n1                     Hotel  0.18\n2  Mediterranean Restaurant  0.09\n3       American Restaurant  0.09\n4       Fried Chicken Joint  0.09\n\n\n----Cedarbrae----\n                  venue  freq\n0                  Bank  0.14\n1       Thai Restaurant  0.14\n2  Caribbean Restaurant  0.14\n3    Athletics & Sports  0.14\n4      Hakka Restaurant  0.14\n\n\n----Central Bay Street----\n                venue  freq\n0         Coffee Shop  0.15\n1  Italian Restaurant  0.06\n2      Ice Cream Shop  0.05\n3                Caf\u00e9  0.05\n4      Sandwich Place  0.03\n\n\n----Chinatown, Grange Park, Kensington Market----\n                           venue  freq\n0                           Caf\u00e9  0.07\n1  Vegetarian / Vegan Restaurant  0.06\n2          Vietnamese Restaurant  0.05\n3             Chinese Restaurant  0.05\n4            Dumpling Restaurant  0.04\n\n\n----Christie----\n                venue  freq\n0       Grocery Store  0.20\n1                Caf\u00e9  0.20\n2                Park  0.13\n3               Diner  0.07\n4  Italian Restaurant  0.07\n\n\n----Church and Wellesley----\n                 venue  freq\n0          Coffee Shop  0.08\n1  Japanese Restaurant  0.06\n2     Sushi Restaurant  0.04\n3              Gay Bar  0.04\n4           Restaurant  0.03\n\n\n----Clairlea, Golden Mile, Oakridge----\n           venue  freq\n0       Bus Line   0.2\n1         Bakery   0.2\n2    Bus Station   0.1\n3   Soccer Field   0.1\n4  Metro Station   0.1\n\n\n----Clarks Corners, Sullivan, Tam O'Shanter----\n                  venue  freq\n0           Pizza Place   0.2\n1          Noodle House   0.1\n2              Pharmacy   0.1\n3  Fast Food Restaurant   0.1\n4       Thai Restaurant   0.1\n\n\n----Cliffcrest, Cliffside, Scarborough Village West----\n                             venue  freq\n0                            Motel   0.5\n1              American Restaurant   0.5\n2                Accessories Store   0.0\n3  Molecular Gastronomy Restaurant   0.0\n4                      Music Store   0.0\n\n\n----Cloverdale, Islington, Martin Grove, Princess Gardens, West Deane Park----\n                             venue  freq\n0                             Bank   1.0\n1                Accessories Store   0.0\n2  Molecular Gastronomy Restaurant   0.0\n3                           Museum   0.0\n4                    Moving Target   0.0\n\n\n----Commerce Court, Victoria Hotel----\n                 venue  freq\n0          Coffee Shop  0.09\n1                Hotel  0.06\n2                 Caf\u00e9  0.06\n3           Restaurant  0.04\n4  American Restaurant  0.04\n\n\n----Davisville----\n              venue  freq\n0    Sandwich Place  0.08\n1       Pizza Place  0.08\n2      Dessert Shop  0.08\n3  Sushi Restaurant  0.05\n4        Restaurant  0.05\n\n\n----Davisville North----\n               venue  freq\n0     Breakfast Spot  0.12\n1  Food & Drink Shop  0.12\n2     Clothing Store  0.12\n3     Sandwich Place  0.12\n4                Gym  0.12\n\n\n----Deer Park, Forest Hill SE, Rathnelly, South Hill, Summerhill West----\n                 venue  freq\n0                  Pub  0.12\n1          Coffee Shop  0.12\n2   Light Rail Station  0.06\n3  Fried Chicken Joint  0.06\n4         Skating Rink  0.06\n\n\n----Del Ray, Keelesdale, Mount Dennis, Silverthorn----\n                venue  freq\n0  Turkish Restaurant  0.25\n1      Discount Store  0.25\n2                 Bar  0.25\n3      Sandwich Place  0.25\n4   Accessories Store  0.00\n\n\n----Design Exchange, Toronto Dominion Centre----\n                venue  freq\n0         Coffee Shop  0.13\n1                Caf\u00e9  0.08\n2               Hotel  0.06\n3          Restaurant  0.04\n4  Italian Restaurant  0.04\n\n\n----Don Mills North----\n                  venue  freq\n0  Caribbean Restaurant   0.2\n1   Japanese Restaurant   0.2\n2                  Caf\u00e9   0.2\n3        Baseball Field   0.2\n4  Gym / Fitness Center   0.2\n\n\n----Dorset Park, Scarborough Town Centre, Wexford Heights----\n                   venue  freq\n0      Indian Restaurant  0.25\n1            Gaming Cafe  0.12\n2     Chinese Restaurant  0.12\n3              Pet Store  0.12\n4  Vietnamese Restaurant  0.12\n\n\n----Dovercourt Village, Dufferin----\n                   venue  freq\n0            Supermarket  0.11\n1               Pharmacy  0.11\n2                 Bakery  0.11\n3  Portuguese Restaurant  0.05\n4         Discount Store  0.05\n\n\n----Downsview Central----\n                             venue  freq\n0                     Home Service  0.33\n1                   Baseball Field  0.33\n2                       Food Truck  0.33\n3                Accessories Store  0.00\n4  Molecular Gastronomy Restaurant  0.00\n\n\n----Downsview Northwest----\n                  venue  freq\n0         Grocery Store   0.2\n1  Gym / Fitness Center   0.2\n2    Athletics & Sports   0.2\n3          Liquor Store   0.2\n4        Discount Store   0.2\n\n\n----Downsview West----\n                        venue  freq\n0               Grocery Store   0.4\n1                        Bank   0.2\n2               Shopping Mall   0.2\n3                        Park   0.2\n4  Modern European Restaurant   0.0\n\n\n----Downsview, North Park, Upwood Park----\n                        venue  freq\n0  Construction & Landscaping  0.25\n1            Basketball Court  0.25\n2                      Bakery  0.25\n3                        Park  0.25\n4   Middle Eastern Restaurant  0.00\n\n\n----East Birchmount Park, Ionview, Kennedy Park----\n               venue  freq\n0         Hobby Shop   0.2\n1   Department Store   0.2\n2        Bus Station   0.2\n3        Coffee Shop   0.2\n4  Convenience Store   0.2\n\n\n----East Toronto----\n                        venue  freq\n0                        Park  0.33\n1           Convenience Store  0.33\n2                 Pizza Place  0.33\n3  Modern European Restaurant  0.00\n4                      Museum  0.00\n\n\n----Emery, Humberlea----\n                             venue  freq\n0                   Baseball Field   1.0\n1                Accessories Store   0.0\n2  Molecular Gastronomy Restaurant   0.0\n3                           Museum   0.0\n4                    Moving Target   0.0\n\n\n----Fairview, Henry Farm, Oriole----\n                  venue  freq\n0        Clothing Store  0.11\n1           Coffee Shop  0.08\n2  Fast Food Restaurant  0.08\n3      Asian Restaurant  0.03\n4      Toy / Game Store  0.03\n\n\n----First Canadian Place, Underground city----\n         venue  freq\n0  Coffee Shop  0.09\n1         Caf\u00e9  0.07\n2   Steakhouse  0.04\n3        Hotel  0.04\n4    Gastropub  0.03\n\n\n----Flemingdon Park, Don Mills South----\n                 venue  freq\n0                  Gym  0.10\n1           Beer Store  0.10\n2          Coffee Shop  0.10\n3     Asian Restaurant  0.10\n4  Japanese Restaurant  0.05\n\n\n----Forest Hill North, Forest Hill West----\n                             venue  freq\n0                    Jewelry Store  0.25\n1                             Park  0.25\n2                            Trail  0.25\n3                 Sushi Restaurant  0.25\n4  Molecular Gastronomy Restaurant  0.00\n\n\n----Glencairn----\n                 venue  freq\n0          Pizza Place   0.2\n1  Japanese Restaurant   0.2\n2                  Pub   0.2\n3                 Park   0.2\n4     Sushi Restaurant   0.2\n\n\n----Guildwood, Morningside, West Hill----\n                venue  freq\n0   Electronics Store  0.14\n1      Medical Center  0.14\n2         Pizza Place  0.14\n3  Mexican Restaurant  0.14\n4      Breakfast Spot  0.14\n\n\n----Harbord, University of Toronto----\n                 venue  freq\n0                 Caf\u00e9  0.14\n1               Bakery  0.06\n2            Bookstore  0.06\n3           Restaurant  0.06\n4  Japanese Restaurant  0.06\n\n\n----Harbourfront East, Toronto Islands, Union Station----\n                venue  freq\n0         Coffee Shop  0.11\n1               Hotel  0.05\n2            Aquarium  0.05\n3                Caf\u00e9  0.04\n4  Italian Restaurant  0.04\n\n\n----Harbourfront, Regent Park----\n         venue  freq\n0  Coffee Shop  0.16\n1         Park  0.06\n2         Caf\u00e9  0.06\n3       Bakery  0.06\n4          Pub  0.04\n\n\n----High Park, The Junction South----\n                 venue  freq\n0   Mexican Restaurant  0.09\n1                  Bar  0.09\n2                 Caf\u00e9  0.09\n3  Arts & Crafts Store  0.05\n4                Diner  0.05\n\n\n----Highland Creek, Rouge Hill, Port Union----\n                             venue  freq\n0                              Bar   1.0\n1                Accessories Store   0.0\n2  Molecular Gastronomy Restaurant   0.0\n3                           Museum   0.0\n4                    Moving Target   0.0\n\n\n----Hillcrest Village----\n                      venue  freq\n0  Mediterranean Restaurant  0.25\n1                      Pool  0.25\n2                   Dog Run  0.25\n3               Golf Course  0.25\n4         Accessories Store  0.00\n\n\n----Humber Bay Shores, Mimico South, New Toronto----\n                venue  freq\n0  Mexican Restaurant  0.07\n1                 Gym  0.07\n2      Sandwich Place  0.07\n3              Bakery  0.07\n4        Liquor Store  0.07\n\n\n----Humber Bay, King's Mill Park, Kingsway Park South East, Mimico NE, Old Mill South, The Queensway East, Royal York South East, Sunnylea----\n                 venue  freq\n0                 Pool   0.5\n1       Baseball Field   0.5\n2    Accessories Store   0.0\n3  Monument / Landmark   0.0\n4          Music Store   0.0\n\n\n----Humber Summit----\n                        venue  freq\n0         Empanada Restaurant   0.5\n1                 Pizza Place   0.5\n2  Modern European Restaurant   0.0\n3                      Museum   0.0\n4               Moving Target   0.0\n\n\n----Humewood-Cedarvale----\n               venue  freq\n0       Hockey Arena  0.25\n1              Field  0.25\n2            Dog Run  0.25\n3              Trail  0.25\n4  Accessories Store  0.00\n\n\n----Kingsview Village, Martin Grove Gardens, Richview Gardens, St. Phillips----\n                 venue  freq\n0          Pizza Place  0.33\n1             Bus Line  0.33\n2    Mobile Phone Shop  0.33\n3    Accessories Store  0.00\n4  Monument / Landmark  0.00\n\n\n----Kingsway Park South West, Mimico NW, The Queensway West, Royal York South West, South of Bloor----\n           venue  freq\n0         Bakery  0.06\n1            Gym  0.06\n2   Burger Joint  0.06\n3    Social Club  0.06\n4  Burrito Place  0.06\n\n\n----L'Amoreaux West----\n                  venue  freq\n0    Chinese Restaurant  0.17\n1  Fast Food Restaurant  0.17\n2         Grocery Store  0.08\n3          Noodle House  0.08\n4   Japanese Restaurant  0.08\n\n\n----Lawrence Heights, Lawrence Manor----\n                    venue  freq\n0       Accessories Store  0.12\n1                Boutique  0.12\n2      Miscellaneous Shop  0.12\n3  Furniture / Home Store  0.12\n4   Vietnamese Restaurant  0.12\n\n\n----Lawrence Park----\n                 venue  freq\n0             Bus Line  0.33\n1          Swim School  0.33\n2                 Park  0.33\n3    Accessories Store  0.00\n4  Monument / Landmark  0.00\n\n\n----Leaside----\n                    venue  freq\n0             Coffee Shop  0.12\n1     Sporting Goods Shop  0.09\n2           Grocery Store  0.06\n3  Furniture / Home Store  0.06\n4            Burger Joint  0.06\n\n\n----Little Portugal, Trinity----\n               venue  freq\n0                Bar  0.11\n1        Coffee Shop  0.06\n2   Asian Restaurant  0.05\n3               Caf\u00e9  0.03\n4  French Restaurant  0.03\n\n\n----Maryvale, Wexford----\n                       venue  freq\n0  Middle Eastern Restaurant  0.29\n1             Sandwich Place  0.14\n2             Breakfast Spot  0.14\n3                     Bakery  0.14\n4                Auto Garage  0.14\n\n\n----Moore Park, Summerhill East----\n          venue  freq\n0    Playground  0.25\n1           Gym  0.25\n2    Restaurant  0.25\n3  Tennis Court  0.25\n4      Pharmacy  0.00\n\n\n----North Toronto West----\n            venue  freq\n0     Coffee Shop  0.11\n1  Clothing Store  0.11\n2     Yoga Studio  0.06\n3      Bagel Shop  0.06\n4            Park  0.06\n\n\n----Northwest----\n                 venue  freq\n0            Drugstore   0.5\n1  Rental Car Location   0.5\n2    Accessories Store   0.0\n3  Monument / Landmark   0.0\n4               Museum   0.0\n\n\n----Northwood Park, York University----\n                venue  freq\n0      Massage Studio  0.25\n1                 Bar  0.25\n2  Falafel Restaurant  0.25\n3         Coffee Shop  0.25\n4   Accessories Store  0.00\n\n\n----Parkdale, Roncesvalles----\n            venue  freq\n0  Breakfast Spot  0.13\n1       Gift Shop  0.13\n2    Dessert Shop  0.07\n3            Bank  0.07\n4         Dog Run  0.07\n\n\n----Parkwoods----\n                        venue  freq\n0        Fast Food Restaurant  0.33\n1           Food & Drink Shop  0.33\n2                        Park  0.33\n3           Accessories Store  0.00\n4  Modern European Restaurant  0.00\n\n\n----Queen's Park----\n         venue  freq\n0  Coffee Shop  0.24\n1        Diner  0.05\n2         Park  0.05\n3          Gym  0.05\n4  Yoga Studio  0.02\n\n\n----Rosedale----\n                             venue  freq\n0                             Park   0.4\n1                         Building   0.2\n2                       Playground   0.2\n3                            Trail   0.2\n4  Molecular Gastronomy Restaurant   0.0\n\n\n----Roselawn----\n                             venue  freq\n0                           Garden   0.5\n1                      Music Venue   0.5\n2  Molecular Gastronomy Restaurant   0.0\n3                      Music Store   0.0\n4                           Museum   0.0\n\n\n----Rouge, Malvern----\n                             venue  freq\n0             Fast Food Restaurant   1.0\n1                Accessories Store   0.0\n2  Molecular Gastronomy Restaurant   0.0\n3                      Music Store   0.0\n4                           Museum   0.0\n\n\n----Runnymede, Swansea----\n           venue  freq\n0    Pizza Place  0.08\n1           Caf\u00e9  0.08\n2    Coffee Shop  0.08\n3      Bookstore  0.05\n4  Grocery Store  0.05\n\n\n----Ryerson, Garden District----\n                  venue  freq\n0           Coffee Shop  0.09\n1        Clothing Store  0.06\n2        Cosmetics Shop  0.04\n3  Fast Food Restaurant  0.03\n4                  Caf\u00e9  0.03\n\n\n----Scarborough Village----\n                        venue  freq\n0                  Playground   1.0\n1           Accessories Store   0.0\n2  Modern European Restaurant   0.0\n3                      Museum   0.0\n4               Moving Target   0.0\n\n\n----Silver Hills, York Mills----\n                 venue  freq\n0            Cafeteria   1.0\n1    Accessories Store   0.0\n2  Monument / Landmark   0.0\n3          Music Store   0.0\n4               Museum   0.0\n\n\n----St. James Town----\n                venue  freq\n0         Coffee Shop  0.07\n1               Hotel  0.05\n2          Restaurant  0.05\n3                Caf\u00e9  0.05\n4  Italian Restaurant  0.04\n\n\n----Stn A PO Boxes 25 The Esplanade----\n                venue  freq\n0         Coffee Shop  0.10\n1                Caf\u00e9  0.04\n2          Restaurant  0.04\n3            Beer Bar  0.03\n4  Seafood Restaurant  0.03\n\n\n----Studio District----\n                 venue  freq\n0                 Caf\u00e9  0.10\n1          Coffee Shop  0.07\n2   Italian Restaurant  0.05\n3            Gastropub  0.05\n4  American Restaurant  0.05\n\n\n----The Annex, North Midtown, Yorkville----\n            venue  freq\n0            Caf\u00e9  0.13\n1  Sandwich Place  0.13\n2     Coffee Shop  0.13\n3     Pizza Place  0.09\n4  Cosmetics Shop  0.04\n\n\n----The Beaches----\n                venue  freq\n0   Health Food Store  0.25\n1                 Pub  0.25\n2               Trail  0.25\n3        Neighborhood  0.25\n4  Mexican Restaurant  0.00\n\n\n----The Beaches West, India Bazaar----\n                  venue  freq\n0                  Park  0.10\n1  Fast Food Restaurant  0.05\n2          Intersection  0.05\n3        Sandwich Place  0.05\n4          Liquor Store  0.05\n\n\n----The Danforth West, Riverdale----\n                    venue  freq\n0        Greek Restaurant  0.22\n1             Coffee Shop  0.10\n2      Italian Restaurant  0.07\n3          Ice Cream Shop  0.05\n4  Furniture / Home Store  0.05\n\n\n----The Junction North, Runnymede----\n                 venue  freq\n0        Grocery Store  0.25\n1    Convenience Store  0.25\n2          Pizza Place  0.25\n3             Bus Line  0.25\n4  Monument / Landmark  0.00\n\n\n----The Kingsway, Montgomery Road, Old Mill North----\n                             venue  freq\n0                            River   0.5\n1                             Park   0.5\n2                Accessories Store   0.0\n3  Molecular Gastronomy Restaurant   0.0\n4                           Museum   0.0\n\n\n----Thorncliffe Park----\n               venue  freq\n0  Indian Restaurant  0.13\n1        Yoga Studio  0.07\n2       Burger Joint  0.07\n3               Bank  0.07\n4        Supermarket  0.07\n\n\n----Victoria Village----\n                   venue  freq\n0           Hockey Arena   0.2\n1  Portuguese Restaurant   0.2\n2            Pizza Place   0.2\n3            Coffee Shop   0.2\n4      French Restaurant   0.2\n\n\n----Westmount----\n                       venue  freq\n0                Pizza Place  0.29\n1  Middle Eastern Restaurant  0.14\n2         Chinese Restaurant  0.14\n3                Coffee Shop  0.14\n4             Sandwich Place  0.14\n\n\n----Weston----\n                             venue  freq\n0                Convenience Store   1.0\n1                Accessories Store   0.0\n2  Molecular Gastronomy Restaurant   0.0\n3                      Music Store   0.0\n4                           Museum   0.0\n\n\n----Willowdale South----\n              venue  freq\n0       Coffee Shop  0.08\n1  Ramen Restaurant  0.08\n2       Pizza Place  0.06\n3    Sandwich Place  0.06\n4        Restaurant  0.06\n\n\n----Willowdale West----\n            venue  freq\n0  Discount Store   0.2\n1     Pizza Place   0.2\n2        Pharmacy   0.2\n3     Coffee Shop   0.2\n4   Grocery Store   0.2\n\n\n----Woburn----\n                 venue  freq\n0          Coffee Shop  0.50\n1   Mexican Restaurant  0.25\n2    Korean Restaurant  0.25\n3    Accessories Store  0.00\n4  Monument / Landmark  0.00\n\n\n----Woodbine Gardens, Parkview Hill----\n                  venue  freq\n0           Pizza Place  0.17\n1  Fast Food Restaurant  0.17\n2                  Bank  0.08\n3    Athletics & Sports  0.08\n4             Gastropub  0.08\n\n\n----Woodbine Heights----\n              venue  freq\n0    Cosmetics Shop  0.11\n1  Asian Restaurant  0.11\n2          Pharmacy  0.11\n3       Video Store  0.11\n4       Curling Ice  0.11\n\n\n----York Mills West----\n                             venue  freq\n0                             Park  0.33\n1                Convenience Store  0.33\n2                             Bank  0.33\n3  Molecular Gastronomy Restaurant  0.00\n4                           Museum  0.00\n\n\n"
                }
            ], 
            "source": "#Listing the top 5 venues in each neighbourhood\nnum_top_venues = 5\n\nfor hood in toronto_grouped['Neighbourhood']:\n    print(\"----\"+hood+\"----\")\n    temp = toronto_grouped[toronto_grouped['Neighbourhood'] == hood].T.reset_index()\n    temp.columns = ['venue','freq']\n    temp = temp.iloc[1:]\n    temp['freq'] = temp['freq'].astype(float)\n    temp = temp.round({'freq': 2})\n    print(temp.sort_values('freq', ascending=False).reset_index(drop=True).head(num_top_venues))\n    print('\\n')"
        }, 
        {
            "execution_count": 33, 
            "cell_type": "code", 
            "metadata": {}, 
            "outputs": [], 
            "source": "def return_most_common_venues(row, num_top_venues):\n    row_categories = row.iloc[1:]\n    row_categories_sorted = row_categories.sort_values(ascending=False)\n    \n    return row_categories_sorted.index.values[0:num_top_venues]"
        }, 
        {
            "execution_count": 34, 
            "cell_type": "code", 
            "metadata": {}, 
            "outputs": [
                {
                    "execution_count": 34, 
                    "metadata": {}, 
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Neighbourhood</th>\n      <th>1st Most Common Venue</th>\n      <th>2nd Most Common Venue</th>\n      <th>3rd Most Common Venue</th>\n      <th>4th Most Common Venue</th>\n      <th>5th Most Common Venue</th>\n      <th>6th Most Common Venue</th>\n      <th>7th Most Common Venue</th>\n      <th>8th Most Common Venue</th>\n      <th>9th Most Common Venue</th>\n      <th>10th Most Common Venue</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>Adelaide, King, Richmond</td>\n      <td>Coffee Shop</td>\n      <td>Caf\u00e9</td>\n      <td>Bar</td>\n      <td>Thai Restaurant</td>\n      <td>Steakhouse</td>\n      <td>Gym</td>\n      <td>Restaurant</td>\n      <td>Asian Restaurant</td>\n      <td>Cosmetics Shop</td>\n      <td>Hotel</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>Agincourt</td>\n      <td>Clothing Store</td>\n      <td>Breakfast Spot</td>\n      <td>Lounge</td>\n      <td>Skating Rink</td>\n      <td>Eastern European Restaurant</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n      <td>Drugstore</td>\n      <td>Dumpling Restaurant</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>Agincourt North, L'Amoreaux East, Milliken, St...</td>\n      <td>Playground</td>\n      <td>Park</td>\n      <td>Dumpling Restaurant</td>\n      <td>Discount Store</td>\n      <td>Dive Bar</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n      <td>Drugstore</td>\n      <td>Eastern European Restaurant</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>Albion Gardens, Beaumond Heights, Humbergate, ...</td>\n      <td>Grocery Store</td>\n      <td>Pharmacy</td>\n      <td>Fast Food Restaurant</td>\n      <td>Pizza Place</td>\n      <td>Fried Chicken Joint</td>\n      <td>Sandwich Place</td>\n      <td>Discount Store</td>\n      <td>Coffee Shop</td>\n      <td>Beer Store</td>\n      <td>Japanese Restaurant</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>Alderwood, Long Branch</td>\n      <td>Pizza Place</td>\n      <td>Pharmacy</td>\n      <td>Pub</td>\n      <td>Gym</td>\n      <td>Sandwich Place</td>\n      <td>Skating Rink</td>\n      <td>Coffee Shop</td>\n      <td>Pool</td>\n      <td>Dessert Shop</td>\n      <td>Dim Sum Restaurant</td>\n    </tr>\n  </tbody>\n</table>\n</div>", 
                        "text/plain": "                                       Neighbourhood 1st Most Common Venue  \\\n0                           Adelaide, King, Richmond           Coffee Shop   \n1                                          Agincourt        Clothing Store   \n2  Agincourt North, L'Amoreaux East, Milliken, St...            Playground   \n3  Albion Gardens, Beaumond Heights, Humbergate, ...         Grocery Store   \n4                             Alderwood, Long Branch           Pizza Place   \n\n  2nd Most Common Venue 3rd Most Common Venue 4th Most Common Venue  \\\n0                  Caf\u00e9                   Bar       Thai Restaurant   \n1        Breakfast Spot                Lounge          Skating Rink   \n2                  Park   Dumpling Restaurant        Discount Store   \n3              Pharmacy  Fast Food Restaurant           Pizza Place   \n4              Pharmacy                   Pub                   Gym   \n\n         5th Most Common Venue 6th Most Common Venue 7th Most Common Venue  \\\n0                   Steakhouse                   Gym            Restaurant   \n1  Eastern European Restaurant               Dog Run      Doner Restaurant   \n2                     Dive Bar               Dog Run      Doner Restaurant   \n3          Fried Chicken Joint        Sandwich Place        Discount Store   \n4               Sandwich Place          Skating Rink           Coffee Shop   \n\n  8th Most Common Venue 9th Most Common Venue       10th Most Common Venue  \n0      Asian Restaurant        Cosmetics Shop                        Hotel  \n1            Donut Shop             Drugstore          Dumpling Restaurant  \n2            Donut Shop             Drugstore  Eastern European Restaurant  \n3           Coffee Shop            Beer Store          Japanese Restaurant  \n4                  Pool          Dessert Shop           Dim Sum Restaurant  "
                    }, 
                    "output_type": "execute_result"
                }
            ], 
            "source": "num_top_venues = 10\n\nindicators = ['st', 'nd', 'rd']\n\n# create columns according to number of top venues\ncolumns = ['Neighbourhood']\nfor ind in np.arange(num_top_venues):\n    try:\n        columns.append('{}{} Most Common Venue'.format(ind+1, indicators[ind]))\n    except:\n        columns.append('{}th Most Common Venue'.format(ind+1))\n\n# create a new dataframe\nneighborhoods_venues_sorted = pd.DataFrame(columns=columns)\nneighborhoods_venues_sorted['Neighbourhood'] = toronto_grouped['Neighbourhood']\n\nfor ind in np.arange(toronto_grouped.shape[0]):\n    neighborhoods_venues_sorted.iloc[ind, 1:] = return_most_common_venues(toronto_grouped.iloc[ind, :], num_top_venues)\n\nneighborhoods_venues_sorted.head()"
        }, 
        {
            "source": "## Clustering the neighbourhoods", 
            "cell_type": "markdown", 
            "metadata": {}
        }, 
        {
            "execution_count": 35, 
            "cell_type": "code", 
            "metadata": {}, 
            "outputs": [
                {
                    "execution_count": 35, 
                    "metadata": {}, 
                    "data": {
                        "text/plain": "array([3, 3, 4, 3, 3, 3, 3, 3, 3, 3], dtype=int32)"
                    }, 
                    "output_type": "execute_result"
                }
            ], 
            "source": "# set number of clusters\nkclusters = 5\n\ntoronto_grouped_clustering = toronto_grouped.drop('Neighbourhood', 1)\n\n# run k-means clustering\nkmeans = KMeans(n_clusters=kclusters, random_state=0).fit(toronto_grouped_clustering)\n\n# check cluster labels generated for each row in the dataframe\nkmeans.labels_[0:10] "
        }, 
        {
            "execution_count": null, 
            "cell_type": "code", 
            "metadata": {}, 
            "outputs": [], 
            "source": "# add clustering labels\nneighborhoods_venues_sorted.insert(0, 'Cluster Labels', kmeans.labels_)\n\ntoronto_merged = canada_zip_df_new\n\n# merge toronto_grouped with toronto_data to add latitude/longitude for each neighborhood\ntoronto_merged = toronto_merged.join(neighborhoods_venues_sorted.set_index('Neighbourhood'), on='Neighbourhood')\n\ntoronto_merged.head() # check the last columns!"
        }, 
        {
            "execution_count": 44, 
            "cell_type": "code", 
            "metadata": {}, 
            "outputs": [
                {
                    "execution_count": 44, 
                    "metadata": {}, 
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Postcode</th>\n      <th>Borough</th>\n      <th>Neighbourhood</th>\n      <th>Latitude</th>\n      <th>Longitude</th>\n      <th>Cluster Labels</th>\n      <th>1st Most Common Venue</th>\n      <th>2nd Most Common Venue</th>\n      <th>3rd Most Common Venue</th>\n      <th>4th Most Common Venue</th>\n      <th>5th Most Common Venue</th>\n      <th>6th Most Common Venue</th>\n      <th>7th Most Common Venue</th>\n      <th>8th Most Common Venue</th>\n      <th>9th Most Common Venue</th>\n      <th>10th Most Common Venue</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>M3A</td>\n      <td>North York</td>\n      <td>Parkwoods</td>\n      <td>43.753259</td>\n      <td>-79.329656</td>\n      <td>4.0</td>\n      <td>Food &amp; Drink Shop</td>\n      <td>Park</td>\n      <td>Fast Food Restaurant</td>\n      <td>Event Space</td>\n      <td>Ethiopian Restaurant</td>\n      <td>Empanada Restaurant</td>\n      <td>Electronics Store</td>\n      <td>Falafel Restaurant</td>\n      <td>Eastern European Restaurant</td>\n      <td>Diner</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>M4A</td>\n      <td>North York</td>\n      <td>Victoria Village</td>\n      <td>43.725882</td>\n      <td>-79.315572</td>\n      <td>3.0</td>\n      <td>Pizza Place</td>\n      <td>French Restaurant</td>\n      <td>Hockey Arena</td>\n      <td>Portuguese Restaurant</td>\n      <td>Coffee Shop</td>\n      <td>Drugstore</td>\n      <td>Discount Store</td>\n      <td>Dive Bar</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>M5A</td>\n      <td>Downtown Toronto</td>\n      <td>Harbourfront, Regent Park</td>\n      <td>43.654260</td>\n      <td>-79.360636</td>\n      <td>3.0</td>\n      <td>Coffee Shop</td>\n      <td>Park</td>\n      <td>Bakery</td>\n      <td>Caf\u00e9</td>\n      <td>Mexican Restaurant</td>\n      <td>Breakfast Spot</td>\n      <td>Restaurant</td>\n      <td>Pub</td>\n      <td>Theater</td>\n      <td>Gym / Fitness Center</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>M6A</td>\n      <td>North York</td>\n      <td>Lawrence Heights, Lawrence Manor</td>\n      <td>43.718518</td>\n      <td>-79.464763</td>\n      <td>3.0</td>\n      <td>Accessories Store</td>\n      <td>Boutique</td>\n      <td>Event Space</td>\n      <td>Vietnamese Restaurant</td>\n      <td>Coffee Shop</td>\n      <td>Furniture / Home Store</td>\n      <td>Clothing Store</td>\n      <td>Miscellaneous Shop</td>\n      <td>Drugstore</td>\n      <td>Dive Bar</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>M7A</td>\n      <td>Queen's Park</td>\n      <td>Queen's Park</td>\n      <td>43.662301</td>\n      <td>-79.389494</td>\n      <td>3.0</td>\n      <td>Coffee Shop</td>\n      <td>Gym</td>\n      <td>Park</td>\n      <td>Diner</td>\n      <td>Yoga Studio</td>\n      <td>Restaurant</td>\n      <td>Italian Restaurant</td>\n      <td>Japanese Restaurant</td>\n      <td>Fast Food Restaurant</td>\n      <td>Seafood Restaurant</td>\n    </tr>\n  </tbody>\n</table>\n</div>", 
                        "text/plain": "  Postcode           Borough                     Neighbourhood   Latitude  \\\n0      M3A        North York                         Parkwoods  43.753259   \n1      M4A        North York                  Victoria Village  43.725882   \n2      M5A  Downtown Toronto         Harbourfront, Regent Park  43.654260   \n3      M6A        North York  Lawrence Heights, Lawrence Manor  43.718518   \n4      M7A      Queen's Park                      Queen's Park  43.662301   \n\n   Longitude  Cluster Labels 1st Most Common Venue 2nd Most Common Venue  \\\n0 -79.329656             4.0     Food & Drink Shop                  Park   \n1 -79.315572             3.0           Pizza Place     French Restaurant   \n2 -79.360636             3.0           Coffee Shop                  Park   \n3 -79.464763             3.0     Accessories Store              Boutique   \n4 -79.389494             3.0           Coffee Shop                   Gym   \n\n  3rd Most Common Venue  4th Most Common Venue 5th Most Common Venue  \\\n0  Fast Food Restaurant            Event Space  Ethiopian Restaurant   \n1          Hockey Arena  Portuguese Restaurant           Coffee Shop   \n2                Bakery                   Caf\u00e9    Mexican Restaurant   \n3           Event Space  Vietnamese Restaurant           Coffee Shop   \n4                  Park                  Diner           Yoga Studio   \n\n    6th Most Common Venue 7th Most Common Venue 8th Most Common Venue  \\\n0     Empanada Restaurant     Electronics Store    Falafel Restaurant   \n1               Drugstore        Discount Store              Dive Bar   \n2          Breakfast Spot            Restaurant                   Pub   \n3  Furniture / Home Store        Clothing Store    Miscellaneous Shop   \n4              Restaurant    Italian Restaurant   Japanese Restaurant   \n\n         9th Most Common Venue 10th Most Common Venue  \n0  Eastern European Restaurant                  Diner  \n1                      Dog Run       Doner Restaurant  \n2                      Theater   Gym / Fitness Center  \n3                    Drugstore               Dive Bar  \n4         Fast Food Restaurant     Seafood Restaurant  "
                    }, 
                    "output_type": "execute_result"
                }
            ], 
            "source": "toronto_merged.head()"
        }, 
        {
            "execution_count": 45, 
            "cell_type": "code", 
            "metadata": {}, 
            "outputs": [], 
            "source": "toronto_merged=toronto_merged.dropna()\n"
        }, 
        {
            "execution_count": 49, 
            "cell_type": "code", 
            "metadata": {}, 
            "outputs": [], 
            "source": "toronto_merged['Cluster Labels'] = toronto_merged['Cluster Labels'].astype(int)"
        }, 
        {
            "execution_count": 50, 
            "cell_type": "code", 
            "metadata": {}, 
            "outputs": [
                {
                    "execution_count": 50, 
                    "metadata": {}, 
                    "data": {
                        "text/html": "<div style=\"width:100%;\"><div style=\"position:relative;width:100%;height:0;padding-bottom:60%;\"><iframe src=\"data:text/html;charset=utf-8;base64,PCFET0NUWVBFIGh0bWw+CjxoZWFkPiAgICAKICAgIDxtZXRhIGh0dHAtZXF1aXY9ImNvbnRlbnQtdHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PVVURi04IiAvPgogICAgPHNjcmlwdD5MX1BSRUZFUl9DQU5WQVMgPSBmYWxzZTsgTF9OT19UT1VDSCA9IGZhbHNlOyBMX0RJU0FCTEVfM0QgPSBmYWxzZTs8L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2FqYXguZ29vZ2xlYXBpcy5jb20vYWpheC9saWJzL2pxdWVyeS8xLjExLjEvanF1ZXJ5Lm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvanMvYm9vdHN0cmFwLm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvTGVhZmxldC5hd2Vzb21lLW1hcmtlcnMvMi4wLjIvbGVhZmxldC5hd2Vzb21lLW1hcmtlcnMuanMiPjwvc2NyaXB0PgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjIuMC9jc3MvYm9vdHN0cmFwLm1pbi5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvY3NzL2Jvb3RzdHJhcC10aGVtZS5taW4uY3NzIi8+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vbWF4Y2RuLmJvb3RzdHJhcGNkbi5jb20vZm9udC1hd2Vzb21lLzQuNi4zL2Nzcy9mb250LWF3ZXNvbWUubWluLmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9MZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy8yLjAuMi9sZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9yYXdnaXQuY29tL3B5dGhvbi12aXN1YWxpemF0aW9uL2ZvbGl1bS9tYXN0ZXIvZm9saXVtL3RlbXBsYXRlcy9sZWFmbGV0LmF3ZXNvbWUucm90YXRlLmNzcyIvPgogICAgPHN0eWxlPmh0bWwsIGJvZHkge3dpZHRoOiAxMDAlO2hlaWdodDogMTAwJTttYXJnaW46IDA7cGFkZGluZzogMDt9PC9zdHlsZT4KICAgIDxzdHlsZT4jbWFwIHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtib3R0b206MDtyaWdodDowO2xlZnQ6MDt9PC9zdHlsZT4KICAgIAogICAgICAgICAgICA8c3R5bGU+ICNtYXBfZmJiMjlkNzMxYmVkNDVkYjgwMDkyM2I1YWRlYzE2NWQgewogICAgICAgICAgICAgICAgcG9zaXRpb24gOiByZWxhdGl2ZTsKICAgICAgICAgICAgICAgIHdpZHRoIDogMTAwLjAlOwogICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAuMCU7CiAgICAgICAgICAgICAgICBsZWZ0OiAwLjAlOwogICAgICAgICAgICAgICAgdG9wOiAwLjAlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICA8L3N0eWxlPgogICAgICAgIAo8L2hlYWQ+Cjxib2R5PiAgICAKICAgIAogICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb2xpdW0tbWFwIiBpZD0ibWFwX2ZiYjI5ZDczMWJlZDQ1ZGI4MDA5MjNiNWFkZWMxNjVkIiA+PC9kaXY+CiAgICAgICAgCjwvYm9keT4KPHNjcmlwdD4gICAgCiAgICAKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGJvdW5kcyA9IG51bGw7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgdmFyIG1hcF9mYmIyOWQ3MzFiZWQ0NWRiODAwOTIzYjVhZGVjMTY1ZCA9IEwubWFwKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hcF9mYmIyOWQ3MzFiZWQ0NWRiODAwOTIzYjVhZGVjMTY1ZCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2VudGVyOiBbNDMuNjUzOTYzLC03OS4zODcyMDddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgem9vbTogMTEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhCb3VuZHM6IGJvdW5kcywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyczogW10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3b3JsZENvcHlKdW1wOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyczogTC5DUlMuRVBTRzM4NTcKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciB0aWxlX2xheWVyXzY3M2NjYzk4ZTNlZTQxNTRiYTRmOGZjZTY5NTNhMjE2ID0gTC50aWxlTGF5ZXIoCiAgICAgICAgICAgICAgICAnaHR0cHM6Ly97c30udGlsZS5vcGVuc3RyZWV0bWFwLm9yZy97en0ve3h9L3t5fS5wbmcnLAogICAgICAgICAgICAgICAgewogICJhdHRyaWJ1dGlvbiI6IG51bGwsCiAgImRldGVjdFJldGluYSI6IGZhbHNlLAogICJtYXhab29tIjogMTgsCiAgIm1pblpvb20iOiAxLAogICJub1dyYXAiOiBmYWxzZSwKICAic3ViZG9tYWlucyI6ICJhYmMiCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZiYjI5ZDczMWJlZDQ1ZGI4MDA5MjNiNWFkZWMxNjVkKTsKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8yYjU4NGUyZDVmNzA0ODFhYmJjOTI3YTE4NDI1MjRmNiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc1MzI1ODYsLTc5LjMyOTY1NjVdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmYjM2MCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZmIzNjAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmJiMjlkNzMxYmVkNDVkYjgwMDkyM2I1YWRlYzE2NWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMGY3YTdlOTMzYjg2NDAyY2E1MTJjOGViMjI0YmRmYWIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYmI1ZjY3NGQzZWFiNGNmMTg5YzNhZDk0NWVjZmY5ZmIgPSAkKCc8ZGl2IGlkPSJodG1sX2JiNWY2NzRkM2VhYjRjZjE4OWMzYWQ5NDVlY2ZmOWZiIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5QYXJrd29vZHMgQ2x1c3RlciA0PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8wZjdhN2U5MzNiODY0MDJjYTUxMmM4ZWIyMjRiZGZhYi5zZXRDb250ZW50KGh0bWxfYmI1ZjY3NGQzZWFiNGNmMTg5YzNhZDk0NWVjZmY5ZmIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMmI1ODRlMmQ1ZjcwNDgxYWJiYzkyN2ExODQyNTI0ZjYuYmluZFBvcHVwKHBvcHVwXzBmN2E3ZTkzM2I4NjQwMmNhNTEyYzhlYjIyNGJkZmFiKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2Q2ZWZlYzNmNWUyYjQ0OWJhMjE2MjViYjA5ZGZlNDM0ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzI1ODgyMjk5OTk5OTk1LC03OS4zMTU1NzE1OTk5OTk5OF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mYmIyOWQ3MzFiZWQ0NWRiODAwOTIzYjVhZGVjMTY1ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8yNDg2ODZmZTAyYWI0MmU0ODc4ODFhZTI5MDA1Njk2NiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF81NWI5ZWY4MzliYzA0MTFmOTBhMWM4MTllNWZkY2IyYiA9ICQoJzxkaXYgaWQ9Imh0bWxfNTViOWVmODM5YmMwNDExZjkwYTFjODE5ZTVmZGNiMmIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlZpY3RvcmlhIFZpbGxhZ2UgQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8yNDg2ODZmZTAyYWI0MmU0ODc4ODFhZTI5MDA1Njk2Ni5zZXRDb250ZW50KGh0bWxfNTViOWVmODM5YmMwNDExZjkwYTFjODE5ZTVmZGNiMmIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZDZlZmVjM2Y1ZTJiNDQ5YmEyMTYyNWJiMDlkZmU0MzQuYmluZFBvcHVwKHBvcHVwXzI0ODY4NmZlMDJhYjQyZTQ4Nzg4MWFlMjkwMDU2OTY2KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2VjZWY4N2MxZmExNTQ2MzQ5M2Y3NmE1ODc0NjMzNjAwID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjU0MjU5OSwtNzkuMzYwNjM1OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mYmIyOWQ3MzFiZWQ0NWRiODAwOTIzYjVhZGVjMTY1ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9mZDg5YzRiMTY0YWQ0ZGNjYjBlMGVhYmFmYjYzMDUyZSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8wNzYzZmY5YzkwMTM0N2I0OTllODU0MWZlZDgzOGZkMSA9ICQoJzxkaXYgaWQ9Imh0bWxfMDc2M2ZmOWM5MDEzNDdiNDk5ZTg1NDFmZWQ4MzhmZDEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkhhcmJvdXJmcm9udCwgUmVnZW50IFBhcmsgQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9mZDg5YzRiMTY0YWQ0ZGNjYjBlMGVhYmFmYjYzMDUyZS5zZXRDb250ZW50KGh0bWxfMDc2M2ZmOWM5MDEzNDdiNDk5ZTg1NDFmZWQ4MzhmZDEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZWNlZjg3YzFmYTE1NDYzNDkzZjc2YTU4NzQ2MzM2MDAuYmluZFBvcHVwKHBvcHVwX2ZkODljNGIxNjRhZDRkY2NiMGUwZWFiYWZiNjMwNTJlKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzRkNWExYTg2ZWJiZjRjYWNhYTlhZWEyZjM0OWYyZmYyID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzE4NTE3OTk5OTk5OTk2LC03OS40NjQ3NjMyOTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mYmIyOWQ3MzFiZWQ0NWRiODAwOTIzYjVhZGVjMTY1ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8wMTNjMDdhYTI2OGE0OWU5YWI4NzU5ZTQ2M2ZlNzk5NCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8wMjgzODlkNzk3ZGE0MGMxYTE0OTljYWM4ZDJjMWZhOCA9ICQoJzxkaXYgaWQ9Imh0bWxfMDI4Mzg5ZDc5N2RhNDBjMWExNDk5Y2FjOGQyYzFmYTgiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkxhd3JlbmNlIEhlaWdodHMsIExhd3JlbmNlIE1hbm9yIENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMDEzYzA3YWEyNjhhNDllOWFiODc1OWU0NjNmZTc5OTQuc2V0Q29udGVudChodG1sXzAyODM4OWQ3OTdkYTQwYzFhMTQ5OWNhYzhkMmMxZmE4KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzRkNWExYTg2ZWJiZjRjYWNhYTlhZWEyZjM0OWYyZmYyLmJpbmRQb3B1cChwb3B1cF8wMTNjMDdhYTI2OGE0OWU5YWI4NzU5ZTQ2M2ZlNzk5NCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl80ZTZkODdmODNiZjY0YzRkYjJhNmY4NmMwZTM2MzY5NCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY2MjMwMTUsLTc5LjM4OTQ5MzhdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmJiMjlkNzMxYmVkNDVkYjgwMDkyM2I1YWRlYzE2NWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZmI1YzkwZDNjZTVlNDA4NGI0YjZjM2RiOTk2NTFlZDMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOTRkYmJjNmNhMTc0NDVlZjk5NTNhZTlhOWU3MGY5YzggPSAkKCc8ZGl2IGlkPSJodG1sXzk0ZGJiYzZjYTE3NDQ1ZWY5OTUzYWU5YTllNzBmOWM4IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5RdWVlbiYjMzk7cyBQYXJrIENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZmI1YzkwZDNjZTVlNDA4NGI0YjZjM2RiOTk2NTFlZDMuc2V0Q29udGVudChodG1sXzk0ZGJiYzZjYTE3NDQ1ZWY5OTUzYWU5YTllNzBmOWM4KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzRlNmQ4N2Y4M2JmNjRjNGRiMmE2Zjg2YzBlMzYzNjk0LmJpbmRQb3B1cChwb3B1cF9mYjVjOTBkM2NlNWU0MDg0YjRiNmMzZGI5OTY1MWVkMyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9lMGJhODc4NGY3MDk0Nzc2OThiMWY0YjljYjc1OTMwOCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjgwNjY4NjI5OTk5OTk5NiwtNzkuMTk0MzUzNDAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmJiMjlkNzMxYmVkNDVkYjgwMDkyM2I1YWRlYzE2NWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZjlhZjg1ZDBhZWY3NGEyZDgwOTRmY2Y2YzliODdhYTggPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZmU0NGQzYTJmODUxNDM2Y2FjYjNjYTk2MzEyNDIyNzUgPSAkKCc8ZGl2IGlkPSJodG1sX2ZlNDRkM2EyZjg1MTQzNmNhY2IzY2E5NjMxMjQyMjc1IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Sb3VnZSwgTWFsdmVybiBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2Y5YWY4NWQwYWVmNzRhMmQ4MDk0ZmNmNmM5Yjg3YWE4LnNldENvbnRlbnQoaHRtbF9mZTQ0ZDNhMmY4NTE0MzZjYWNiM2NhOTYzMTI0MjI3NSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9lMGJhODc4NGY3MDk0Nzc2OThiMWY0YjljYjc1OTMwOC5iaW5kUG9wdXAocG9wdXBfZjlhZjg1ZDBhZWY3NGEyZDgwOTRmY2Y2YzliODdhYTgpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfY2FhZjJlMTQxMWRkNDlkZjhmOGZmNzYwOWQ4ZGFlMzEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NDU5MDU3OTk5OTk5OTYsLTc5LjM1MjE4OF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mYmIyOWQ3MzFiZWQ0NWRiODAwOTIzYjVhZGVjMTY1ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9mZmUzOTkyNjBkMTY0NDk4OWEyZmMwNjkxMjBmNDczNSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF84YzUxM2YwMTM3YjM0MTM0YmU5YmQ0Y2Q0MTM0YmVmYyA9ICQoJzxkaXYgaWQ9Imh0bWxfOGM1MTNmMDEzN2IzNDEzNGJlOWJkNGNkNDEzNGJlZmMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkRvbiBNaWxscyBOb3J0aCBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2ZmZTM5OTI2MGQxNjQ0OTg5YTJmYzA2OTEyMGY0NzM1LnNldENvbnRlbnQoaHRtbF84YzUxM2YwMTM3YjM0MTM0YmU5YmQ0Y2Q0MTM0YmVmYyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9jYWFmMmUxNDExZGQ0OWRmOGY4ZmY3NjA5ZDhkYWUzMS5iaW5kUG9wdXAocG9wdXBfZmZlMzk5MjYwZDE2NDQ5ODlhMmZjMDY5MTIwZjQ3MzUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfM2Q1YjczOTkzOTA3NDZlYWFjYmJiYTYyZDQ3YTNiMzAgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MDYzOTcyLC03OS4zMDk5MzddLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmJiMjlkNzMxYmVkNDVkYjgwMDkyM2I1YWRlYzE2NWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMmExYTYwMTAxYzMxNDc3OGFjZjlmMzI2MjllMGUyZWYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMzE1MWIwYTBkNmZjNGQyZmE0NjFiOGQxYmFiNjBkM2QgPSAkKCc8ZGl2IGlkPSJodG1sXzMxNTFiMGEwZDZmYzRkMmZhNDYxYjhkMWJhYjYwZDNkIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Xb29kYmluZSBHYXJkZW5zLCBQYXJrdmlldyBIaWxsIENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMmExYTYwMTAxYzMxNDc3OGFjZjlmMzI2MjllMGUyZWYuc2V0Q29udGVudChodG1sXzMxNTFiMGEwZDZmYzRkMmZhNDYxYjhkMWJhYjYwZDNkKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzNkNWI3Mzk5MzkwNzQ2ZWFhY2JiYmE2MmQ0N2EzYjMwLmJpbmRQb3B1cChwb3B1cF8yYTFhNjAxMDFjMzE0Nzc4YWNmOWYzMjYyOWUwZTJlZik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9lODc3ODI4MmYwMGI0MTIwYmNlNTY5MjIwNTlmYjhlNSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY1NzE2MTgsLTc5LjM3ODkzNzA5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZiYjI5ZDczMWJlZDQ1ZGI4MDA5MjNiNWFkZWMxNjVkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzgxNDAwYWM1MDA3ZjQxNmJiMmM3ZGVjOWIxNTRjYWEzID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2RjMmExYjBhMjE0MTRlOTY5YjU4YzY2YjhmMmYxNmI5ID0gJCgnPGRpdiBpZD0iaHRtbF9kYzJhMWIwYTIxNDE0ZTk2OWI1OGM2NmI4ZjJmMTZiOSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+UnllcnNvbiwgR2FyZGVuIERpc3RyaWN0IENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfODE0MDBhYzUwMDdmNDE2YmIyYzdkZWM5YjE1NGNhYTMuc2V0Q29udGVudChodG1sX2RjMmExYjBhMjE0MTRlOTY5YjU4YzY2YjhmMmYxNmI5KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2U4Nzc4MjgyZjAwYjQxMjBiY2U1NjkyMjA1OWZiOGU1LmJpbmRQb3B1cChwb3B1cF84MTQwMGFjNTAwN2Y0MTZiYjJjN2RlYzliMTU0Y2FhMyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl85NzU0OWY1NTM3MGQ0MTFmYWI1MTBhODJmZjBmMTIyZSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcwOTU3NywtNzkuNDQ1MDcyNTk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmJiMjlkNzMxYmVkNDVkYjgwMDkyM2I1YWRlYzE2NWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYzJjNWNmOGFhZjJmNGMzN2IxM2Q5MzQ2OThmMjM4OTggPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMzA2MjgwMTU1MzBjNDI3NmI2Y2QwZDYyYzlmMjk1YmUgPSAkKCc8ZGl2IGlkPSJodG1sXzMwNjI4MDE1NTMwYzQyNzZiNmNkMGQ2MmM5ZjI5NWJlIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5HbGVuY2Fpcm4gQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9jMmM1Y2Y4YWFmMmY0YzM3YjEzZDkzNDY5OGYyMzg5OC5zZXRDb250ZW50KGh0bWxfMzA2MjgwMTU1MzBjNDI3NmI2Y2QwZDYyYzlmMjk1YmUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfOTc1NDlmNTUzNzBkNDExZmFiNTEwYTgyZmYwZjEyMmUuYmluZFBvcHVwKHBvcHVwX2MyYzVjZjhhYWYyZjRjMzdiMTNkOTM0Njk4ZjIzODk4KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzc3NGIxMTgyZGI0NTRhM2NiZTZlNWI1MWI5NzNiYzgwID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjUwOTQzMiwtNzkuNTU0NzI0NDAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzAwYjVlYiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMwMGI1ZWIiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmJiMjlkNzMxYmVkNDVkYjgwMDkyM2I1YWRlYzE2NWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNTAyYWEzYTE5Y2Y1NDYwZDhlMzg3ODc4Y2FlYWUxNjYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMGMzN2VjYzYyMmUyNDA2OWIwNjg0NThlMTM4ZDg1N2QgPSAkKCc8ZGl2IGlkPSJodG1sXzBjMzdlY2M2MjJlMjQwNjliMDY4NDU4ZTEzOGQ4NTdkIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DbG92ZXJkYWxlLCBJc2xpbmd0b24sIE1hcnRpbiBHcm92ZSwgUHJpbmNlc3MgR2FyZGVucywgV2VzdCBEZWFuZSBQYXJrIENsdXN0ZXIgMjwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNTAyYWEzYTE5Y2Y1NDYwZDhlMzg3ODc4Y2FlYWUxNjYuc2V0Q29udGVudChodG1sXzBjMzdlY2M2MjJlMjQwNjliMDY4NDU4ZTEzOGQ4NTdkKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzc3NGIxMTgyZGI0NTRhM2NiZTZlNWI1MWI5NzNiYzgwLmJpbmRQb3B1cChwb3B1cF81MDJhYTNhMTljZjU0NjBkOGUzODc4NzhjYWVhZTE2Nik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8xYzA0NTY1NmNjZmU0NzgyOWQzZWY2M2YwMWQ4ODc2ZiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc4NDUzNTEsLTc5LjE2MDQ5NzA5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiMwMGI1ZWIiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMDBiNWViIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZiYjI5ZDczMWJlZDQ1ZGI4MDA5MjNiNWFkZWMxNjVkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzg3NmE0NjNkODk5MzQ3MTFiYWE2MzQyNjFiNDc2NWNhID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzA1OTEyNDI3ZDExMTRiNTM4NDk5YWYyMGM5ZWFhZTc5ID0gJCgnPGRpdiBpZD0iaHRtbF8wNTkxMjQyN2QxMTE0YjUzODQ5OWFmMjBjOWVhYWU3OSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+SGlnaGxhbmQgQ3JlZWssIFJvdWdlIEhpbGwsIFBvcnQgVW5pb24gQ2x1c3RlciAyPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF84NzZhNDYzZDg5OTM0NzExYmFhNjM0MjYxYjQ3NjVjYS5zZXRDb250ZW50KGh0bWxfMDU5MTI0MjdkMTExNGI1Mzg0OTlhZjIwYzllYWFlNzkpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMWMwNDU2NTZjY2ZlNDc4MjlkM2VmNjNmMDFkODg3NmYuYmluZFBvcHVwKHBvcHVwXzg3NmE0NjNkODk5MzQ3MTFiYWE2MzQyNjFiNDc2NWNhKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzBiNDk5NjJmZmY5MzRkZDY4MGIwYTIwNTY2NTkwOTY0ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzI1ODk5NzAwMDAwMDEsLTc5LjM0MDkyM10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mYmIyOWQ3MzFiZWQ0NWRiODAwOTIzYjVhZGVjMTY1ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF80NWMwNGE5MGM0Y2M0NjdmOTM3NWU5M2M3Y2VjNDJkNiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9jYjBiMmI3NjRmNWY0MjRjOGE5YzYwNmM0ZTliOWVmMCA9ICQoJzxkaXYgaWQ9Imh0bWxfY2IwYjJiNzY0ZjVmNDI0YzhhOWM2MDZjNGU5YjllZjAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkZsZW1pbmdkb24gUGFyaywgRG9uIE1pbGxzIFNvdXRoIENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNDVjMDRhOTBjNGNjNDY3ZjkzNzVlOTNjN2NlYzQyZDYuc2V0Q29udGVudChodG1sX2NiMGIyYjc2NGY1ZjQyNGM4YTljNjA2YzRlOWI5ZWYwKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzBiNDk5NjJmZmY5MzRkZDY4MGIwYTIwNTY2NTkwOTY0LmJpbmRQb3B1cChwb3B1cF80NWMwNGE5MGM0Y2M0NjdmOTM3NWU5M2M3Y2VjNDJkNik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9mZWMyMzMwZGQ3Zjg0ODkzOTI4ODUwZWM1YzE3YjBjMSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY5NTM0MzkwMDAwMDAwNSwtNzkuMzE4Mzg4N10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mYmIyOWQ3MzFiZWQ0NWRiODAwOTIzYjVhZGVjMTY1ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF83ZGY5OTlkNjMyZjQ0ZjFhODNiMDgzZTcxN2VlY2FjYiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF85NWE0ZDA1YTI5MGE0YjIwYWVmZWIwMjhmNmVjY2RhMSA9ICQoJzxkaXYgaWQ9Imh0bWxfOTVhNGQwNWEyOTBhNGIyMGFlZmViMDI4ZjZlY2NkYTEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPldvb2RiaW5lIEhlaWdodHMgQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF83ZGY5OTlkNjMyZjQ0ZjFhODNiMDgzZTcxN2VlY2FjYi5zZXRDb250ZW50KGh0bWxfOTVhNGQwNWEyOTBhNGIyMGFlZmViMDI4ZjZlY2NkYTEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZmVjMjMzMGRkN2Y4NDg5MzkyODg1MGVjNWMxN2IwYzEuYmluZFBvcHVwKHBvcHVwXzdkZjk5OWQ2MzJmNDRmMWE4M2IwODNlNzE3ZWVjYWNiKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzRkMmQ1ZDhkYzM4ZjRlYjRiMmNjOGIxOWU0YjI5YTM3ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjUxNDkzOSwtNzkuMzc1NDE3OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mYmIyOWQ3MzFiZWQ0NWRiODAwOTIzYjVhZGVjMTY1ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8yOGFmN2YxMzE5ZmM0ZGZhYTFlNTYwYTkyYjM4ZTA1MSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8yY2M0NjRmODJlZTk0ZWMxOTY4NDc3NzdiZGU5OWFmMyA9ICQoJzxkaXYgaWQ9Imh0bWxfMmNjNDY0ZjgyZWU5NGVjMTk2ODQ3Nzc3YmRlOTlhZjMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlN0LiBKYW1lcyBUb3duIENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMjhhZjdmMTMxOWZjNGRmYWExZTU2MGE5MmIzOGUwNTEuc2V0Q29udGVudChodG1sXzJjYzQ2NGY4MmVlOTRlYzE5Njg0Nzc3N2JkZTk5YWYzKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzRkMmQ1ZDhkYzM4ZjRlYjRiMmNjOGIxOWU0YjI5YTM3LmJpbmRQb3B1cChwb3B1cF8yOGFmN2YxMzE5ZmM0ZGZhYTFlNTYwYTkyYjM4ZTA1MSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9jNDcxY2M0ODZkNjI0ZGRkYmMzZThlZDAzOWQxMDY0NyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY5Mzc4MTMsLTc5LjQyODE5MTQwMDAwMDAyXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZiYjI5ZDczMWJlZDQ1ZGI4MDA5MjNiNWFkZWMxNjVkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2VjMTk0Njk1ZGI1MjRmMjhiMWVjZDA4OTBjMDEyNzQzID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2EzZDY3MjY3ZmM0ZTRiZjFhYmNiNTgwMGE2MjkyNWM0ID0gJCgnPGRpdiBpZD0iaHRtbF9hM2Q2NzI2N2ZjNGU0YmYxYWJjYjU4MDBhNjI5MjVjNCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+SHVtZXdvb2QtQ2VkYXJ2YWxlIENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZWMxOTQ2OTVkYjUyNGYyOGIxZWNkMDg5MGMwMTI3NDMuc2V0Q29udGVudChodG1sX2EzZDY3MjY3ZmM0ZTRiZjFhYmNiNTgwMGE2MjkyNWM0KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2M0NzFjYzQ4NmQ2MjRkZGRiYzNlOGVkMDM5ZDEwNjQ3LmJpbmRQb3B1cChwb3B1cF9lYzE5NDY5NWRiNTI0ZjI4YjFlY2QwODkwYzAxMjc0Myk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9iNzIzZGQ3ZGQyNGI0Y2QyODg4MDQzMjMxZDc4Y2IyZSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY0MzUxNTIsLTc5LjU3NzIwMDc5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZiYjI5ZDczMWJlZDQ1ZGI4MDA5MjNiNWFkZWMxNjVkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2M0OTY2OGQ5ZWE5YTQ4MGY4OGZmYTk2MDI2ZTg1MWJmID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2YyZmFiZGRkOTY5YTQ4ODE4MDBmMzljNGZmMzBiOWQ2ID0gJCgnPGRpdiBpZD0iaHRtbF9mMmZhYmRkZDk2OWE0ODgxODAwZjM5YzRmZjMwYjlkNiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Qmxvb3JkYWxlIEdhcmRlbnMsIEVyaW5nYXRlLCBNYXJrbGFuZCBXb29kLCBPbGQgQnVybmhhbXRob3JwZSBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2M0OTY2OGQ5ZWE5YTQ4MGY4OGZmYTk2MDI2ZTg1MWJmLnNldENvbnRlbnQoaHRtbF9mMmZhYmRkZDk2OWE0ODgxODAwZjM5YzRmZjMwYjlkNik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9iNzIzZGQ3ZGQyNGI0Y2QyODg4MDQzMjMxZDc4Y2IyZS5iaW5kUG9wdXAocG9wdXBfYzQ5NjY4ZDllYTlhNDgwZjg4ZmZhOTYwMjZlODUxYmYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMTJhMjBlMTlhMzIyNGVmMzk5NzFiMjg5OGRiNjVhMjAgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NjM1NzI2LC03OS4xODg3MTE1XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZiYjI5ZDczMWJlZDQ1ZGI4MDA5MjNiNWFkZWMxNjVkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzA5NDUxMDI3YjQ5ZjQ0NmNhZTczOGVhNzdkZGI4NWZjID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzBkY2M1OTBkOTExZjRhNDhhZGI2NmJjY2QyNTkzNGRiID0gJCgnPGRpdiBpZD0iaHRtbF8wZGNjNTkwZDkxMWY0YTQ4YWRiNjZiY2NkMjU5MzRkYiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+R3VpbGR3b29kLCBNb3JuaW5nc2lkZSwgV2VzdCBIaWxsIENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMDk0NTEwMjdiNDlmNDQ2Y2FlNzM4ZWE3N2RkYjg1ZmMuc2V0Q29udGVudChodG1sXzBkY2M1OTBkOTExZjRhNDhhZGI2NmJjY2QyNTkzNGRiKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzEyYTIwZTE5YTMyMjRlZjM5OTcxYjI4OThkYjY1YTIwLmJpbmRQb3B1cChwb3B1cF8wOTQ1MTAyN2I0OWY0NDZjYWU3MzhlYTc3ZGRiODVmYyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8yYzc5N2NjNDgzY2Y0MzNjOTcxN2UwNGRlZjY3OGNmNCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY3NjM1NzM5OTk5OTk5LC03OS4yOTMwMzEyXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZiYjI5ZDczMWJlZDQ1ZGI4MDA5MjNiNWFkZWMxNjVkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2I0NDExOWZiNmIzMjQzYThiZjQ0MTNjMmIwYjkxMjg4ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzkxNzE5OWM2ZTM1MzQ3OTliN2VjYTg5MjllYWE4NDJjID0gJCgnPGRpdiBpZD0iaHRtbF85MTcxOTljNmUzNTM0Nzk5YjdlY2E4OTI5ZWFhODQyYyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+VGhlIEJlYWNoZXMgQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9iNDQxMTlmYjZiMzI0M2E4YmY0NDEzYzJiMGI5MTI4OC5zZXRDb250ZW50KGh0bWxfOTE3MTk5YzZlMzUzNDc5OWI3ZWNhODkyOWVhYTg0MmMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMmM3OTdjYzQ4M2NmNDMzYzk3MTdlMDRkZWY2NzhjZjQuYmluZFBvcHVwKHBvcHVwX2I0NDExOWZiNmIzMjQzYThiZjQ0MTNjMmIwYjkxMjg4KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzNhYWJjYWUwNjVmYTQ3ZWY4NjE4MzA4YjYzMTdkM2RmID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjQ0NzcwNzk5OTk5OTk2LC03OS4zNzMzMDY0XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZiYjI5ZDczMWJlZDQ1ZGI4MDA5MjNiNWFkZWMxNjVkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzk3NjhmMTU4YzdmNDQ1OGM4NTBmODZlOTM3YTFiODUwID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzJmNjBlZDI4ZjYzMTQ5OTE5MzIyOGRjNDgxODI3NmI3ID0gJCgnPGRpdiBpZD0iaHRtbF8yZjYwZWQyOGY2MzE0OTkxOTMyMjhkYzQ4MTgyNzZiNyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QmVyY3p5IFBhcmsgQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF85NzY4ZjE1OGM3ZjQ0NThjODUwZjg2ZTkzN2ExYjg1MC5zZXRDb250ZW50KGh0bWxfMmY2MGVkMjhmNjMxNDk5MTkzMjI4ZGM0ODE4Mjc2YjcpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfM2FhYmNhZTA2NWZhNDdlZjg2MTgzMDhiNjMxN2QzZGYuYmluZFBvcHVwKHBvcHVwXzk3NjhmMTU4YzdmNDQ1OGM4NTBmODZlOTM3YTFiODUwKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzI1ODE3ZTY4NTk1NzRlZjFiOTY0ZDc1YTM5NDgyMDQzID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjg5MDI1NiwtNzkuNDUzNTEyXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZmIzNjAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmZiMzYwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZiYjI5ZDczMWJlZDQ1ZGI4MDA5MjNiNWFkZWMxNjVkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzhjNzVlOTNlNzdlYTQxNzNhOWQ2MTQyYWFkNjk2Nzk1ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzcyNTUxNmZhMzQyYzQxNTI5OWVmYmJjZTg4MTlhZjU2ID0gJCgnPGRpdiBpZD0iaHRtbF83MjU1MTZmYTM0MmM0MTUyOTllZmJiY2U4ODE5YWY1NiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2FsZWRvbmlhLUZhaXJiYW5rcyBDbHVzdGVyIDQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzhjNzVlOTNlNzdlYTQxNzNhOWQ2MTQyYWFkNjk2Nzk1LnNldENvbnRlbnQoaHRtbF83MjU1MTZmYTM0MmM0MTUyOTllZmJiY2U4ODE5YWY1Nik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8yNTgxN2U2ODU5NTc0ZWYxYjk2NGQ3NWEzOTQ4MjA0My5iaW5kUG9wdXAocG9wdXBfOGM3NWU5M2U3N2VhNDE3M2E5ZDYxNDJhYWQ2OTY3OTUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMjkzNTAzNjFlOTc3NGRlZTlmYjAzMjc3MThhMzAwODMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NzA5OTIxLC03OS4yMTY5MTc0MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mYmIyOWQ3MzFiZWQ0NWRiODAwOTIzYjVhZGVjMTY1ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF81YWU0MzY4MTBlZjU0ODRiOTgxYzA2MGI5ODgzYTE3NiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF83ZjZkMmEyMDMzODM0ODAzYjVkOTEwNjg0MTE3ODg4NCA9ICQoJzxkaXYgaWQ9Imh0bWxfN2Y2ZDJhMjAzMzgzNDgwM2I1ZDkxMDY4NDExNzg4ODQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPldvYnVybiBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzVhZTQzNjgxMGVmNTQ4NGI5ODFjMDYwYjk4ODNhMTc2LnNldENvbnRlbnQoaHRtbF83ZjZkMmEyMDMzODM0ODAzYjVkOTEwNjg0MTE3ODg4NCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8yOTM1MDM2MWU5Nzc0ZGVlOWZiMDMyNzcxOGEzMDA4My5iaW5kUG9wdXAocG9wdXBfNWFlNDM2ODEwZWY1NDg0Yjk4MWMwNjBiOTg4M2ExNzYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNTNjZmM3NmExZWI5NGM3OWE5OGExMzBlNzQxNjI1ZjIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MDkwNjA0LC03OS4zNjM0NTE3XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZiYjI5ZDczMWJlZDQ1ZGI4MDA5MjNiNWFkZWMxNjVkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2UzNGQ3ZjBlNWFlMDRiZWJhNmE5YzJkMDc3OGUwNDhiID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzJlNGUwMzU1ZmRjMDRjN2Q5ZWZkMWEwMmExMTAyMGM0ID0gJCgnPGRpdiBpZD0iaHRtbF8yZTRlMDM1NWZkYzA0YzdkOWVmZDFhMDJhMTEwMjBjNCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+TGVhc2lkZSBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2UzNGQ3ZjBlNWFlMDRiZWJhNmE5YzJkMDc3OGUwNDhiLnNldENvbnRlbnQoaHRtbF8yZTRlMDM1NWZkYzA0YzdkOWVmZDFhMDJhMTEwMjBjNCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl81M2NmYzc2YTFlYjk0Yzc5YTk4YTEzMGU3NDE2MjVmMi5iaW5kUG9wdXAocG9wdXBfZTM0ZDdmMGU1YWUwNGJlYmE2YTljMmQwNzc4ZTA0OGIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMDhmMzMwMzQ2NmUwNGVjNzliNjM2OGIzYTgyMDEzYTIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NTc5NTI0LC03OS4zODczODI2XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZiYjI5ZDczMWJlZDQ1ZGI4MDA5MjNiNWFkZWMxNjVkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzQ3NDBiZjE5MmVlMjQwMmM5ZjBkYmUzMmFkZDYzNjY5ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzIxZmMwMmEyYjNjOTQzOTNhMDIzM2UzNDVlZjcwNjFkID0gJCgnPGRpdiBpZD0iaHRtbF8yMWZjMDJhMmIzYzk0MzkzYTAyMzNlMzQ1ZWY3MDYxZCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2VudHJhbCBCYXkgU3RyZWV0IENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNDc0MGJmMTkyZWUyNDAyYzlmMGRiZTMyYWRkNjM2Njkuc2V0Q29udGVudChodG1sXzIxZmMwMmEyYjNjOTQzOTNhMDIzM2UzNDVlZjcwNjFkKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzA4ZjMzMDM0NjZlMDRlYzc5YjYzNjhiM2E4MjAxM2EyLmJpbmRQb3B1cChwb3B1cF80NzQwYmYxOTJlZTI0MDJjOWYwZGJlMzJhZGQ2MzY2OSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl85Mzg1NTdjMWU0NjU0YTdiYTY5YzAxYmZlOTcyOWYwZSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY2OTU0MiwtNzkuNDIyNTYzN10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mYmIyOWQ3MzFiZWQ0NWRiODAwOTIzYjVhZGVjMTY1ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8yMjhkZjRkZjIxYjU0N2E0OGQyOTQyNmU0ODkwZjk4YiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9hMzM5Y2RmNDMyNTM0ZTdhOWFmMTllNWNkYTE3NjBiMCA9ICQoJzxkaXYgaWQ9Imh0bWxfYTMzOWNkZjQzMjUzNGU3YTlhZjE5ZTVjZGExNzYwYjAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNocmlzdGllIENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMjI4ZGY0ZGYyMWI1NDdhNDhkMjk0MjZlNDg5MGY5OGIuc2V0Q29udGVudChodG1sX2EzMzljZGY0MzI1MzRlN2E5YWYxOWU1Y2RhMTc2MGIwKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzkzODU1N2MxZTQ2NTRhN2JhNjljMDFiZmU5NzI5ZjBlLmJpbmRQb3B1cChwb3B1cF8yMjhkZjRkZjIxYjU0N2E0OGQyOTQyNmU0ODkwZjk4Yik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9mZmRjZmE3ZmNiYzc0NThmYWE2ZDk0MWYwZGM0NjZmOSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc3MzEzNiwtNzkuMjM5NDc2MDk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmJiMjlkNzMxYmVkNDVkYjgwMDkyM2I1YWRlYzE2NWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNDVjNjQ3YjFlOTBjNDFiNGFhNTkzMzQ4ODNkODA3NTMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNWU5MTc1Y2E1NmY1NDhlMDg1NDllOGJhODIwMjQzNjAgPSAkKCc8ZGl2IGlkPSJodG1sXzVlOTE3NWNhNTZmNTQ4ZTA4NTQ5ZThiYTgyMDI0MzYwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DZWRhcmJyYWUgQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF80NWM2NDdiMWU5MGM0MWI0YWE1OTMzNDg4M2Q4MDc1My5zZXRDb250ZW50KGh0bWxfNWU5MTc1Y2E1NmY1NDhlMDg1NDllOGJhODIwMjQzNjApOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZmZkY2ZhN2ZjYmM3NDU4ZmFhNmQ5NDFmMGRjNDY2ZjkuYmluZFBvcHVwKHBvcHVwXzQ1YzY0N2IxZTkwYzQxYjRhYTU5MzM0ODgzZDgwNzUzKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzEwMTYzMThiNzBiMTRlNDA4NDczNzFjMDhkZjMzNTI0ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuODAzNzYyMiwtNzkuMzYzNDUxN10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mYmIyOWQ3MzFiZWQ0NWRiODAwOTIzYjVhZGVjMTY1ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9hOTNiZTM4MDFhZDU0YWQ1OTQ3M2IxZWIwMGZkMjFhYyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9kYjc0NzUyMzgxYTY0Mjk0OWJkYmMxZWZlM2QwN2QyNyA9ICQoJzxkaXYgaWQ9Imh0bWxfZGI3NDc1MjM4MWE2NDI5NDliZGJjMWVmZTNkMDdkMjciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkhpbGxjcmVzdCBWaWxsYWdlIENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYTkzYmUzODAxYWQ1NGFkNTk0NzNiMWViMDBmZDIxYWMuc2V0Q29udGVudChodG1sX2RiNzQ3NTIzODFhNjQyOTQ5YmRiYzFlZmUzZDA3ZDI3KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzEwMTYzMThiNzBiMTRlNDA4NDczNzFjMDhkZjMzNTI0LmJpbmRQb3B1cChwb3B1cF9hOTNiZTM4MDFhZDU0YWQ1OTQ3M2IxZWIwMGZkMjFhYyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8zMzcwMWI5MTVkYjQ0ZDcxYWMxNjBjN2ZmM2ZmZTI4NiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc1NDMyODMsLTc5LjQ0MjI1OTNdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmJiMjlkNzMxYmVkNDVkYjgwMDkyM2I1YWRlYzE2NWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNjFiMWUzNTZlYjE2NDgxOWEwYTE1MTRjMjJkZGVjMmIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOTVmNzJhN2ZkYTg0NDcyYzgyOTcyYmM3ZGFhYWY3MTUgPSAkKCc8ZGl2IGlkPSJodG1sXzk1ZjcyYTdmZGE4NDQ3MmM4Mjk3MmJjN2RhYWFmNzE1IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5CYXRodXJzdCBNYW5vciwgRG93bnN2aWV3IE5vcnRoLCBXaWxzb24gSGVpZ2h0cyBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzYxYjFlMzU2ZWIxNjQ4MTlhMGExNTE0YzIyZGRlYzJiLnNldENvbnRlbnQoaHRtbF85NWY3MmE3ZmRhODQ0NzJjODI5NzJiYzdkYWFhZjcxNSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8zMzcwMWI5MTVkYjQ0ZDcxYWMxNjBjN2ZmM2ZmZTI4Ni5iaW5kUG9wdXAocG9wdXBfNjFiMWUzNTZlYjE2NDgxOWEwYTE1MTRjMjJkZGVjMmIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZjQ5ZWQzN2FhMGNlNDEyY2FlZDYwMzA4ZDg0Njk0MzAgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MDUzNjg5LC03OS4zNDkzNzE5MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mYmIyOWQ3MzFiZWQ0NWRiODAwOTIzYjVhZGVjMTY1ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8xYzJmZWU3OWJjZmU0ZjUyOTQ1ZjVhOGIxMzFkMWIzYSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8xMzQ3OTlmYmNkMjc0ODU3YjA4ZTM0ZTkzZmEyMGRiYSA9ICQoJzxkaXYgaWQ9Imh0bWxfMTM0Nzk5ZmJjZDI3NDg1N2IwOGUzNGU5M2ZhMjBkYmEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlRob3JuY2xpZmZlIFBhcmsgQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8xYzJmZWU3OWJjZmU0ZjUyOTQ1ZjVhOGIxMzFkMWIzYS5zZXRDb250ZW50KGh0bWxfMTM0Nzk5ZmJjZDI3NDg1N2IwOGUzNGU5M2ZhMjBkYmEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZjQ5ZWQzN2FhMGNlNDEyY2FlZDYwMzA4ZDg0Njk0MzAuYmluZFBvcHVwKHBvcHVwXzFjMmZlZTc5YmNmZTRmNTI5NDVmNWE4YjEzMWQxYjNhKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2UwNDZiNTQyYjc4OTQ0ZWViNmRmODg3MzZhZjBhZGRmID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjUwNTcxMjAwMDAwMDEsLTc5LjM4NDU2NzVdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmJiMjlkNzMxYmVkNDVkYjgwMDkyM2I1YWRlYzE2NWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZGY1MWNjM2NlZWZiNGUwMThkOTYzM2JjNWMwNTkzZjAgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZjAzMGU2YTFjZWI1NGRiY2JiNDVmYjY5NDhkN2I3MTIgPSAkKCc8ZGl2IGlkPSJodG1sX2YwMzBlNmExY2ViNTRkYmNiYjQ1ZmI2OTQ4ZDdiNzEyIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5BZGVsYWlkZSwgS2luZywgUmljaG1vbmQgQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9kZjUxY2MzY2VlZmI0ZTAxOGQ5NjMzYmM1YzA1OTNmMC5zZXRDb250ZW50KGh0bWxfZjAzMGU2YTFjZWI1NGRiY2JiNDVmYjY5NDhkN2I3MTIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZTA0NmI1NDJiNzg5NDRlZWI2ZGY4ODczNmFmMGFkZGYuYmluZFBvcHVwKHBvcHVwX2RmNTFjYzNjZWVmYjRlMDE4ZDk2MzNiYzVjMDU5M2YwKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2MzZDNkZDhjNGI5YzQ2MDA4YWVhZjBmYWUzY2IwZDA3ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjY5MDA1MTAwMDAwMDEsLTc5LjQ0MjI1OTNdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmJiMjlkNzMxYmVkNDVkYjgwMDkyM2I1YWRlYzE2NWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNjM4ODBlNjU0MWI4NDBhMzllYWE0MGE4NzEyNzAxYmYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYTk0YzRiMDQ0YTY4NGE0ZGJjYzEwY2YxOTgxNDQ0MTEgPSAkKCc8ZGl2IGlkPSJodG1sX2E5NGM0YjA0NGE2ODRhNGRiY2MxMGNmMTk4MTQ0NDExIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Eb3ZlcmNvdXJ0IFZpbGxhZ2UsIER1ZmZlcmluIENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNjM4ODBlNjU0MWI4NDBhMzllYWE0MGE4NzEyNzAxYmYuc2V0Q29udGVudChodG1sX2E5NGM0YjA0NGE2ODRhNGRiY2MxMGNmMTk4MTQ0NDExKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2MzZDNkZDhjNGI5YzQ2MDA4YWVhZjBmYWUzY2IwZDA3LmJpbmRQb3B1cChwb3B1cF82Mzg4MGU2NTQxYjg0MGEzOWVhYTQwYTg3MTI3MDFiZik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl84NDY2ODBlZDJmNjU0ZDk3ODVjNzNiZWQ4ZDQ2YTZkMSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc0NDczNDIsLTc5LjIzOTQ3NjA5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZmIzNjAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmZiMzYwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZiYjI5ZDczMWJlZDQ1ZGI4MDA5MjNiNWFkZWMxNjVkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2JmMDJmZTZiOGFjYzQ1NjE5NDdlOTA0ZTc2ZGU5YzBiID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2ZjYTMzNzVhMTQyODQyNTZiMGUxYzMyYTFkODA3ZDA3ID0gJCgnPGRpdiBpZD0iaHRtbF9mY2EzMzc1YTE0Mjg0MjU2YjBlMWMzMmExZDgwN2QwNyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+U2NhcmJvcm91Z2ggVmlsbGFnZSBDbHVzdGVyIDQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2JmMDJmZTZiOGFjYzQ1NjE5NDdlOTA0ZTc2ZGU5YzBiLnNldENvbnRlbnQoaHRtbF9mY2EzMzc1YTE0Mjg0MjU2YjBlMWMzMmExZDgwN2QwNyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl84NDY2ODBlZDJmNjU0ZDk3ODVjNzNiZWQ4ZDQ2YTZkMS5iaW5kUG9wdXAocG9wdXBfYmYwMmZlNmI4YWNjNDU2MTk0N2U5MDRlNzZkZTljMGIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZWZmYzQ3ZmU5ZDc2NGE3NDk2YTRjMzZiYmYzOGY3NDUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43Nzg1MTc1LC03OS4zNDY1NTU3XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZiYjI5ZDczMWJlZDQ1ZGI4MDA5MjNiNWFkZWMxNjVkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzdmYjBhMDAxMjEyYzQyOThiODMzNWUyZTE5ZjBkNTNiID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzY3NjFhOTE3OTM5YTQxODE5YjE3MzVkOWFmZGUyMDdlID0gJCgnPGRpdiBpZD0iaHRtbF82NzYxYTkxNzkzOWE0MTgxOWIxNzM1ZDlhZmRlMjA3ZSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RmFpcnZpZXcsIEhlbnJ5IEZhcm0sIE9yaW9sZSBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzdmYjBhMDAxMjEyYzQyOThiODMzNWUyZTE5ZjBkNTNiLnNldENvbnRlbnQoaHRtbF82NzYxYTkxNzkzOWE0MTgxOWIxNzM1ZDlhZmRlMjA3ZSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9lZmZjNDdmZTlkNzY0YTc0OTZhNGMzNmJiZjM4Zjc0NS5iaW5kUG9wdXAocG9wdXBfN2ZiMGEwMDEyMTJjNDI5OGI4MzM1ZTJlMTlmMGQ1M2IpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMDJmZGFmNWRkMDcwNDExMjk5ZDU4ZjRiNWMxMzczOWMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43Njc5ODAzLC03OS40ODcyNjE5MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjMDBiNWViIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzAwYjVlYiIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mYmIyOWQ3MzFiZWQ0NWRiODAwOTIzYjVhZGVjMTY1ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF85ZGQ1ZWZjNDRjNGI0YzkxYTJjZTQ2OThhNDQ3MWY0MyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8zYzE5NzFhNjg2OGM0MjE1YTkxMTgxZDE5Y2NjMGJjNyA9ICQoJzxkaXYgaWQ9Imh0bWxfM2MxOTcxYTY4NjhjNDIxNWE5MTE4MWQxOWNjYzBiYzciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPk5vcnRod29vZCBQYXJrLCBZb3JrIFVuaXZlcnNpdHkgQ2x1c3RlciAyPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF85ZGQ1ZWZjNDRjNGI0YzkxYTJjZTQ2OThhNDQ3MWY0My5zZXRDb250ZW50KGh0bWxfM2MxOTcxYTY4NjhjNDIxNWE5MTE4MWQxOWNjYzBiYzcpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMDJmZGFmNWRkMDcwNDExMjk5ZDU4ZjRiNWMxMzczOWMuYmluZFBvcHVwKHBvcHVwXzlkZDVlZmM0NGM0YjRjOTFhMmNlNDY5OGE0NDcxZjQzKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzFmMzc4YmJiYjM0MTQ4NjQ5ZTYyODY4MTA1ZjY2ODQxID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjg1MzQ3LC03OS4zMzgxMDY1XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MDAwZmYiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODAwMGZmIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZiYjI5ZDczMWJlZDQ1ZGI4MDA5MjNiNWFkZWMxNjVkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2Y4NTMxODg5NDdlNjQ5ZmY4Zjg3MzU2ZjQwZTc4N2E0ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzdhNTc1ZTQ0MjU1NjQ0MzI5YzQ4MWRkOTU4OWY5NWQ4ID0gJCgnPGRpdiBpZD0iaHRtbF83YTU3NWU0NDI1NTY0NDMyOWM0ODFkZDk1ODlmOTVkOCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RWFzdCBUb3JvbnRvIENsdXN0ZXIgMTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZjg1MzE4ODk0N2U2NDlmZjhmODczNTZmNDBlNzg3YTQuc2V0Q29udGVudChodG1sXzdhNTc1ZTQ0MjU1NjQ0MzI5YzQ4MWRkOTU4OWY5NWQ4KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzFmMzc4YmJiYjM0MTQ4NjQ5ZTYyODY4MTA1ZjY2ODQxLmJpbmRQb3B1cChwb3B1cF9mODUzMTg4OTQ3ZTY0OWZmOGY4NzM1NmY0MGU3ODdhNCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8yNGYzMWY5MDllYTM0M2YwOTcyMmNhNTdkMWJhYTYxNCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY0MDgxNTcsLTc5LjM4MTc1MjI5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZiYjI5ZDczMWJlZDQ1ZGI4MDA5MjNiNWFkZWMxNjVkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzRiZWI5MDQ0OTdhMzRmOGM4OThkNTExZjBiOWRhMzZlID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2E5NmZmYWY5OTI2NzRhYjBhZDQwZDlhM2Q5YTEyMjk3ID0gJCgnPGRpdiBpZD0iaHRtbF9hOTZmZmFmOTkyNjc0YWIwYWQ0MGQ5YTNkOWExMjI5NyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+SGFyYm91cmZyb250IEVhc3QsIFRvcm9udG8gSXNsYW5kcywgVW5pb24gU3RhdGlvbiBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzRiZWI5MDQ0OTdhMzRmOGM4OThkNTExZjBiOWRhMzZlLnNldENvbnRlbnQoaHRtbF9hOTZmZmFmOTkyNjc0YWIwYWQ0MGQ5YTNkOWExMjI5Nyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8yNGYzMWY5MDllYTM0M2YwOTcyMmNhNTdkMWJhYTYxNC5iaW5kUG9wdXAocG9wdXBfNGJlYjkwNDQ5N2EzNGY4Yzg5OGQ1MTFmMGI5ZGEzNmUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZjc1NTI4OTlhMTI0NDYzMTk3OGZjYzM5YzE4NjUzNjEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NDc5MjY3MDAwMDAwMDYsLTc5LjQxOTc0OTddLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmJiMjlkNzMxYmVkNDVkYjgwMDkyM2I1YWRlYzE2NWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMDk2MTg1Y2RhMzk2NDcyNGE0N2RiZWFkMTllOTkwODcgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYWFhYjc4YmU3NGU5NGJjYTkxYmViOGRlNzYxMGFmZTMgPSAkKCc8ZGl2IGlkPSJodG1sX2FhYWI3OGJlNzRlOTRiY2E5MWJlYjhkZTc2MTBhZmUzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5MaXR0bGUgUG9ydHVnYWwsIFRyaW5pdHkgQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8wOTYxODVjZGEzOTY0NzI0YTQ3ZGJlYWQxOWU5OTA4Ny5zZXRDb250ZW50KGh0bWxfYWFhYjc4YmU3NGU5NGJjYTkxYmViOGRlNzYxMGFmZTMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZjc1NTI4OTlhMTI0NDYzMTk3OGZjYzM5YzE4NjUzNjEuYmluZFBvcHVwKHBvcHVwXzA5NjE4NWNkYTM5NjQ3MjRhNDdkYmVhZDE5ZTk5MDg3KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2ZhM2Q2NjIyYWFkMjRmZDY4MmI2NTk0NGNiYTcwNmJmID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzI3OTI5MiwtNzkuMjYyMDI5NDAwMDAwMDJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmJiMjlkNzMxYmVkNDVkYjgwMDkyM2I1YWRlYzE2NWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNGQxMTY5MTJhMTQ5NGEwNjg2OTE2ZjhiMDA1NzAwMmUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfY2QwZmEwMDAxNDFjNDQ2MmE0MmJjYzcxYWJlNGRiZDMgPSAkKCc8ZGl2IGlkPSJodG1sX2NkMGZhMDAwMTQxYzQ0NjJhNDJiY2M3MWFiZTRkYmQzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5FYXN0IEJpcmNobW91bnQgUGFyaywgSW9udmlldywgS2VubmVkeSBQYXJrIENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNGQxMTY5MTJhMTQ5NGEwNjg2OTE2ZjhiMDA1NzAwMmUuc2V0Q29udGVudChodG1sX2NkMGZhMDAwMTQxYzQ0NjJhNDJiY2M3MWFiZTRkYmQzKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2ZhM2Q2NjIyYWFkMjRmZDY4MmI2NTk0NGNiYTcwNmJmLmJpbmRQb3B1cChwb3B1cF80ZDExNjkxMmExNDk0YTA2ODY5MTZmOGIwMDU3MDAyZSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9iOGUwMjU4MGZjNjA0NjkxYTY5YWQ2MTQyMzY0ODYyOSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc4Njk0NzMsLTc5LjM4NTk3NV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mYmIyOWQ3MzFiZWQ0NWRiODAwOTIzYjVhZGVjMTY1ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9mMjRiM2M1ZjJjZTU0MDQ4ODA2OWU1YzA4YzU4ZDYwMCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8yMTJlOGQzZjczZGU0MWNjODRmZTY5ZmE5NDY1MjJiOSA9ICQoJzxkaXYgaWQ9Imh0bWxfMjEyZThkM2Y3M2RlNDFjYzg0ZmU2OWZhOTQ2NTIyYjkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkJheXZpZXcgVmlsbGFnZSBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2YyNGIzYzVmMmNlNTQwNDg4MDY5ZTVjMDhjNThkNjAwLnNldENvbnRlbnQoaHRtbF8yMTJlOGQzZjczZGU0MWNjODRmZTY5ZmE5NDY1MjJiOSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9iOGUwMjU4MGZjNjA0NjkxYTY5YWQ2MTQyMzY0ODYyOS5iaW5kUG9wdXAocG9wdXBfZjI0YjNjNWYyY2U1NDA0ODgwNjllNWMwOGM1OGQ2MDApOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMWYyZjIyYTcyODA0NDE1ZWFjOWZhNzZhZDA2NDZhMmQgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43Mzc0NzMyMDAwMDAwMDQsLTc5LjQ2NDc2MzI5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZmIzNjAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmZiMzYwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZiYjI5ZDczMWJlZDQ1ZGI4MDA5MjNiNWFkZWMxNjVkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzIwNzVmMDkyODdjYzQ2MTM5MTFiMzM0MzU2ODM1NmZiID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzk5ODBhYThlZjNhZjRlZGM5NjAxM2QwNTYxYzU5ZWQ3ID0gJCgnPGRpdiBpZD0iaHRtbF85OTgwYWE4ZWYzYWY0ZWRjOTYwMTNkMDU2MWM1OWVkNyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q0ZCIFRvcm9udG8sIERvd25zdmlldyBFYXN0IENsdXN0ZXIgNDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMjA3NWYwOTI4N2NjNDYxMzkxMWIzMzQzNTY4MzU2ZmIuc2V0Q29udGVudChodG1sXzk5ODBhYThlZjNhZjRlZGM5NjAxM2QwNTYxYzU5ZWQ3KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzFmMmYyMmE3MjgwNDQxNWVhYzlmYTc2YWQwNjQ2YTJkLmJpbmRQb3B1cChwb3B1cF8yMDc1ZjA5Mjg3Y2M0NjEzOTExYjMzNDM1NjgzNTZmYik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8zNmNjY2I5N2E0OTQ0YjkxOTQ4Y2NmZmI0NDIzOTAxMyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY3OTU1NzEsLTc5LjM1MjE4OF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mYmIyOWQ3MzFiZWQ0NWRiODAwOTIzYjVhZGVjMTY1ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF81N2NiNWE1NGQzNTk0ZTU4OWI0Y2RhNTYxMTI1NDc1YiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9mYmFlMWIyOGY5MmI0YjQ3ODA2NTBiNzEwNjVjNjIwYSA9ICQoJzxkaXYgaWQ9Imh0bWxfZmJhZTFiMjhmOTJiNGI0NzgwNjUwYjcxMDY1YzYyMGEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlRoZSBEYW5mb3J0aCBXZXN0LCBSaXZlcmRhbGUgQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF81N2NiNWE1NGQzNTk0ZTU4OWI0Y2RhNTYxMTI1NDc1Yi5zZXRDb250ZW50KGh0bWxfZmJhZTFiMjhmOTJiNGI0NzgwNjUwYjcxMDY1YzYyMGEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMzZjY2NiOTdhNDk0NGI5MTk0OGNjZmZiNDQyMzkwMTMuYmluZFBvcHVwKHBvcHVwXzU3Y2I1YTU0ZDM1OTRlNTg5YjRjZGE1NjExMjU0NzViKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2Y3MThhOWIwYWY1YzRkNWI4YWQ3ZTRlYzI3ODFlMzY1ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjQ3MTc2OCwtNzkuMzgxNTc2NDAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmJiMjlkNzMxYmVkNDVkYjgwMDkyM2I1YWRlYzE2NWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZjU4YmM5Y2NiNGQ1NGJhZGI0NTJlOTAxOWIzYjcwZGUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMWNiNDQzZWMyYTc5NDYzNzhiM2Y1MDZiZTIxNDYxNzUgPSAkKCc8ZGl2IGlkPSJodG1sXzFjYjQ0M2VjMmE3OTQ2Mzc4YjNmNTA2YmUyMTQ2MTc1IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5EZXNpZ24gRXhjaGFuZ2UsIFRvcm9udG8gRG9taW5pb24gQ2VudHJlIENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZjU4YmM5Y2NiNGQ1NGJhZGI0NTJlOTAxOWIzYjcwZGUuc2V0Q29udGVudChodG1sXzFjYjQ0M2VjMmE3OTQ2Mzc4YjNmNTA2YmUyMTQ2MTc1KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2Y3MThhOWIwYWY1YzRkNWI4YWQ3ZTRlYzI3ODFlMzY1LmJpbmRQb3B1cChwb3B1cF9mNThiYzljY2I0ZDU0YmFkYjQ1MmU5MDE5YjNiNzBkZSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8zODc3MzY1YzUzZDQ0NWZjOGFhZDQ5Y2NjYTllZTE0OCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjYzNjg0NzIsLTc5LjQyODE5MTQwMDAwMDAyXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZiYjI5ZDczMWJlZDQ1ZGI4MDA5MjNiNWFkZWMxNjVkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzNkZTNiZDE3YjkxMDQzOWE4MTQ1OTYwZTg3NDE0NTEzID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2YxMzVmYTRiYjU4MjRmZjlhMTQzYzZjM2RkMzhmN2FlID0gJCgnPGRpdiBpZD0iaHRtbF9mMTM1ZmE0YmI1ODI0ZmY5YTE0M2M2YzNkZDM4ZjdhZSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QnJvY2t0b24sIEV4aGliaXRpb24gUGxhY2UsIFBhcmtkYWxlIFZpbGxhZ2UgQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8zZGUzYmQxN2I5MTA0MzlhODE0NTk2MGU4NzQxNDUxMy5zZXRDb250ZW50KGh0bWxfZjEzNWZhNGJiNTgyNGZmOWExNDNjNmMzZGQzOGY3YWUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMzg3NzM2NWM1M2Q0NDVmYzhhYWQ0OWNjY2E5ZWUxNDguYmluZFBvcHVwKHBvcHVwXzNkZTNiZDE3YjkxMDQzOWE4MTQ1OTYwZTg3NDE0NTEzKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2ZkMmM2YzJmYzdmYzQ3NTJhNzc0YmEwOTU1ZTIzZDVhID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzExMTExNzAwMDAwMDA0LC03OS4yODQ1NzcyXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZiYjI5ZDczMWJlZDQ1ZGI4MDA5MjNiNWFkZWMxNjVkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2Y4NDM2NGNiZDY0YTQ3MDFhOGEyODM0N2IxN2NiMzhmID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzc2MDA0NzFhMGRmYzRhYjRhNDcxYzgwMzA2ZGRlMDE3ID0gJCgnPGRpdiBpZD0iaHRtbF83NjAwNDcxYTBkZmM0YWI0YTQ3MWM4MDMwNmRkZTAxNyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2xhaXJsZWEsIEdvbGRlbiBNaWxlLCBPYWtyaWRnZSBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2Y4NDM2NGNiZDY0YTQ3MDFhOGEyODM0N2IxN2NiMzhmLnNldENvbnRlbnQoaHRtbF83NjAwNDcxYTBkZmM0YWI0YTQ3MWM4MDMwNmRkZTAxNyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9mZDJjNmMyZmM3ZmM0NzUyYTc3NGJhMDk1NWUyM2Q1YS5iaW5kUG9wdXAocG9wdXBfZjg0MzY0Y2JkNjRhNDcwMWE4YTI4MzQ3YjE3Y2IzOGYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfODFlODZhNjgzNGM2NGYxZjgyNzBlZGQ3NTlkZjJmZWYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NTc0OTAyLC03OS4zNzQ3MTQwOTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mYmIyOWQ3MzFiZWQ0NWRiODAwOTIzYjVhZGVjMTY1ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF84Y2UzNDc1YmZlMGU0ZTg4YjQyMjg2YmM4NjBjMjIxMyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9lNTI5ZmUwOTc2Y2M0M2U1OTgwZjBlNTRjZWZhNDdjMyA9ICQoJzxkaXYgaWQ9Imh0bWxfZTUyOWZlMDk3NmNjNDNlNTk4MGYwZTU0Y2VmYTQ3YzMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlNpbHZlciBIaWxscywgWW9yayBNaWxscyBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzhjZTM0NzViZmUwZTRlODhiNDIyODZiYzg2MGMyMjEzLnNldENvbnRlbnQoaHRtbF9lNTI5ZmUwOTc2Y2M0M2U1OTgwZjBlNTRjZWZhNDdjMyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl84MWU4NmE2ODM0YzY0ZjFmODI3MGVkZDc1OWRmMmZlZi5iaW5kUG9wdXAocG9wdXBfOGNlMzQ3NWJmZTBlNGU4OGI0MjI4NmJjODYwYzIyMTMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYjMyNDQwNTlhNmFmNDMxNDllZTU1MWYzYzk2NTI2YjAgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MzkwMTQ2LC03OS41MDY5NDM2XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZiYjI5ZDczMWJlZDQ1ZGI4MDA5MjNiNWFkZWMxNjVkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzU5YzQ2YzdiYTU3ODRkMzc4NmY5YWRlMTk1NTk2YmEwID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzg2MTAyZTA4ODllYzRhMTVhMGRlNDhiMGM1ZWQ3NGRlID0gJCgnPGRpdiBpZD0iaHRtbF84NjEwMmUwODg5ZWM0YTE1YTBkZTQ4YjBjNWVkNzRkZSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RG93bnN2aWV3IFdlc3QgQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF81OWM0NmM3YmE1Nzg0ZDM3ODZmOWFkZTE5NTU5NmJhMC5zZXRDb250ZW50KGh0bWxfODYxMDJlMDg4OWVjNGExNWEwZGU0OGIwYzVlZDc0ZGUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYjMyNDQwNTlhNmFmNDMxNDllZTU1MWYzYzk2NTI2YjAuYmluZFBvcHVwKHBvcHVwXzU5YzQ2YzdiYTU3ODRkMzc4NmY5YWRlMTk1NTk2YmEwKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2JlYmNmNmU0ODRlYjQxNWE4MzBiNTE3ZGZjNTZjYzUwID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjY4OTk4NSwtNzkuMzE1NTcxNTk5OTk5OThdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmJiMjlkNzMxYmVkNDVkYjgwMDkyM2I1YWRlYzE2NWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYmZmYThkNDFlMjVlNGEwMjllNjA5NzAyMmZiNzExMjkgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMjc2ZDkwNjg5MjhjNGQ0ZThmYjZjMTE4NzdiYzUwNmYgPSAkKCc8ZGl2IGlkPSJodG1sXzI3NmQ5MDY4OTI4YzRkNGU4ZmI2YzExODc3YmM1MDZmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5UaGUgQmVhY2hlcyBXZXN0LCBJbmRpYSBCYXphYXIgQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9iZmZhOGQ0MWUyNWU0YTAyOWU2MDk3MDIyZmI3MTEyOS5zZXRDb250ZW50KGh0bWxfMjc2ZDkwNjg5MjhjNGQ0ZThmYjZjMTE4NzdiYzUwNmYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYmViY2Y2ZTQ4NGViNDE1YTgzMGI1MTdkZmM1NmNjNTAuYmluZFBvcHVwKHBvcHVwX2JmZmE4ZDQxZTI1ZTRhMDI5ZTYwOTcwMjJmYjcxMTI5KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2E3NjI4YTJkZWYxNzRlMzA5OTkxOTBhYTYyOTJlZWQxID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjQ4MTk4NSwtNzkuMzc5ODE2OTAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmJiMjlkNzMxYmVkNDVkYjgwMDkyM2I1YWRlYzE2NWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfY2YzNTY2ZTNiNWEwNGU2ODhiOTQ3ZmNhYjAyZWYxMDAgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNzc3NWJhZTNjNTc4NGQ4NmE1ZTUxY2E0OTllZGNiOWYgPSAkKCc8ZGl2IGlkPSJodG1sXzc3NzViYWUzYzU3ODRkODZhNWU1MWNhNDk5ZWRjYjlmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Db21tZXJjZSBDb3VydCwgVmljdG9yaWEgSG90ZWwgQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9jZjM1NjZlM2I1YTA0ZTY4OGI5NDdmY2FiMDJlZjEwMC5zZXRDb250ZW50KGh0bWxfNzc3NWJhZTNjNTc4NGQ4NmE1ZTUxY2E0OTllZGNiOWYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYTc2MjhhMmRlZjE3NGUzMDk5OTE5MGFhNjI5MmVlZDEuYmluZFBvcHVwKHBvcHVwX2NmMzU2NmUzYjVhMDRlNjg4Yjk0N2ZjYWIwMmVmMTAwKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2RkMTMwOWQ0ZDAxMjQyZjU4MDI2M2U4MTFhNjEwYzQ5ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzEzNzU2MjAwMDAwMDA2LC03OS40OTAwNzM4XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZiYjI5ZDczMWJlZDQ1ZGI4MDA5MjNiNWFkZWMxNjVkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2QwMDM0OWJmYTJiZTRmNWZhODM1MGI3OTM3ODU5M2E3ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2E3ODI4ZmI1NTRiNDRjODRhZWNmNmMzOGI2NmMyZTc0ID0gJCgnPGRpdiBpZD0iaHRtbF9hNzgyOGZiNTU0YjQ0Yzg0YWVjZjZjMzhiNjZjMmU3NCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RG93bnN2aWV3LCBOb3J0aCBQYXJrLCBVcHdvb2QgUGFyayBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2QwMDM0OWJmYTJiZTRmNWZhODM1MGI3OTM3ODU5M2E3LnNldENvbnRlbnQoaHRtbF9hNzgyOGZiNTU0YjQ0Yzg0YWVjZjZjMzhiNjZjMmU3NCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9kZDEzMDlkNGQwMTI0MmY1ODAyNjNlODExYTYxMGM0OS5iaW5kUG9wdXAocG9wdXBfZDAwMzQ5YmZhMmJlNGY1ZmE4MzUwYjc5Mzc4NTkzYTcpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOWZmY2ZhZWU5NWIyNDQ2ZGE0ZTA1NTA4N2RmOWE1OWYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NTYzMDMzLC03OS41NjU5NjMyOTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mYmIyOWQ3MzFiZWQ0NWRiODAwOTIzYjVhZGVjMTY1ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF80NjU0NzFlNTRiYWQ0ZjYzODcyNjJlY2FiN2Q0YTYzNiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8wY2QzMGE3ZTQwY2U0NDZhYTM3NDRhMTMyODg1ODU5MSA9ICQoJzxkaXYgaWQ9Imh0bWxfMGNkMzBhN2U0MGNlNDQ2YWEzNzQ0YTEzMjg4NTg1OTEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkh1bWJlciBTdW1taXQgQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF80NjU0NzFlNTRiYWQ0ZjYzODcyNjJlY2FiN2Q0YTYzNi5zZXRDb250ZW50KGh0bWxfMGNkMzBhN2U0MGNlNDQ2YWEzNzQ0YTEzMjg4NTg1OTEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfOWZmY2ZhZWU5NWIyNDQ2ZGE0ZTA1NTA4N2RmOWE1OWYuYmluZFBvcHVwKHBvcHVwXzQ2NTQ3MWU1NGJhZDRmNjM4NzI2MmVjYWI3ZDRhNjM2KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzM2YTQwOGQ3NGMyNzQ3Mjg4MThjNDlmNzc3YThhOWFlID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzE2MzE2LC03OS4yMzk0NzYwOTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mYmIyOWQ3MzFiZWQ0NWRiODAwOTIzYjVhZGVjMTY1ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF81NTY5NGEyNGU0OTM0ZDEyYWU2ZDk2Y2IyZTYxNGI2OSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8zMjhkY2E2NmVlNDI0Y2VhODA5ZjQzOTliOGUyNzMzYiA9ICQoJzxkaXYgaWQ9Imh0bWxfMzI4ZGNhNjZlZTQyNGNlYTgwOWY0Mzk5YjhlMjczM2IiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNsaWZmY3Jlc3QsIENsaWZmc2lkZSwgU2NhcmJvcm91Z2ggVmlsbGFnZSBXZXN0IENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNTU2OTRhMjRlNDkzNGQxMmFlNmQ5NmNiMmU2MTRiNjkuc2V0Q29udGVudChodG1sXzMyOGRjYTY2ZWU0MjRjZWE4MDlmNDM5OWI4ZTI3MzNiKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzM2YTQwOGQ3NGMyNzQ3Mjg4MThjNDlmNzc3YThhOWFlLmJpbmRQb3B1cChwb3B1cF81NTY5NGEyNGU0OTM0ZDEyYWU2ZDk2Y2IyZTYxNGI2OSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9hOGQyNDljOGIxZDM0YTVmODZkY2I5NGI3Nzg3MTViNiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcyODQ5NjQsLTc5LjQ5NTY5NzQwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZiYjI5ZDczMWJlZDQ1ZGI4MDA5MjNiNWFkZWMxNjVkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzg3MTY2ODE3ZWY1MDQ1MWU5MmRiZDkzNzk1MzU3OTdmID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzViODRiM2IxY2E4YTQyMzliNDY2ZjAzYThiMmY5NGUxID0gJCgnPGRpdiBpZD0iaHRtbF81Yjg0YjNiMWNhOGE0MjM5YjQ2NmYwM2E4YjJmOTRlMSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RG93bnN2aWV3IENlbnRyYWwgQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF84NzE2NjgxN2VmNTA0NTFlOTJkYmQ5Mzc5NTM1Nzk3Zi5zZXRDb250ZW50KGh0bWxfNWI4NGIzYjFjYThhNDIzOWI0NjZmMDNhOGIyZjk0ZTEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYThkMjQ5YzhiMWQzNGE1Zjg2ZGNiOTRiNzc4NzE1YjYuYmluZFBvcHVwKHBvcHVwXzg3MTY2ODE3ZWY1MDQ1MWU5MmRiZDkzNzk1MzU3OTdmKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzU0OGU2ZGY5MmFkNTQzZGY5Mjk4Mzc3ZThiODAyYWUxID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjU5NTI1NSwtNzkuMzQwOTIzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZiYjI5ZDczMWJlZDQ1ZGI4MDA5MjNiNWFkZWMxNjVkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2Q2ZTI3YTcyYzA4MzQzOGJhYTM1MjkyOTA1MzE1OTNhID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2UwZmFiYTQ3Nzc3MjQ2ZGY5MmI2OTA5N2Y1ZjQ4MjY0ID0gJCgnPGRpdiBpZD0iaHRtbF9lMGZhYmE0Nzc3NzI0NmRmOTJiNjkwOTdmNWY0ODI2NCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+U3R1ZGlvIERpc3RyaWN0IENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZDZlMjdhNzJjMDgzNDM4YmFhMzUyOTI5MDUzMTU5M2Euc2V0Q29udGVudChodG1sX2UwZmFiYTQ3Nzc3MjQ2ZGY5MmI2OTA5N2Y1ZjQ4MjY0KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzU0OGU2ZGY5MmFkNTQzZGY5Mjk4Mzc3ZThiODAyYWUxLmJpbmRQb3B1cChwb3B1cF9kNmUyN2E3MmMwODM0MzhiYWEzNTI5MjkwNTMxNTkzYSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9hNDkwOTcwYmU1M2E0YjZiOWM3ZGRjY2Q0NDU2MGQ3MCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjczMzI4MjUsLTc5LjQxOTc0OTddLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmJiMjlkNzMxYmVkNDVkYjgwMDkyM2I1YWRlYzE2NWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZWIzNThiZWM0MTk0NGI1MDg4NmNiN2IyNjA1ZTAxNWQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfY2U4ZmRhYjNkYjA1NDVlMWI2OGI2MmQ0M2JhODBiMjggPSAkKCc8ZGl2IGlkPSJodG1sX2NlOGZkYWIzZGIwNTQ1ZTFiNjhiNjJkNDNiYTgwYjI4IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5CZWRmb3JkIFBhcmssIExhd3JlbmNlIE1hbm9yIEVhc3QgQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9lYjM1OGJlYzQxOTQ0YjUwODg2Y2I3YjI2MDVlMDE1ZC5zZXRDb250ZW50KGh0bWxfY2U4ZmRhYjNkYjA1NDVlMWI2OGI2MmQ0M2JhODBiMjgpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYTQ5MDk3MGJlNTNhNGI2YjljN2RkY2NkNDQ1NjBkNzAuYmluZFBvcHVwKHBvcHVwX2ViMzU4YmVjNDE5NDRiNTA4ODZjYjdiMjYwNWUwMTVkKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzEzOTg0NjA4OTJlYzRkOWJiMjEwYmI2MDg0ZWUzNWI1ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjkxMTE1OCwtNzkuNDc2MDEzMjk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmJiMjlkNzMxYmVkNDVkYjgwMDkyM2I1YWRlYzE2NWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYzNhMWI1YmM3ZTUxNDJiYWI1NmM0YjI2ZThjYmFjNTEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMDZlYTJlZmY2NmE4NGVhMzliNmZiYzA0Yjk2M2QxYTggPSAkKCc8ZGl2IGlkPSJodG1sXzA2ZWEyZWZmNjZhODRlYTM5YjZmYmMwNGI5NjNkMWE4IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5EZWwgUmF5LCBLZWVsZXNkYWxlLCBNb3VudCBEZW5uaXMsIFNpbHZlcnRob3JuIENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYzNhMWI1YmM3ZTUxNDJiYWI1NmM0YjI2ZThjYmFjNTEuc2V0Q29udGVudChodG1sXzA2ZWEyZWZmNjZhODRlYTM5YjZmYmMwNGI5NjNkMWE4KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzEzOTg0NjA4OTJlYzRkOWJiMjEwYmI2MDg0ZWUzNWI1LmJpbmRQb3B1cChwb3B1cF9jM2ExYjViYzdlNTE0MmJhYjU2YzRiMjZlOGNiYWM1MSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9iOTU3OTMxZTA5ODE0YTBhYjBmNzYyZTAzZGRiNjk5YSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcyNDc2NTksLTc5LjUzMjI0MjQwMDAwMDAyXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZjAwMDAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmYwMDAwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZiYjI5ZDczMWJlZDQ1ZGI4MDA5MjNiNWFkZWMxNjVkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2Q0MDM0OTA4OGFmZTQ1NmI4OGEzZDY2YWJmYTdlZTRhID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzZiMjBjMmEzYjA1YTRhY2M4YmQxNTYzNGQ0Y2Q3NmZmID0gJCgnPGRpdiBpZD0iaHRtbF82YjIwYzJhM2IwNWE0YWNjOGJkMTU2MzRkNGNkNzZmZiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RW1lcnksIEh1bWJlcmxlYSBDbHVzdGVyIDA8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2Q0MDM0OTA4OGFmZTQ1NmI4OGEzZDY2YWJmYTdlZTRhLnNldENvbnRlbnQoaHRtbF82YjIwYzJhM2IwNWE0YWNjOGJkMTU2MzRkNGNkNzZmZik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9iOTU3OTMxZTA5ODE0YTBhYjBmNzYyZTAzZGRiNjk5YS5iaW5kUG9wdXAocG9wdXBfZDQwMzQ5MDg4YWZlNDU2Yjg4YTNkNjZhYmZhN2VlNGEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMmE0NzZlMTEyZDRhNGJlMGEyMTlhOTZkY2RiOTI4NmUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42OTI2NTcwMDAwMDAwMDQsLTc5LjI2NDg0ODFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmJiMjlkNzMxYmVkNDVkYjgwMDkyM2I1YWRlYzE2NWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNzM3MjZkYjgwZmNiNDM1MWIwYmFlY2UzMjE2MTQ3NjUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMzdmZTVmNzQ0YzRmNDU0YmFhMzU2MDhhNGJmNmQwODcgPSAkKCc8ZGl2IGlkPSJodG1sXzM3ZmU1Zjc0NGM0ZjQ1NGJhYTM1NjA4YTRiZjZkMDg3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5CaXJjaCBDbGlmZiwgQ2xpZmZzaWRlIFdlc3QgQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF83MzcyNmRiODBmY2I0MzUxYjBiYWVjZTMyMTYxNDc2NS5zZXRDb250ZW50KGh0bWxfMzdmZTVmNzQ0YzRmNDU0YmFhMzU2MDhhNGJmNmQwODcpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMmE0NzZlMTEyZDRhNGJlMGEyMTlhOTZkY2RiOTI4NmUuYmluZFBvcHVwKHBvcHVwXzczNzI2ZGI4MGZjYjQzNTFiMGJhZWNlMzIxNjE0NzY1KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzc5ODAxNmMxNzI3YzQzMGRiYThmNmU1ODFjZmUzYzM1ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzcwMTE5OSwtNzkuNDA4NDkyNzk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmJiMjlkNzMxYmVkNDVkYjgwMDkyM2I1YWRlYzE2NWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZjUzYzlkMTY1YjBiNDE5MDk1ZWNiMDFhMmViNTBhNjUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNGMzYTBlZTQ4OGM1NDZlYjg3NjlhNzE4NzJjYmFiNjEgPSAkKCc8ZGl2IGlkPSJodG1sXzRjM2EwZWU0ODhjNTQ2ZWI4NzY5YTcxODcyY2JhYjYxIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5XaWxsb3dkYWxlIFNvdXRoIENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZjUzYzlkMTY1YjBiNDE5MDk1ZWNiMDFhMmViNTBhNjUuc2V0Q29udGVudChodG1sXzRjM2EwZWU0ODhjNTQ2ZWI4NzY5YTcxODcyY2JhYjYxKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzc5ODAxNmMxNzI3YzQzMGRiYThmNmU1ODFjZmUzYzM1LmJpbmRQb3B1cChwb3B1cF9mNTNjOWQxNjViMGI0MTkwOTVlY2IwMWEyZWI1MGE2NSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8zMGY1ZTkxY2Q0MzM0YjRhYmFhZDk5NjczM2VjNjQzZSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc2MTYzMTMsLTc5LjUyMDk5OTQwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZiYjI5ZDczMWJlZDQ1ZGI4MDA5MjNiNWFkZWMxNjVkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzFkYjQzZWQ0NjRlODQxY2I5MjQ4ZjYzN2M2ZjJjNTkzID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzczMzJiMjZkYzI4ZTQzNGJhOGUzNzBlNWUxOGU1NjNiID0gJCgnPGRpdiBpZD0iaHRtbF83MzMyYjI2ZGMyOGU0MzRiYThlMzcwZTVlMThlNTYzYiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RG93bnN2aWV3IE5vcnRod2VzdCBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzFkYjQzZWQ0NjRlODQxY2I5MjQ4ZjYzN2M2ZjJjNTkzLnNldENvbnRlbnQoaHRtbF83MzMyYjI2ZGMyOGU0MzRiYThlMzcwZTVlMThlNTYzYik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8zMGY1ZTkxY2Q0MzM0YjRhYmFhZDk5NjczM2VjNjQzZS5iaW5kUG9wdXAocG9wdXBfMWRiNDNlZDQ2NGU4NDFjYjkyNDhmNjM3YzZmMmM1OTMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZDM1YWE3NDVmOTBmNGVmN2IwMTE5YjNhYjIwYTRjNzggPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MjgwMjA1LC03OS4zODg3OTAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZmIzNjAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmZiMzYwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZiYjI5ZDczMWJlZDQ1ZGI4MDA5MjNiNWFkZWMxNjVkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzViZmI3Y2FiNmY3YjRhMzRhYjViODM5MmU2ZmY3MDA1ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2M1MGQ4YzJjYWE1MzQ2MDY5NWI2OWZhNmJjM2QwYTI1ID0gJCgnPGRpdiBpZD0iaHRtbF9jNTBkOGMyY2FhNTM0NjA2OTViNjlmYTZiYzNkMGEyNSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+TGF3cmVuY2UgUGFyayBDbHVzdGVyIDQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzViZmI3Y2FiNmY3YjRhMzRhYjViODM5MmU2ZmY3MDA1LnNldENvbnRlbnQoaHRtbF9jNTBkOGMyY2FhNTM0NjA2OTViNjlmYTZiYzNkMGEyNSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9kMzVhYTc0NWY5MGY0ZWY3YjAxMTliM2FiMjBhNGM3OC5iaW5kUG9wdXAocG9wdXBfNWJmYjdjYWI2ZjdiNGEzNGFiNWI4MzkyZTZmZjcwMDUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMTAzM2Y0N2M3Mzk1NGNiZDljOTEzMDk5NTRjMDkyMzMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MTE2OTQ4LC03OS40MTY5MzU1OTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mYmIyOWQ3MzFiZWQ0NWRiODAwOTIzYjVhZGVjMTY1ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF80YjdhNzg4ODE3MTM0ZDhjODc2NjMyY2M1MmQ3OWU5YSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8wZTUwZTIyY2EwNjQ0YWM4YTgzMzZkNzk0ZmFhMGQ3ZiA9ICQoJzxkaXYgaWQ9Imh0bWxfMGU1MGUyMmNhMDY0NGFjOGE4MzM2ZDc5NGZhYTBkN2YiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlJvc2VsYXduIENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNGI3YTc4ODgxNzEzNGQ4Yzg3NjYzMmNjNTJkNzllOWEuc2V0Q29udGVudChodG1sXzBlNTBlMjJjYTA2NDRhYzhhODMzNmQ3OTRmYWEwZDdmKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzEwMzNmNDdjNzM5NTRjYmQ5YzkxMzA5OTU0YzA5MjMzLmJpbmRQb3B1cChwb3B1cF80YjdhNzg4ODE3MTM0ZDhjODc2NjMyY2M1MmQ3OWU5YSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9iNmMyNmEzMzk1NGQ0NzY0YTBjOGM3ZDI4NGMyZjA2YyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY3MzE4NTI5OTk5OTk5LC03OS40ODcyNjE5MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODAwMGZmIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwMDBmZiIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mYmIyOWQ3MzFiZWQ0NWRiODAwOTIzYjVhZGVjMTY1ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF80NTgzOTMwODFjMmQ0Yjg0YjMyNGU2MTRmZGFiNGJhZiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF80OTk5ODE5YWZjOTE0ODkyYWRlZjE2ZTc3YmQwMDZhOSA9ICQoJzxkaXYgaWQ9Imh0bWxfNDk5OTgxOWFmYzkxNDg5MmFkZWYxNmU3N2JkMDA2YTkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlRoZSBKdW5jdGlvbiBOb3J0aCwgUnVubnltZWRlIENsdXN0ZXIgMTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNDU4MzkzMDgxYzJkNGI4NGIzMjRlNjE0ZmRhYjRiYWYuc2V0Q29udGVudChodG1sXzQ5OTk4MTlhZmM5MTQ4OTJhZGVmMTZlNzdiZDAwNmE5KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2I2YzI2YTMzOTU0ZDQ3NjRhMGM4YzdkMjg0YzJmMDZjLmJpbmRQb3B1cChwb3B1cF80NTgzOTMwODFjMmQ0Yjg0YjMyNGU2MTRmZGFiNGJhZik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl85NTIxODIyMzM3YzA0MTRkYTVjMDc0MGU2N2E5NWVjNCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcwNjg3NiwtNzkuNTE4MTg4NDAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmJiMjlkNzMxYmVkNDVkYjgwMDkyM2I1YWRlYzE2NWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMjRiNTRjZWNjMjEzNGI5YjhjMGE5YzJhZWRiMDIyMDMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNjI5NTE1YjE5NWQ3NGI5MTk2NDEzM2EzZjhlMWZiYmYgPSAkKCc8ZGl2IGlkPSJodG1sXzYyOTUxNWIxOTVkNzRiOTE5NjQxMzNhM2Y4ZTFmYmJmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5XZXN0b24gQ2x1c3RlciAxPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8yNGI1NGNlY2MyMTM0YjliOGMwYTljMmFlZGIwMjIwMy5zZXRDb250ZW50KGh0bWxfNjI5NTE1YjE5NWQ3NGI5MTk2NDEzM2EzZjhlMWZiYmYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfOTUyMTgyMjMzN2MwNDE0ZGE1YzA3NDBlNjdhOTVlYzQuYmluZFBvcHVwKHBvcHVwXzI0YjU0Y2VjYzIxMzRiOWI4YzBhOWMyYWVkYjAyMjAzKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzYwN2JhZmY5Y2Q5NzQ4MWFhMTUwODk5YTZkN2I1NjhkID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzU3NDA5NiwtNzkuMjczMzA0MDAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmJiMjlkNzMxYmVkNDVkYjgwMDkyM2I1YWRlYzE2NWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNTE0YjhlMWQ1MDVhNDBmNzlhZDhiM2Q4NzM1MGYxYWMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZWM1ZmY3MWZmNDc1NDg4M2FjYWJkZDBiZTgzYWRlZjAgPSAkKCc8ZGl2IGlkPSJodG1sX2VjNWZmNzFmZjQ3NTQ4ODNhY2FiZGQwYmU4M2FkZWYwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Eb3JzZXQgUGFyaywgU2NhcmJvcm91Z2ggVG93biBDZW50cmUsIFdleGZvcmQgSGVpZ2h0cyBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzUxNGI4ZTFkNTA1YTQwZjc5YWQ4YjNkODczNTBmMWFjLnNldENvbnRlbnQoaHRtbF9lYzVmZjcxZmY0NzU0ODgzYWNhYmRkMGJlODNhZGVmMCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl82MDdiYWZmOWNkOTc0ODFhYTE1MDg5OWE2ZDdiNTY4ZC5iaW5kUG9wdXAocG9wdXBfNTE0YjhlMWQ1MDVhNDBmNzlhZDhiM2Q4NzM1MGYxYWMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYTViMWU5OWFhOWI1NDY0MWE5YzQyNGUzNzBiMWY5NDYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NTI3NTgyOTk5OTk5OTYsLTc5LjQwMDA0OTNdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmJiMjlkNzMxYmVkNDVkYjgwMDkyM2I1YWRlYzE2NWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNTVmN2I1YTMyYWU5NDdmZWI5MThhN2U2YjQwMTNhZjUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMWUwNDQ2OGM2NjNkNDdkYTgxNzdkOWM3ODQ2YTlhZjUgPSAkKCc8ZGl2IGlkPSJodG1sXzFlMDQ0NjhjNjYzZDQ3ZGE4MTc3ZDljNzg0NmE5YWY1IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Zb3JrIE1pbGxzIFdlc3QgQ2x1c3RlciAxPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF81NWY3YjVhMzJhZTk0N2ZlYjkxOGE3ZTZiNDAxM2FmNS5zZXRDb250ZW50KGh0bWxfMWUwNDQ2OGM2NjNkNDdkYTgxNzdkOWM3ODQ2YTlhZjUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYTViMWU5OWFhOWI1NDY0MWE5YzQyNGUzNzBiMWY5NDYuYmluZFBvcHVwKHBvcHVwXzU1ZjdiNWEzMmFlOTQ3ZmViOTE4YTdlNmI0MDEzYWY1KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzgyMjdmYjA1MDI5YjQ4MmFhODQxMjJjNDU0ZDQ1NTg0ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzEyNzUxMSwtNzkuMzkwMTk3NV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mYmIyOWQ3MzFiZWQ0NWRiODAwOTIzYjVhZGVjMTY1ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF81OTYxZGI4MjgwZTY0YTk2YTM0ZTk3NzRhMDA0MmQ4OSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9lNzg2ZmNmNGU1MmE0YmEzYmRmNTY3OWE4ZmM2ZmQzZCA9ICQoJzxkaXYgaWQ9Imh0bWxfZTc4NmZjZjRlNTJhNGJhM2JkZjU2NzlhOGZjNmZkM2QiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkRhdmlzdmlsbGUgTm9ydGggQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF81OTYxZGI4MjgwZTY0YTk2YTM0ZTk3NzRhMDA0MmQ4OS5zZXRDb250ZW50KGh0bWxfZTc4NmZjZjRlNTJhNGJhM2JkZjU2NzlhOGZjNmZkM2QpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfODIyN2ZiMDUwMjliNDgyYWE4NDEyMmM0NTRkNDU1ODQuYmluZFBvcHVwKHBvcHVwXzU5NjFkYjgyODBlNjRhOTZhMzRlOTc3NGEwMDQyZDg5KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzY3MTNkNjFhZmUzNzQxMjg4MDgyY2U3MzU4NzkxODVkID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjk2OTQ3NiwtNzkuNDExMzA3MjAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmYjM2MCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZmIzNjAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmJiMjlkNzMxYmVkNDVkYjgwMDkyM2I1YWRlYzE2NWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZGE0MDQ0YmVhYWIyNDk3ZDk0MDc3NDM1NDAxN2Y4NzggPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNTNmZjA1NDdjMDI4NDY2OWI4M2YzMDU1MTA0ZTZlYjggPSAkKCc8ZGl2IGlkPSJodG1sXzUzZmYwNTQ3YzAyODQ2NjliODNmMzA1NTEwNGU2ZWI4IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Gb3Jlc3QgSGlsbCBOb3J0aCwgRm9yZXN0IEhpbGwgV2VzdCBDbHVzdGVyIDQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2RhNDA0NGJlYWFiMjQ5N2Q5NDA3NzQzNTQwMTdmODc4LnNldENvbnRlbnQoaHRtbF81M2ZmMDU0N2MwMjg0NjY5YjgzZjMwNTUxMDRlNmViOCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl82NzEzZDYxYWZlMzc0MTI4ODA4MmNlNzM1ODc5MTg1ZC5iaW5kUG9wdXAocG9wdXBfZGE0MDQ0YmVhYWIyNDk3ZDk0MDc3NDM1NDAxN2Y4NzgpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZTQ5NGI3MmFiYTI3NDcwNjk5ZGY0YjZlYTYwMjFiMzYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NjE2MDgzLC03OS40NjQ3NjMyOTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mYmIyOWQ3MzFiZWQ0NWRiODAwOTIzYjVhZGVjMTY1ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF80Mjg5YzBkNTcxMzk0NGNmYjk3YjE5OGMwMTk1ZmQ5MCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9mNmQ2MWVmMjdiNjY0NDdjYWI5NDRhMzhkYzAwYjRlZSA9ICQoJzxkaXYgaWQ9Imh0bWxfZjZkNjFlZjI3YjY2NDQ3Y2FiOTQ0YTM4ZGMwMGI0ZWUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkhpZ2ggUGFyaywgVGhlIEp1bmN0aW9uIFNvdXRoIENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNDI4OWMwZDU3MTM5NDRjZmI5N2IxOThjMDE5NWZkOTAuc2V0Q29udGVudChodG1sX2Y2ZDYxZWYyN2I2NjQ0N2NhYjk0NGEzOGRjMDBiNGVlKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2U0OTRiNzJhYmEyNzQ3MDY5OWRmNGI2ZWE2MDIxYjM2LmJpbmRQb3B1cChwb3B1cF80Mjg5YzBkNTcxMzk0NGNmYjk3YjE5OGMwMTk1ZmQ5MCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl81YWY3ZDc3YWI5MzI0ODExYmVlNmE1MTViZTRlNGRmZSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY5NjMxOSwtNzkuNTMyMjQyNDAwMDAwMDJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmJiMjlkNzMxYmVkNDVkYjgwMDkyM2I1YWRlYzE2NWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNTY4ZDdiZTk4ZGE4NDEwZTk5NDQyYmE4OWJiZjA0ODUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMzE2M2I0MDllYzc0NGY0YzkwNzYyZmIzOGExZmQ1ZDggPSAkKCc8ZGl2IGlkPSJodG1sXzMxNjNiNDA5ZWM3NDRmNGM5MDc2MmZiMzhhMWZkNWQ4IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5XZXN0bW91bnQgQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF81NjhkN2JlOThkYTg0MTBlOTk0NDJiYTg5YmJmMDQ4NS5zZXRDb250ZW50KGh0bWxfMzE2M2I0MDllYzc0NGY0YzkwNzYyZmIzOGExZmQ1ZDgpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNWFmN2Q3N2FiOTMyNDgxMWJlZTZhNTE1YmU0ZTRkZmUuYmluZFBvcHVwKHBvcHVwXzU2OGQ3YmU5OGRhODQxMGU5OTQ0MmJhODliYmYwNDg1KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzI3OTQxNDE1NjAzODRjOTM5NmZhODJmYWI5MmUxMTU4ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzUwMDcxNTAwMDAwMDA0LC03OS4yOTU4NDkxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZiYjI5ZDczMWJlZDQ1ZGI4MDA5MjNiNWFkZWMxNjVkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzM4OTA0NGE1MzNhMjQ5ZmNiZGMwMWJmMTJjZWY1YTMxID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzY0YjU5YjQwZTUwNjQ3MDQ5ZWZlZjY5NjI5NjU2Mjg4ID0gJCgnPGRpdiBpZD0iaHRtbF82NGI1OWI0MGU1MDY0NzA0OWVmZWY2OTYyOTY1NjI4OCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+TWFyeXZhbGUsIFdleGZvcmQgQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8zODkwNDRhNTMzYTI0OWZjYmRjMDFiZjEyY2VmNWEzMS5zZXRDb250ZW50KGh0bWxfNjRiNTliNDBlNTA2NDcwNDllZmVmNjk2Mjk2NTYyODgpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMjc5NDE0MTU2MDM4NGM5Mzk2ZmE4MmZhYjkyZTExNTguYmluZFBvcHVwKHBvcHVwXzM4OTA0NGE1MzNhMjQ5ZmNiZGMwMWJmMTJjZWY1YTMxKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzY4NGQxOTQzZTNkMzQwY2E4MTg1MTU2Y2M3ZDlhMWZkID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzgyNzM2NCwtNzkuNDQyMjU5M10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mYmIyOWQ3MzFiZWQ0NWRiODAwOTIzYjVhZGVjMTY1ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9lMDI0ODgwOGVhMzk0MDI4YTVkYWU1ODA2NDQwMTg3ZCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9iMjc5MGFmMDA5MzU0Mzk5OThhZTEwZTRjNDEyYWU0YiA9ICQoJzxkaXYgaWQ9Imh0bWxfYjI3OTBhZjAwOTM1NDM5OTk4YWUxMGU0YzQxMmFlNGIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPldpbGxvd2RhbGUgV2VzdCBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2UwMjQ4ODA4ZWEzOTQwMjhhNWRhZTU4MDY0NDAxODdkLnNldENvbnRlbnQoaHRtbF9iMjc5MGFmMDA5MzU0Mzk5OThhZTEwZTRjNDEyYWU0Yik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl82ODRkMTk0M2UzZDM0MGNhODE4NTE1NmNjN2Q5YTFmZC5iaW5kUG9wdXAocG9wdXBfZTAyNDg4MDhlYTM5NDAyOGE1ZGFlNTgwNjQ0MDE4N2QpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMmZhODRjNjA3OGNkNDAyYmEyYWU2ZTZmNThlYzc5MWYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MTUzODM0LC03OS40MDU2Nzg0MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mYmIyOWQ3MzFiZWQ0NWRiODAwOTIzYjVhZGVjMTY1ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9hZjM0YjVjMWU2YmM0OWY5OWYzNjg4ZTIwNGY5OGM3MCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF81ZTZkMjRhOTZlZTI0MjZkYjE0MGUyNGJiZTdhMWMxNiA9ICQoJzxkaXYgaWQ9Imh0bWxfNWU2ZDI0YTk2ZWUyNDI2ZGIxNDBlMjRiYmU3YTFjMTYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPk5vcnRoIFRvcm9udG8gV2VzdCBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2FmMzRiNWMxZTZiYzQ5Zjk5ZjM2ODhlMjA0Zjk4YzcwLnNldENvbnRlbnQoaHRtbF81ZTZkMjRhOTZlZTI0MjZkYjE0MGUyNGJiZTdhMWMxNik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8yZmE4NGM2MDc4Y2Q0MDJiYTJhZTZlNmY1OGVjNzkxZi5iaW5kUG9wdXAocG9wdXBfYWYzNGI1YzFlNmJjNDlmOTlmMzY4OGUyMDRmOThjNzApOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNWQ2N2Y0NTdlYTk5NDBkYWJkZDE5MzdiMjRiMTE4NWEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NzI3MDk3LC03OS40MDU2Nzg0MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mYmIyOWQ3MzFiZWQ0NWRiODAwOTIzYjVhZGVjMTY1ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF80ZGIwOWU4MGI1Y2M0MjljYjk2N2FjMDNiMGU2NTFkZSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9kYmY1ZWE0ODRjNDY0ZDlhODM2NDEyNzNiNWU1OTQ2NCA9ICQoJzxkaXYgaWQ9Imh0bWxfZGJmNWVhNDg0YzQ2NGQ5YTgzNjQxMjczYjVlNTk0NjQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlRoZSBBbm5leCwgTm9ydGggTWlkdG93biwgWW9ya3ZpbGxlIENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNGRiMDllODBiNWNjNDI5Y2I5NjdhYzAzYjBlNjUxZGUuc2V0Q29udGVudChodG1sX2RiZjVlYTQ4NGM0NjRkOWE4MzY0MTI3M2I1ZTU5NDY0KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzVkNjdmNDU3ZWE5OTQwZGFiZGQxOTM3YjI0YjExODVhLmJpbmRQb3B1cChwb3B1cF80ZGIwOWU4MGI1Y2M0MjljYjk2N2FjMDNiMGU2NTFkZSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl84ZjAxNmY3ODE0N2E0N2QzOTVkZmI5NjQ0NGE2OWFiMCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY0ODk1OTcsLTc5LjQ1NjMyNV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mYmIyOWQ3MzFiZWQ0NWRiODAwOTIzYjVhZGVjMTY1ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9jNTViZmFkODc1ZDE0OTBjYTFiYzBiM2MxNjJhYjNjOSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF81YWU2YWExZGVmZTE0OWE2OTA0ZGNkNTQ2NDRmMGVjYSA9ICQoJzxkaXYgaWQ9Imh0bWxfNWFlNmFhMWRlZmUxNDlhNjkwNGRjZDU0NjQ0ZjBlY2EiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlBhcmtkYWxlLCBSb25jZXN2YWxsZXMgQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9jNTViZmFkODc1ZDE0OTBjYTFiYzBiM2MxNjJhYjNjOS5zZXRDb250ZW50KGh0bWxfNWFlNmFhMWRlZmUxNDlhNjkwNGRjZDU0NjQ0ZjBlY2EpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfOGYwMTZmNzgxNDdhNDdkMzk1ZGZiOTY0NDRhNjlhYjAuYmluZFBvcHVwKHBvcHVwX2M1NWJmYWQ4NzVkMTQ5MGNhMWJjMGIzYzE2MmFiM2M5KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2E5MTM2ZGQyYWQyZjRjNGM4MjhiOGE0NzBkMDczM2IyID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjM2OTY1NiwtNzkuNjE1ODE4OTk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmJiMjlkNzMxYmVkNDVkYjgwMDkyM2I1YWRlYzE2NWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZTFkMDgzYTgzOGMxNGY5ZGFlMDQ2MGJjMGQzMDlmNGUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYzZjOGRmZDM1ZDFjNDI0MWI2ZGYwYmRkNGZiOTliNTMgPSAkKCc8ZGl2IGlkPSJodG1sX2M2YzhkZmQzNWQxYzQyNDFiNmRmMGJkZDRmYjk5YjUzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DYW5hZGEgUG9zdCBHYXRld2F5IFByb2Nlc3NpbmcgQ2VudHJlIENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZTFkMDgzYTgzOGMxNGY5ZGFlMDQ2MGJjMGQzMDlmNGUuc2V0Q29udGVudChodG1sX2M2YzhkZmQzNWQxYzQyNDFiNmRmMGJkZDRmYjk5YjUzKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2E5MTM2ZGQyYWQyZjRjNGM4MjhiOGE0NzBkMDczM2IyLmJpbmRQb3B1cChwb3B1cF9lMWQwODNhODM4YzE0ZjlkYWUwNDYwYmMwZDMwOWY0ZSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8zYWZkMTBjZWFkOTg0MjY2YWExY2JhZmYyYjE1YzNkNyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY4ODkwNTQsLTc5LjU1NDcyNDQwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZiYjI5ZDczMWJlZDQ1ZGI4MDA5MjNiNWFkZWMxNjVkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2NjZjNiNmRmZWZjYzQ4NWQ5YzJmODI0ZDQ0OWJkNWRhID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzhjMmY4MTI1ZGU4MzQ5ODc4MjVhMDA2MzVjNjA0MzQ4ID0gJCgnPGRpdiBpZD0iaHRtbF84YzJmODEyNWRlODM0OTg3ODI1YTAwNjM1YzYwNDM0OCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+S2luZ3N2aWV3IFZpbGxhZ2UsIE1hcnRpbiBHcm92ZSBHYXJkZW5zLCBSaWNodmlldyBHYXJkZW5zLCBTdC4gUGhpbGxpcHMgQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9jY2YzYjZkZmVmY2M0ODVkOWMyZjgyNGQ0NDliZDVkYS5zZXRDb250ZW50KGh0bWxfOGMyZjgxMjVkZTgzNDk4NzgyNWEwMDYzNWM2MDQzNDgpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfM2FmZDEwY2VhZDk4NDI2NmFhMWNiYWZmMmIxNWMzZDcuYmluZFBvcHVwKHBvcHVwX2NjZjNiNmRmZWZjYzQ4NWQ5YzJmODI0ZDQ0OWJkNWRhKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2I1OTI0OTQ0MDU3OTRmNDVhYjc5ZDE1NWViYThhMDA0ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzk0MjAwMywtNzkuMjYyMDI5NDAwMDAwMDJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmJiMjlkNzMxYmVkNDVkYjgwMDkyM2I1YWRlYzE2NWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMjJiMzc5YzAyODM5NDQxOGEwYzdkOTg1OTQ5N2I2OGMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNjA4YmM2ZGU5ZDRjNDM2ZmFhODNkMWEwZWJiZDI4ZGIgPSAkKCc8ZGl2IGlkPSJodG1sXzYwOGJjNmRlOWQ0YzQzNmZhYTgzZDFhMGViYmQyOGRiIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5BZ2luY291cnQgQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8yMmIzNzljMDI4Mzk0NDE4YTBjN2Q5ODU5NDk3YjY4Yy5zZXRDb250ZW50KGh0bWxfNjA4YmM2ZGU5ZDRjNDM2ZmFhODNkMWEwZWJiZDI4ZGIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYjU5MjQ5NDQwNTc5NGY0NWFiNzlkMTU1ZWJhOGEwMDQuYmluZFBvcHVwKHBvcHVwXzIyYjM3OWMwMjgzOTQ0MThhMGM3ZDk4NTk0OTdiNjhjKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2JmZjNmMmRiNzdlNjQ0OTdiYzhiYzkwMjI5NjVhZjY1ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzA0MzI0NCwtNzkuMzg4NzkwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mYmIyOWQ3MzFiZWQ0NWRiODAwOTIzYjVhZGVjMTY1ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF80MzljMWI5NmJjOTk0YjEyOWIwYTI5OThjMWE3N2NlMyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF83ODViMzFiMWQwMzQ0NTMzOTI5MzA4MTIzNTZhZTNlYyA9ICQoJzxkaXYgaWQ9Imh0bWxfNzg1YjMxYjFkMDM0NDUzMzkyOTMwODEyMzU2YWUzZWMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkRhdmlzdmlsbGUgQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF80MzljMWI5NmJjOTk0YjEyOWIwYTI5OThjMWE3N2NlMy5zZXRDb250ZW50KGh0bWxfNzg1YjMxYjFkMDM0NDUzMzkyOTMwODEyMzU2YWUzZWMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYmZmM2YyZGI3N2U2NDQ5N2JjOGJjOTAyMjk2NWFmNjUuYmluZFBvcHVwKHBvcHVwXzQzOWMxYjk2YmM5OTRiMTI5YjBhMjk5OGMxYTc3Y2UzKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzNjMTVlNzkxZjZmMTRhMmVhNDQ5ZmRlMzI3NjA5NTAxID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjYyNjk1NiwtNzkuNDAwMDQ5M10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mYmIyOWQ3MzFiZWQ0NWRiODAwOTIzYjVhZGVjMTY1ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF83OWYxYWYyZjJlZWU0MGI2YTQ4YTFmOTkwNDJjZDVmNCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF84MTZkMzA1MWEyZWE0YTY5OGMzODAyOGY1N2EzZjdlMyA9ICQoJzxkaXYgaWQ9Imh0bWxfODE2ZDMwNTFhMmVhNGE2OThjMzgwMjhmNTdhM2Y3ZTMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkhhcmJvcmQsIFVuaXZlcnNpdHkgb2YgVG9yb250byBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzc5ZjFhZjJmMmVlZTQwYjZhNDhhMWY5OTA0MmNkNWY0LnNldENvbnRlbnQoaHRtbF84MTZkMzA1MWEyZWE0YTY5OGMzODAyOGY1N2EzZjdlMyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8zYzE1ZTc5MWY2ZjE0YTJlYTQ0OWZkZTMyNzYwOTUwMS5iaW5kUG9wdXAocG9wdXBfNzlmMWFmMmYyZWVlNDBiNmE0OGExZjk5MDQyY2Q1ZjQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfN2FlODYyNzExYzA2NDRjOWI3ZDBiMTc4NmE4MTMyMTYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NTE1NzA2LC03OS40ODQ0NDk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZiYjI5ZDczMWJlZDQ1ZGI4MDA5MjNiNWFkZWMxNjVkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2VjYWVlMDQyYTc4MTQ1NjFiODFiYzdlMTgwOGIwZDFhID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzI5NmY3ODE2YWM0OTRlZTNiOTA5MDYzZWRjZGRmMDhjID0gJCgnPGRpdiBpZD0iaHRtbF8yOTZmNzgxNmFjNDk0ZWUzYjkwOTA2M2VkY2RkZjA4YyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+UnVubnltZWRlLCBTd2Fuc2VhIENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZWNhZWUwNDJhNzgxNDU2MWI4MWJjN2UxODA4YjBkMWEuc2V0Q29udGVudChodG1sXzI5NmY3ODE2YWM0OTRlZTNiOTA5MDYzZWRjZGRmMDhjKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzdhZTg2MjcxMWMwNjQ0YzliN2QwYjE3ODZhODEzMjE2LmJpbmRQb3B1cChwb3B1cF9lY2FlZTA0MmE3ODE0NTYxYjgxYmM3ZTE4MDhiMGQxYSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9jZmYxZjg5NWU0MTc0YzJiYTJkNTFmMzEyMWEwODcxZCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc4MTYzNzUsLTc5LjMwNDMwMjFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmJiMjlkNzMxYmVkNDVkYjgwMDkyM2I1YWRlYzE2NWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYTBiMWZlZjAyODA4NGY2YzkzZDdlZWVmNTgzYTZjYjAgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYzgxZTk2MDc1ZDIwNDNlMTliNTE1ZjdmZGMzNDIyYzUgPSAkKCc8ZGl2IGlkPSJodG1sX2M4MWU5NjA3NWQyMDQzZTE5YjUxNWY3ZmRjMzQyMmM1IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DbGFya3MgQ29ybmVycywgU3VsbGl2YW4sIFRhbSBPJiMzOTtTaGFudGVyIENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYTBiMWZlZjAyODA4NGY2YzkzZDdlZWVmNTgzYTZjYjAuc2V0Q29udGVudChodG1sX2M4MWU5NjA3NWQyMDQzZTE5YjUxNWY3ZmRjMzQyMmM1KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2NmZjFmODk1ZTQxNzRjMmJhMmQ1MWYzMTIxYTA4NzFkLmJpbmRQb3B1cChwb3B1cF9hMGIxZmVmMDI4MDg0ZjZjOTNkN2VlZWY1ODNhNmNiMCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9iYmM0N2RmN2Y2MWI0MzYxODFiYTYyMGJiNzg2NmFjNiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY4OTU3NDMsLTc5LjM4MzE1OTkwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZiYjI5ZDczMWJlZDQ1ZGI4MDA5MjNiNWFkZWMxNjVkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzFiNDVhMGI4OGE5NTRmZjNiYjM4YWY0NDZlYjU1Y2NmID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzg5ZTQ3YmNjNDg4NTRkZTdhNjczNmZkOTA5NzI5OGNiID0gJCgnPGRpdiBpZD0iaHRtbF84OWU0N2JjYzQ4ODU0ZGU3YTY3MzZmZDkwOTcyOThjYiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+TW9vcmUgUGFyaywgU3VtbWVyaGlsbCBFYXN0IENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMWI0NWEwYjg4YTk1NGZmM2JiMzhhZjQ0NmViNTVjY2Yuc2V0Q29udGVudChodG1sXzg5ZTQ3YmNjNDg4NTRkZTdhNjczNmZkOTA5NzI5OGNiKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2JiYzQ3ZGY3ZjYxYjQzNjE4MWJhNjIwYmI3ODY2YWM2LmJpbmRQb3B1cChwb3B1cF8xYjQ1YTBiODhhOTU0ZmYzYmIzOGFmNDQ2ZWI1NWNjZik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl84ZjM5MDRmYzU4MmQ0YzA5ODFjMmI5YzY1YmYyZjljYiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY1MzIwNTcsLTc5LjQwMDA0OTNdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmJiMjlkNzMxYmVkNDVkYjgwMDkyM2I1YWRlYzE2NWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNmQwMDVjM2VmMjAxNGNkZTg5MjQ5OGNkZmQ5MGFmNjYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNGQwY2YxZDViMDZjNDVhMmIwOTM1MjM5OTU4YjYxMmQgPSAkKCc8ZGl2IGlkPSJodG1sXzRkMGNmMWQ1YjA2YzQ1YTJiMDkzNTIzOTk1OGI2MTJkIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DaGluYXRvd24sIEdyYW5nZSBQYXJrLCBLZW5zaW5ndG9uIE1hcmtldCBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzZkMDA1YzNlZjIwMTRjZGU4OTI0OThjZGZkOTBhZjY2LnNldENvbnRlbnQoaHRtbF80ZDBjZjFkNWIwNmM0NWEyYjA5MzUyMzk5NThiNjEyZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl84ZjM5MDRmYzU4MmQ0YzA5ODFjMmI5YzY1YmYyZjljYi5iaW5kUG9wdXAocG9wdXBfNmQwMDVjM2VmMjAxNGNkZTg5MjQ5OGNkZmQ5MGFmNjYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYjhlODgwNjQ1Mzc0NGVjYzlkMDM2MjQzYjY3Nzg5OWMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My44MTUyNTIyLC03OS4yODQ1NzcyXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZmIzNjAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmZiMzYwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZiYjI5ZDczMWJlZDQ1ZGI4MDA5MjNiNWFkZWMxNjVkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2NlMTIwY2E0ZWMzZTRjMTdhOWRjZGI5MGQxOGU3OWE1ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2VhNTAzNzE3NDgxYjQyNTBiNzFkZTRjM2NmNGQ3N2Q0ID0gJCgnPGRpdiBpZD0iaHRtbF9lYTUwMzcxNzQ4MWI0MjUwYjcxZGU0YzNjZjRkNzdkNCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QWdpbmNvdXJ0IE5vcnRoLCBMJiMzOTtBbW9yZWF1eCBFYXN0LCBNaWxsaWtlbiwgU3RlZWxlcyBFYXN0IENsdXN0ZXIgNDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfY2UxMjBjYTRlYzNlNGMxN2E5ZGNkYjkwZDE4ZTc5YTUuc2V0Q29udGVudChodG1sX2VhNTAzNzE3NDgxYjQyNTBiNzFkZTRjM2NmNGQ3N2Q0KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2I4ZTg4MDY0NTM3NDRlY2M5ZDAzNjI0M2I2Nzc4OTljLmJpbmRQb3B1cChwb3B1cF9jZTEyMGNhNGVjM2U0YzE3YTlkY2RiOTBkMThlNzlhNSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl85MDg4ZDQxOTE3OGU0NzU5YTQzNWUxYjhmOGQ0ZjhhNiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY4NjQxMjI5OTk5OTk5LC03OS40MDAwNDkzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZiYjI5ZDczMWJlZDQ1ZGI4MDA5MjNiNWFkZWMxNjVkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzQxY2Y4N2RmM2NjNDQ0ZmM4NjExMWE0NThhMjdkZmIxID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzk1MjFhNzdmNzQzZDQxNjViMzY4NjI2MWU3NzNmZTliID0gJCgnPGRpdiBpZD0iaHRtbF85NTIxYTc3Zjc0M2Q0MTY1YjM2ODYyNjFlNzczZmU5YiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RGVlciBQYXJrLCBGb3Jlc3QgSGlsbCBTRSwgUmF0aG5lbGx5LCBTb3V0aCBIaWxsLCBTdW1tZXJoaWxsIFdlc3QgQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF80MWNmODdkZjNjYzQ0NGZjODYxMTFhNDU4YTI3ZGZiMS5zZXRDb250ZW50KGh0bWxfOTUyMWE3N2Y3NDNkNDE2NWIzNjg2MjYxZTc3M2ZlOWIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfOTA4OGQ0MTkxNzhlNDc1OWE0MzVlMWI4ZjhkNGY4YTYuYmluZFBvcHVwKHBvcHVwXzQxY2Y4N2RmM2NjNDQ0ZmM4NjExMWE0NThhMjdkZmIxKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2FlZjA2YjU4NWVkZjQ3NTJhMTYzMGIxNzU3MjVjMzE4ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjI4OTQ2NywtNzkuMzk0NDE5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mYmIyOWQ3MzFiZWQ0NWRiODAwOTIzYjVhZGVjMTY1ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9kYmFjZWUzMDRjODI0MDI5YTk2MWNlY2M5MDUyZDQ2NiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF80OWU2ZDBhNTI4ZDk0ODI1OTBjMjFjMTQ0MGI1ZTA5ZCA9ICQoJzxkaXYgaWQ9Imh0bWxfNDllNmQwYTUyOGQ5NDgyNTkwYzIxYzE0NDBiNWUwOWQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNOIFRvd2VyLCBCYXRodXJzdCBRdWF5LCBJc2xhbmQgYWlycG9ydCwgSGFyYm91cmZyb250IFdlc3QsIEtpbmcgYW5kIFNwYWRpbmEsIFJhaWx3YXkgTGFuZHMsIFNvdXRoIE5pYWdhcmEgQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9kYmFjZWUzMDRjODI0MDI5YTk2MWNlY2M5MDUyZDQ2Ni5zZXRDb250ZW50KGh0bWxfNDllNmQwYTUyOGQ5NDgyNTkwYzIxYzE0NDBiNWUwOWQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYWVmMDZiNTg1ZWRmNDc1MmExNjMwYjE3NTcyNWMzMTguYmluZFBvcHVwKHBvcHVwX2RiYWNlZTMwNGM4MjQwMjlhOTYxY2VjYzkwNTJkNDY2KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2NjZDVhYzI5N2UyZTQ5MzJiMjFiODMzMmEzOGQ1OGI1ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjA1NjQ2NiwtNzkuNTAxMzIwNzAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmJiMjlkNzMxYmVkNDVkYjgwMDkyM2I1YWRlYzE2NWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYTFmMDc4ZGM0ZWFkNDY1NzlmYzFlNDJhMjFjYTJlNGQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZDNiNTE3ZDc0MTVmNGNmMWEwNTMzNjE4MzY3MTVkMGUgPSAkKCc8ZGl2IGlkPSJodG1sX2QzYjUxN2Q3NDE1ZjRjZjFhMDUzMzYxODM2NzE1ZDBlIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5IdW1iZXIgQmF5IFNob3JlcywgTWltaWNvIFNvdXRoLCBOZXcgVG9yb250byBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2ExZjA3OGRjNGVhZDQ2NTc5ZmMxZTQyYTIxY2EyZTRkLnNldENvbnRlbnQoaHRtbF9kM2I1MTdkNzQxNWY0Y2YxYTA1MzM2MTgzNjcxNWQwZSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9jY2Q1YWMyOTdlMmU0OTMyYjIxYjgzMzJhMzhkNThiNS5iaW5kUG9wdXAocG9wdXBfYTFmMDc4ZGM0ZWFkNDY1NzlmYzFlNDJhMjFjYTJlNGQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZjE3ZWJkMDgyMzRlNGNkY2IzY2NhYzU4MDM2YTI3MjMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43Mzk0MTYzOTk5OTk5OTYsLTc5LjU4ODQzNjldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmJiMjlkNzMxYmVkNDVkYjgwMDkyM2I1YWRlYzE2NWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNDVkNWI3OWI4ODY2NGJlMGE5NmFjYmM1MDlhOWJiMDYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMjJkN2M0MGE5NmJhNDMwOGI4YWJjNzUxM2FmZDlhODYgPSAkKCc8ZGl2IGlkPSJodG1sXzIyZDdjNDBhOTZiYTQzMDhiOGFiYzc1MTNhZmQ5YTg2IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5BbGJpb24gR2FyZGVucywgQmVhdW1vbmQgSGVpZ2h0cywgSHVtYmVyZ2F0ZSwgSmFtZXN0b3duLCBNb3VudCBPbGl2ZSwgU2lsdmVyc3RvbmUsIFNvdXRoIFN0ZWVsZXMsIFRoaXN0bGV0b3duIENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNDVkNWI3OWI4ODY2NGJlMGE5NmFjYmM1MDlhOWJiMDYuc2V0Q29udGVudChodG1sXzIyZDdjNDBhOTZiYTQzMDhiOGFiYzc1MTNhZmQ5YTg2KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2YxN2ViZDA4MjM0ZTRjZGNiM2NjYWM1ODAzNmEyNzIzLmJpbmRQb3B1cChwb3B1cF80NWQ1Yjc5Yjg4NjY0YmUwYTk2YWNiYzUwOWE5YmIwNik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl83YjU1MGM3Y2JhNGI0M2E3ODA3ZmFiMWI5ZTNkMzdkMiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc5OTUyNTIwMDAwMDAwNSwtNzkuMzE4Mzg4N10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mYmIyOWQ3MzFiZWQ0NWRiODAwOTIzYjVhZGVjMTY1ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9mOGQyOTVlZTdiMTk0MjU5OTUxYzBlZmU4NzA0MTQ5ZiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8yZjhlYWVhNDQ3M2M0NGMwYWZlMTYzMDhhYjUxMWUyOCA9ICQoJzxkaXYgaWQ9Imh0bWxfMmY4ZWFlYTQ0NzNjNDRjMGFmZTE2MzA4YWI1MTFlMjgiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkwmIzM5O0Ftb3JlYXV4IFdlc3QgQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9mOGQyOTVlZTdiMTk0MjU5OTUxYzBlZmU4NzA0MTQ5Zi5zZXRDb250ZW50KGh0bWxfMmY4ZWFlYTQ0NzNjNDRjMGFmZTE2MzA4YWI1MTFlMjgpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfN2I1NTBjN2NiYTRiNDNhNzgwN2ZhYjFiOWUzZDM3ZDIuYmluZFBvcHVwKHBvcHVwX2Y4ZDI5NWVlN2IxOTQyNTk5NTFjMGVmZTg3MDQxNDlmKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzI1ZjI3NGMyODU4NjRmNDhhM2E2OWE1YWVkYTJjNTJlID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjc5NTYyNiwtNzkuMzc3NTI5NDAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmYjM2MCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZmIzNjAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmJiMjlkNzMxYmVkNDVkYjgwMDkyM2I1YWRlYzE2NWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNDYxZmIyYmM4NGU1NDA1YmIxNjIyYmNiMmU0MzFhZTkgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNTc1OWQ4ZjY5ZmQ1NDA1MjliZGUyYTQ2NTAxY2RiYTMgPSAkKCc8ZGl2IGlkPSJodG1sXzU3NTlkOGY2OWZkNTQwNTI5YmRlMmE0NjUwMWNkYmEzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Sb3NlZGFsZSBDbHVzdGVyIDQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzQ2MWZiMmJjODRlNTQwNWJiMTYyMmJjYjJlNDMxYWU5LnNldENvbnRlbnQoaHRtbF81NzU5ZDhmNjlmZDU0MDUyOWJkZTJhNDY1MDFjZGJhMyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8yNWYyNzRjMjg1ODY0ZjQ4YTNhNjlhNWFlZGEyYzUyZS5iaW5kUG9wdXAocG9wdXBfNDYxZmIyYmM4NGU1NDA1YmIxNjIyYmNiMmU0MzFhZTkpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYjNkMzRjYTRmNzAwNDY0NjkzNzkwMGMwY2M1ZDQ0NWUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NDY0MzUyLC03OS4zNzQ4NDU5OTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mYmIyOWQ3MzFiZWQ0NWRiODAwOTIzYjVhZGVjMTY1ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF83ZTFlM2Y5ZGU1MTg0OGJjYTRmN2I3YTcxZmE5OWFiNSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF84MGExOTI0YTk1Nzg0YjRiYWUyOGU5NTM1ZDRhOTM2NyA9ICQoJzxkaXYgaWQ9Imh0bWxfODBhMTkyNGE5NTc4NGI0YmFlMjhlOTUzNWQ0YTkzNjciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlN0biBBIFBPIEJveGVzIDI1IFRoZSBFc3BsYW5hZGUgQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF83ZTFlM2Y5ZGU1MTg0OGJjYTRmN2I3YTcxZmE5OWFiNS5zZXRDb250ZW50KGh0bWxfODBhMTkyNGE5NTc4NGI0YmFlMjhlOTUzNWQ0YTkzNjcpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYjNkMzRjYTRmNzAwNDY0NjkzNzkwMGMwY2M1ZDQ0NWUuYmluZFBvcHVwKHBvcHVwXzdlMWUzZjlkZTUxODQ4YmNhNGY3YjdhNzFmYTk5YWI1KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzMxNTVjZTUxMjJlNzQ0MmJhMGRhMWZlYWQwNmEzMzMzID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjAyNDEzNzAwMDAwMDEsLTc5LjU0MzQ4NDA5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZiYjI5ZDczMWJlZDQ1ZGI4MDA5MjNiNWFkZWMxNjVkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzY5NDgxMDc0OGQ4ZDQxNTNiODI1MGE5ZGExMDYyMjRhID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2I5NDVlOTM5MGZkMDRhMGM4NDYwNmY0N2QyMjM3NmU5ID0gJCgnPGRpdiBpZD0iaHRtbF9iOTQ1ZTkzOTBmZDA0YTBjODQ2MDZmNDdkMjIzNzZlOSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QWxkZXJ3b29kLCBMb25nIEJyYW5jaCBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzY5NDgxMDc0OGQ4ZDQxNTNiODI1MGE5ZGExMDYyMjRhLnNldENvbnRlbnQoaHRtbF9iOTQ1ZTkzOTBmZDA0YTBjODQ2MDZmNDdkMjIzNzZlOSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8zMTU1Y2U1MTIyZTc0NDJiYTBkYTFmZWFkMDZhMzMzMy5iaW5kUG9wdXAocG9wdXBfNjk0ODEwNzQ4ZDhkNDE1M2I4MjUwYTlkYTEwNjIyNGEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZTkyM2YxNDgwNmRhNGU1MGFkMWQxN2ZmMTU2YTIzMmQgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MDY3NDgyOTk5OTk5OTQsLTc5LjU5NDA1NDRdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmJiMjlkNzMxYmVkNDVkYjgwMDkyM2I1YWRlYzE2NWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYWQ0NTE4OWRiNjZkNDNkMThiOTE1YjUyZjk4YmNjN2IgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMmIxMTBhMGM5YWEwNDkwMGEyN2U0NzFkYmM4ZmNmMzQgPSAkKCc8ZGl2IGlkPSJodG1sXzJiMTEwYTBjOWFhMDQ5MDBhMjdlNDcxZGJjOGZjZjM0IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Ob3J0aHdlc3QgQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9hZDQ1MTg5ZGI2NmQ0M2QxOGI5MTViNTJmOThiY2M3Yi5zZXRDb250ZW50KGh0bWxfMmIxMTBhMGM5YWEwNDkwMGEyN2U0NzFkYmM4ZmNmMzQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZTkyM2YxNDgwNmRhNGU1MGFkMWQxN2ZmMTU2YTIzMmQuYmluZFBvcHVwKHBvcHVwX2FkNDUxODlkYjY2ZDQzZDE4YjkxNWI1MmY5OGJjYzdiKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzhmYTYwY2FkMThkODQxM2E5NWE1YzFjOGZiNDM2OGFjID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjY3OTY3LC03OS4zNjc2NzUzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZiYjI5ZDczMWJlZDQ1ZGI4MDA5MjNiNWFkZWMxNjVkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzdmMGZlZjI3MmUxMzQ1MGViZGE5NmI0NDlmNGY5M2RkID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2UzOGViOWE3NjhlNTRkNmQ4MzhmZWQyNWIwZmU2NWM5ID0gJCgnPGRpdiBpZD0iaHRtbF9lMzhlYjlhNzY4ZTU0ZDZkODM4ZmVkMjViMGZlNjVjOSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2FiYmFnZXRvd24sIFN0LiBKYW1lcyBUb3duIENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfN2YwZmVmMjcyZTEzNDUwZWJkYTk2YjQ0OWY0ZjkzZGQuc2V0Q29udGVudChodG1sX2UzOGViOWE3NjhlNTRkNmQ4MzhmZWQyNWIwZmU2NWM5KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzhmYTYwY2FkMThkODQxM2E5NWE1YzFjOGZiNDM2OGFjLmJpbmRQb3B1cChwb3B1cF83ZjBmZWYyNzJlMTM0NTBlYmRhOTZiNDQ5ZjRmOTNkZCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl85OWQ4NmFiY2EyMDU0ZGEyYWI1ZWU3MjIyZjM1NDJmZSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY0ODQyOTIsLTc5LjM4MjI4MDJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmJiMjlkNzMxYmVkNDVkYjgwMDkyM2I1YWRlYzE2NWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZTVhNDk1NzFmYzAzNDM5NDhjZjQ5ZTkyMGJhY2E3Y2MgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYWY1YTAxNGVjODkwNDQ4MDhiMmU1YzgzZjQwN2MzMGMgPSAkKCc8ZGl2IGlkPSJodG1sX2FmNWEwMTRlYzg5MDQ0ODA4YjJlNWM4M2Y0MDdjMzBjIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5GaXJzdCBDYW5hZGlhbiBQbGFjZSwgVW5kZXJncm91bmQgY2l0eSBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2U1YTQ5NTcxZmMwMzQzOTQ4Y2Y0OWU5MjBiYWNhN2NjLnNldENvbnRlbnQoaHRtbF9hZjVhMDE0ZWM4OTA0NDgwOGIyZTVjODNmNDA3YzMwYyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl85OWQ4NmFiY2EyMDU0ZGEyYWI1ZWU3MjIyZjM1NDJmZS5iaW5kUG9wdXAocG9wdXBfZTVhNDk1NzFmYzAzNDM5NDhjZjQ5ZTkyMGJhY2E3Y2MpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNzgyNmVkM2ZmMmI5NGM4OTgwM2I5OTc4YzU4OGUxMTEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NTM2NTM2MDAwMDAwMDUsLTc5LjUwNjk0MzZdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmYjM2MCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZmIzNjAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmJiMjlkNzMxYmVkNDVkYjgwMDkyM2I1YWRlYzE2NWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMjExZjIzNjQ0YTUwNDliYWIyODFhODFlOGQ0MTg1YzQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOWJkNWYxMTU4Zjc3NDEwOGFkMjM0YTUyYTFhNTkyNzQgPSAkKCc8ZGl2IGlkPSJodG1sXzliZDVmMTE1OGY3NzQxMDhhZDIzNGE1MmExYTU5Mjc0IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5UaGUgS2luZ3N3YXksIE1vbnRnb21lcnkgUm9hZCwgT2xkIE1pbGwgTm9ydGggQ2x1c3RlciA0PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8yMTFmMjM2NDRhNTA0OWJhYjI4MWE4MWU4ZDQxODVjNC5zZXRDb250ZW50KGh0bWxfOWJkNWYxMTU4Zjc3NDEwOGFkMjM0YTUyYTFhNTkyNzQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNzgyNmVkM2ZmMmI5NGM4OTgwM2I5OTc4YzU4OGUxMTEuYmluZFBvcHVwKHBvcHVwXzIxMWYyMzY0NGE1MDQ5YmFiMjgxYTgxZThkNDE4NWM0KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2NlMTJlYjg4NjU5NTQ0MjJiZjFmMDQ0MWQ4OTRmMzYyID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjY1ODU5OSwtNzkuMzgzMTU5OTAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmJiMjlkNzMxYmVkNDVkYjgwMDkyM2I1YWRlYzE2NWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYzAxOTBmZTZlNGQ3NDJiODg2M2U2ODVkZDdiNjA1MjMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYWY1NzQzZGUyMGM3NGY5Y2I4NTk0YTA3NjdlNmJjY2UgPSAkKCc8ZGl2IGlkPSJodG1sX2FmNTc0M2RlMjBjNzRmOWNiODU5NGEwNzY3ZTZiY2NlIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DaHVyY2ggYW5kIFdlbGxlc2xleSBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2MwMTkwZmU2ZTRkNzQyYjg4NjNlNjg1ZGQ3YjYwNTIzLnNldENvbnRlbnQoaHRtbF9hZjU3NDNkZTIwYzc0ZjljYjg1OTRhMDc2N2U2YmNjZSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9jZTEyZWI4ODY1OTU0NDIyYmYxZjA0NDFkODk0ZjM2Mi5iaW5kUG9wdXAocG9wdXBfYzAxOTBmZTZlNGQ3NDJiODg2M2U2ODVkZDdiNjA1MjMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMjdhZWQxNDk0ZTljNGZjMmIzZjcxOWRkOTkyOWI1MjAgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NjI3NDM5LC03OS4zMjE1NThdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmJiMjlkNzMxYmVkNDVkYjgwMDkyM2I1YWRlYzE2NWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOTgzNmVmOTNhNjVmNDQwMGEzNDhmY2I2ODRiNTEwNTggPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYmY3NzlkZGRlM2U0NGY0MmE3MzcyNWY3OWYyYmIwYjEgPSAkKCc8ZGl2IGlkPSJodG1sX2JmNzc5ZGRkZTNlNDRmNDJhNzM3MjVmNzlmMmJiMGIxIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5CdXNpbmVzcyBSZXBseSBNYWlsIFByb2Nlc3NpbmcgQ2VudHJlIDk2OSBFYXN0ZXJuIENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOTgzNmVmOTNhNjVmNDQwMGEzNDhmY2I2ODRiNTEwNTguc2V0Q29udGVudChodG1sX2JmNzc5ZGRkZTNlNDRmNDJhNzM3MjVmNzlmMmJiMGIxKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzI3YWVkMTQ5NGU5YzRmYzJiM2Y3MTlkZDk5MjliNTIwLmJpbmRQb3B1cChwb3B1cF85ODM2ZWY5M2E2NWY0NDAwYTM0OGZjYjY4NGI1MTA1OCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9lN2NlY2FjN2MzMzk0NjA0YWJjYTk3NTA5NzEzZGRhNSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjYzNjI1NzksLTc5LjQ5ODUwOTA5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZjAwMDAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmYwMDAwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZiYjI5ZDczMWJlZDQ1ZGI4MDA5MjNiNWFkZWMxNjVkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2FjNzYyYTg0YjA5MTRlN2E4YjYxZGIxNjEyMWExMzAwID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2JmM2E5ZWMyZTE5YTRjNDk5Y2U3ZWFkZDM2ZTRhMTE1ID0gJCgnPGRpdiBpZD0iaHRtbF9iZjNhOWVjMmUxOWE0YzQ5OWNlN2VhZGQzNmU0YTExNSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+SHVtYmVyIEJheSwgS2luZyYjMzk7cyBNaWxsIFBhcmssIEtpbmdzd2F5IFBhcmsgU291dGggRWFzdCwgTWltaWNvIE5FLCBPbGQgTWlsbCBTb3V0aCwgVGhlIFF1ZWVuc3dheSBFYXN0LCBSb3lhbCBZb3JrIFNvdXRoIEVhc3QsIFN1bm55bGVhIENsdXN0ZXIgMDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYWM3NjJhODRiMDkxNGU3YThiNjFkYjE2MTIxYTEzMDAuc2V0Q29udGVudChodG1sX2JmM2E5ZWMyZTE5YTRjNDk5Y2U3ZWFkZDM2ZTRhMTE1KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2U3Y2VjYWM3YzMzOTQ2MDRhYmNhOTc1MDk3MTNkZGE1LmJpbmRQb3B1cChwb3B1cF9hYzc2MmE4NGIwOTE0ZTdhOGI2MWRiMTYxMjFhMTMwMCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl84MTUzYzNmMmU1MDI0NTgzYjBmNTgwMmNhYTJkNzlhZSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjYyODg0MDgsLTc5LjUyMDk5OTQwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZiYjI5ZDczMWJlZDQ1ZGI4MDA5MjNiNWFkZWMxNjVkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzM5ZjEzODE3NjYxODRhYzk4ZTFlYTRmNWU2ZTU5MjdiID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzM3ZGY2YzRlMjc3NTQ0Y2ZhOTliOTViMjlkOTQzODg2ID0gJCgnPGRpdiBpZD0iaHRtbF8zN2RmNmM0ZTI3NzU0NGNmYTk5Yjk1YjI5ZDk0Mzg4NiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+S2luZ3N3YXkgUGFyayBTb3V0aCBXZXN0LCBNaW1pY28gTlcsIFRoZSBRdWVlbnN3YXkgV2VzdCwgUm95YWwgWW9yayBTb3V0aCBXZXN0LCBTb3V0aCBvZiBCbG9vciBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzM5ZjEzODE3NjYxODRhYzk4ZTFlYTRmNWU2ZTU5MjdiLnNldENvbnRlbnQoaHRtbF8zN2RmNmM0ZTI3NzU0NGNmYTk5Yjk1YjI5ZDk0Mzg4Nik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl84MTUzYzNmMmU1MDI0NTgzYjBmNTgwMmNhYTJkNzlhZS5iaW5kUG9wdXAocG9wdXBfMzlmMTM4MTc2NjE4NGFjOThlMWVhNGY1ZTZlNTkyN2IpOwoKICAgICAgICAgICAgCiAgICAgICAgCjwvc2NyaXB0Pg==\" style=\"position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;\" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div>", 
                        "text/plain": "<folium.folium.Map at 0x7f90d51b50f0>"
                    }, 
                    "output_type": "execute_result"
                }
            ], 
            "source": "# create map\nmap_clusters = folium.Map(location=[latitude, longitude], zoom_start=11)\n\n# set color scheme for the clusters\nx = np.arange(kclusters)\nys = [i + x + (i*x)**2 for i in range(kclusters)]\ncolors_array = cm.rainbow(np.linspace(0, 1, len(ys)))\nrainbow = [colors.rgb2hex(i) for i in colors_array]\n\n# add markers to the map\nmarkers_colors = []\nfor lat, lon, poi, cluster in zip(toronto_merged['Latitude'], toronto_merged['Longitude'], toronto_merged['Neighbourhood'], toronto_merged['Cluster Labels']):\n    label = folium.Popup(str(poi) + ' Cluster ' + str(cluster), parse_html=True)\n    folium.CircleMarker(\n        [lat, lon],\n        radius=5,\n        popup=label,\n        color=rainbow[cluster-1],\n        fill=True,\n        fill_color=rainbow[cluster-1],\n        fill_opacity=0.7).add_to(map_clusters)\n       \nmap_clusters"
        }, 
        {
            "source": "## Cluster 1  - only two borough in this cluster, most common venue is related to some sport activity", 
            "cell_type": "markdown", 
            "metadata": {}
        }, 
        {
            "execution_count": 51, 
            "cell_type": "code", 
            "metadata": {}, 
            "outputs": [
                {
                    "execution_count": 51, 
                    "metadata": {}, 
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Borough</th>\n      <th>Cluster Labels</th>\n      <th>1st Most Common Venue</th>\n      <th>2nd Most Common Venue</th>\n      <th>3rd Most Common Venue</th>\n      <th>4th Most Common Venue</th>\n      <th>5th Most Common Venue</th>\n      <th>6th Most Common Venue</th>\n      <th>7th Most Common Venue</th>\n      <th>8th Most Common Venue</th>\n      <th>9th Most Common Venue</th>\n      <th>10th Most Common Venue</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>57</th>\n      <td>North York</td>\n      <td>0</td>\n      <td>Baseball Field</td>\n      <td>Yoga Studio</td>\n      <td>Eastern European Restaurant</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n      <td>Drugstore</td>\n      <td>Dumpling Restaurant</td>\n      <td>Electronics Store</td>\n      <td>Discount Store</td>\n    </tr>\n    <tr>\n      <th>101</th>\n      <td>Etobicoke</td>\n      <td>0</td>\n      <td>Pool</td>\n      <td>Baseball Field</td>\n      <td>Yoga Studio</td>\n      <td>Drugstore</td>\n      <td>Discount Store</td>\n      <td>Dive Bar</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n      <td>Dumpling Restaurant</td>\n    </tr>\n  </tbody>\n</table>\n</div>", 
                        "text/plain": "        Borough  Cluster Labels 1st Most Common Venue 2nd Most Common Venue  \\\n57   North York               0        Baseball Field           Yoga Studio   \n101   Etobicoke               0                  Pool        Baseball Field   \n\n           3rd Most Common Venue 4th Most Common Venue 5th Most Common Venue  \\\n57   Eastern European Restaurant               Dog Run      Doner Restaurant   \n101                  Yoga Studio             Drugstore        Discount Store   \n\n    6th Most Common Venue 7th Most Common Venue 8th Most Common Venue  \\\n57             Donut Shop             Drugstore   Dumpling Restaurant   \n101              Dive Bar               Dog Run      Doner Restaurant   \n\n    9th Most Common Venue 10th Most Common Venue  \n57      Electronics Store         Discount Store  \n101            Donut Shop    Dumpling Restaurant  "
                    }, 
                    "output_type": "execute_result"
                }
            ], 
            "source": "toronto_merged.loc[toronto_merged['Cluster Labels'] == 0, toronto_merged.columns[[1] + list(range(5, toronto_merged.shape[1]))]]"
        }, 
        {
            "source": "## Cluster 2 - most common characteristic seems to be related to shopping and eating", 
            "cell_type": "markdown", 
            "metadata": {}
        }, 
        {
            "execution_count": 52, 
            "cell_type": "code", 
            "metadata": {}, 
            "outputs": [
                {
                    "execution_count": 52, 
                    "metadata": {}, 
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Borough</th>\n      <th>Cluster Labels</th>\n      <th>1st Most Common Venue</th>\n      <th>2nd Most Common Venue</th>\n      <th>3rd Most Common Venue</th>\n      <th>4th Most Common Venue</th>\n      <th>5th Most Common Venue</th>\n      <th>6th Most Common Venue</th>\n      <th>7th Most Common Venue</th>\n      <th>8th Most Common Venue</th>\n      <th>9th Most Common Venue</th>\n      <th>10th Most Common Venue</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>35</th>\n      <td>East York</td>\n      <td>1</td>\n      <td>Pizza Place</td>\n      <td>Convenience Store</td>\n      <td>Park</td>\n      <td>Yoga Studio</td>\n      <td>Dumpling Restaurant</td>\n      <td>Dive Bar</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n      <td>Drugstore</td>\n    </tr>\n    <tr>\n      <th>63</th>\n      <td>York</td>\n      <td>1</td>\n      <td>Pizza Place</td>\n      <td>Convenience Store</td>\n      <td>Grocery Store</td>\n      <td>Bus Line</td>\n      <td>Yoga Studio</td>\n      <td>Dumpling Restaurant</td>\n      <td>Dive Bar</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n    </tr>\n    <tr>\n      <th>64</th>\n      <td>York</td>\n      <td>1</td>\n      <td>Convenience Store</td>\n      <td>Yoga Studio</td>\n      <td>Eastern European Restaurant</td>\n      <td>Dive Bar</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n      <td>Drugstore</td>\n      <td>Dumpling Restaurant</td>\n      <td>Electronics Store</td>\n    </tr>\n    <tr>\n      <th>66</th>\n      <td>North York</td>\n      <td>1</td>\n      <td>Convenience Store</td>\n      <td>Bank</td>\n      <td>Park</td>\n      <td>Yoga Studio</td>\n      <td>Eastern European Restaurant</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n      <td>Drugstore</td>\n      <td>Dumpling Restaurant</td>\n    </tr>\n  </tbody>\n</table>\n</div>", 
                        "text/plain": "       Borough  Cluster Labels 1st Most Common Venue 2nd Most Common Venue  \\\n35   East York               1           Pizza Place     Convenience Store   \n63        York               1           Pizza Place     Convenience Store   \n64        York               1     Convenience Store           Yoga Studio   \n66  North York               1     Convenience Store                  Bank   \n\n          3rd Most Common Venue 4th Most Common Venue  \\\n35                         Park           Yoga Studio   \n63                Grocery Store              Bus Line   \n64  Eastern European Restaurant              Dive Bar   \n66                         Park           Yoga Studio   \n\n          5th Most Common Venue 6th Most Common Venue 7th Most Common Venue  \\\n35          Dumpling Restaurant              Dive Bar               Dog Run   \n63                  Yoga Studio   Dumpling Restaurant              Dive Bar   \n64                      Dog Run      Doner Restaurant            Donut Shop   \n66  Eastern European Restaurant               Dog Run      Doner Restaurant   \n\n   8th Most Common Venue 9th Most Common Venue 10th Most Common Venue  \n35      Doner Restaurant            Donut Shop              Drugstore  \n63               Dog Run      Doner Restaurant             Donut Shop  \n64             Drugstore   Dumpling Restaurant      Electronics Store  \n66            Donut Shop             Drugstore    Dumpling Restaurant  "
                    }, 
                    "output_type": "execute_result"
                }
            ], 
            "source": "toronto_merged.loc[toronto_merged['Cluster Labels'] == 1, toronto_merged.columns[[1] + list(range(5, toronto_merged.shape[1]))]]"
        }, 
        {
            "source": "## Cluster 3 - most common characteristic seems to be massage, yoga and eating", 
            "cell_type": "markdown", 
            "metadata": {}
        }, 
        {
            "execution_count": 53, 
            "cell_type": "code", 
            "metadata": {}, 
            "outputs": [
                {
                    "execution_count": 53, 
                    "metadata": {}, 
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Borough</th>\n      <th>Cluster Labels</th>\n      <th>1st Most Common Venue</th>\n      <th>2nd Most Common Venue</th>\n      <th>3rd Most Common Venue</th>\n      <th>4th Most Common Venue</th>\n      <th>5th Most Common Venue</th>\n      <th>6th Most Common Venue</th>\n      <th>7th Most Common Venue</th>\n      <th>8th Most Common Venue</th>\n      <th>9th Most Common Venue</th>\n      <th>10th Most Common Venue</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>11</th>\n      <td>Etobicoke</td>\n      <td>2</td>\n      <td>Bank</td>\n      <td>Yoga Studio</td>\n      <td>Eastern European Restaurant</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n      <td>Drugstore</td>\n      <td>Dumpling Restaurant</td>\n      <td>Electronics Store</td>\n      <td>Discount Store</td>\n    </tr>\n    <tr>\n      <th>12</th>\n      <td>Scarborough</td>\n      <td>2</td>\n      <td>Bar</td>\n      <td>Yoga Studio</td>\n      <td>Eastern European Restaurant</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n      <td>Drugstore</td>\n      <td>Dumpling Restaurant</td>\n      <td>Electronics Store</td>\n      <td>Discount Store</td>\n    </tr>\n    <tr>\n      <th>34</th>\n      <td>North York</td>\n      <td>2</td>\n      <td>Massage Studio</td>\n      <td>Falafel Restaurant</td>\n      <td>Coffee Shop</td>\n      <td>Bar</td>\n      <td>Dumpling Restaurant</td>\n      <td>Dive Bar</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n      <td>Drugstore</td>\n    </tr>\n  </tbody>\n</table>\n</div>", 
                        "text/plain": "        Borough  Cluster Labels 1st Most Common Venue 2nd Most Common Venue  \\\n11    Etobicoke               2                  Bank           Yoga Studio   \n12  Scarborough               2                   Bar           Yoga Studio   \n34   North York               2        Massage Studio    Falafel Restaurant   \n\n          3rd Most Common Venue 4th Most Common Venue 5th Most Common Venue  \\\n11  Eastern European Restaurant               Dog Run      Doner Restaurant   \n12  Eastern European Restaurant               Dog Run      Doner Restaurant   \n34                  Coffee Shop                   Bar   Dumpling Restaurant   \n\n   6th Most Common Venue 7th Most Common Venue 8th Most Common Venue  \\\n11            Donut Shop             Drugstore   Dumpling Restaurant   \n12            Donut Shop             Drugstore   Dumpling Restaurant   \n34              Dive Bar               Dog Run      Doner Restaurant   \n\n   9th Most Common Venue 10th Most Common Venue  \n11     Electronics Store         Discount Store  \n12     Electronics Store         Discount Store  \n34            Donut Shop              Drugstore  "
                    }, 
                    "output_type": "execute_result"
                }
            ], 
            "source": "toronto_merged.loc[toronto_merged['Cluster Labels'] == 2, toronto_merged.columns[[1] + list(range(5, toronto_merged.shape[1]))]]"
        }, 
        {
            "source": "## Cluster 4 - eating, coffee are the most common venues", 
            "cell_type": "markdown", 
            "metadata": {}
        }, 
        {
            "execution_count": 54, 
            "cell_type": "code", 
            "metadata": {}, 
            "outputs": [
                {
                    "execution_count": 54, 
                    "metadata": {}, 
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Borough</th>\n      <th>Cluster Labels</th>\n      <th>1st Most Common Venue</th>\n      <th>2nd Most Common Venue</th>\n      <th>3rd Most Common Venue</th>\n      <th>4th Most Common Venue</th>\n      <th>5th Most Common Venue</th>\n      <th>6th Most Common Venue</th>\n      <th>7th Most Common Venue</th>\n      <th>8th Most Common Venue</th>\n      <th>9th Most Common Venue</th>\n      <th>10th Most Common Venue</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>1</th>\n      <td>North York</td>\n      <td>3</td>\n      <td>Pizza Place</td>\n      <td>French Restaurant</td>\n      <td>Hockey Arena</td>\n      <td>Portuguese Restaurant</td>\n      <td>Coffee Shop</td>\n      <td>Drugstore</td>\n      <td>Discount Store</td>\n      <td>Dive Bar</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>Downtown Toronto</td>\n      <td>3</td>\n      <td>Coffee Shop</td>\n      <td>Park</td>\n      <td>Bakery</td>\n      <td>Caf\u00e9</td>\n      <td>Mexican Restaurant</td>\n      <td>Breakfast Spot</td>\n      <td>Restaurant</td>\n      <td>Pub</td>\n      <td>Theater</td>\n      <td>Gym / Fitness Center</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>North York</td>\n      <td>3</td>\n      <td>Accessories Store</td>\n      <td>Boutique</td>\n      <td>Event Space</td>\n      <td>Vietnamese Restaurant</td>\n      <td>Coffee Shop</td>\n      <td>Furniture / Home Store</td>\n      <td>Clothing Store</td>\n      <td>Miscellaneous Shop</td>\n      <td>Drugstore</td>\n      <td>Dive Bar</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>Queen's Park</td>\n      <td>3</td>\n      <td>Coffee Shop</td>\n      <td>Gym</td>\n      <td>Park</td>\n      <td>Diner</td>\n      <td>Yoga Studio</td>\n      <td>Restaurant</td>\n      <td>Italian Restaurant</td>\n      <td>Japanese Restaurant</td>\n      <td>Fast Food Restaurant</td>\n      <td>Seafood Restaurant</td>\n    </tr>\n    <tr>\n      <th>6</th>\n      <td>Scarborough</td>\n      <td>3</td>\n      <td>Fast Food Restaurant</td>\n      <td>Dumpling Restaurant</td>\n      <td>Discount Store</td>\n      <td>Dive Bar</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n      <td>Drugstore</td>\n      <td>Eastern European Restaurant</td>\n      <td>Field</td>\n    </tr>\n    <tr>\n      <th>7</th>\n      <td>North York</td>\n      <td>3</td>\n      <td>Japanese Restaurant</td>\n      <td>Caf\u00e9</td>\n      <td>Caribbean Restaurant</td>\n      <td>Gym / Fitness Center</td>\n      <td>Baseball Field</td>\n      <td>Drugstore</td>\n      <td>Dive Bar</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n    </tr>\n    <tr>\n      <th>8</th>\n      <td>East York</td>\n      <td>3</td>\n      <td>Fast Food Restaurant</td>\n      <td>Pizza Place</td>\n      <td>Pharmacy</td>\n      <td>Gastropub</td>\n      <td>Bank</td>\n      <td>Intersection</td>\n      <td>Athletics &amp; Sports</td>\n      <td>Breakfast Spot</td>\n      <td>Pet Store</td>\n      <td>Gym / Fitness Center</td>\n    </tr>\n    <tr>\n      <th>9</th>\n      <td>Downtown Toronto</td>\n      <td>3</td>\n      <td>Coffee Shop</td>\n      <td>Clothing Store</td>\n      <td>Cosmetics Shop</td>\n      <td>Caf\u00e9</td>\n      <td>Fast Food Restaurant</td>\n      <td>Diner</td>\n      <td>Lingerie Store</td>\n      <td>Bookstore</td>\n      <td>Restaurant</td>\n      <td>Ice Cream Shop</td>\n    </tr>\n    <tr>\n      <th>10</th>\n      <td>North York</td>\n      <td>3</td>\n      <td>Pizza Place</td>\n      <td>Park</td>\n      <td>Sushi Restaurant</td>\n      <td>Pub</td>\n      <td>Japanese Restaurant</td>\n      <td>Electronics Store</td>\n      <td>Empanada Restaurant</td>\n      <td>Eastern European Restaurant</td>\n      <td>Dumpling Restaurant</td>\n      <td>Drugstore</td>\n    </tr>\n    <tr>\n      <th>13</th>\n      <td>North York</td>\n      <td>3</td>\n      <td>Gym</td>\n      <td>Beer Store</td>\n      <td>Asian Restaurant</td>\n      <td>Coffee Shop</td>\n      <td>Japanese Restaurant</td>\n      <td>Discount Store</td>\n      <td>Dim Sum Restaurant</td>\n      <td>Restaurant</td>\n      <td>Sandwich Place</td>\n      <td>Italian Restaurant</td>\n    </tr>\n    <tr>\n      <th>14</th>\n      <td>East York</td>\n      <td>3</td>\n      <td>Pharmacy</td>\n      <td>Park</td>\n      <td>Video Store</td>\n      <td>Cosmetics Shop</td>\n      <td>Skating Rink</td>\n      <td>Beer Store</td>\n      <td>Athletics &amp; Sports</td>\n      <td>Asian Restaurant</td>\n      <td>Curling Ice</td>\n      <td>Yoga Studio</td>\n    </tr>\n    <tr>\n      <th>15</th>\n      <td>Downtown Toronto</td>\n      <td>3</td>\n      <td>Coffee Shop</td>\n      <td>Hotel</td>\n      <td>Restaurant</td>\n      <td>Caf\u00e9</td>\n      <td>Italian Restaurant</td>\n      <td>Cocktail Bar</td>\n      <td>Bakery</td>\n      <td>Cosmetics Shop</td>\n      <td>Gastropub</td>\n      <td>Breakfast Spot</td>\n    </tr>\n    <tr>\n      <th>16</th>\n      <td>York</td>\n      <td>3</td>\n      <td>Field</td>\n      <td>Dog Run</td>\n      <td>Hockey Arena</td>\n      <td>Trail</td>\n      <td>Dumpling Restaurant</td>\n      <td>Discount Store</td>\n      <td>Dive Bar</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n      <td>Drugstore</td>\n    </tr>\n    <tr>\n      <th>17</th>\n      <td>Etobicoke</td>\n      <td>3</td>\n      <td>Pharmacy</td>\n      <td>Coffee Shop</td>\n      <td>Beer Store</td>\n      <td>Liquor Store</td>\n      <td>Shopping Plaza</td>\n      <td>Caf\u00e9</td>\n      <td>Pizza Place</td>\n      <td>Convenience Store</td>\n      <td>Pet Store</td>\n      <td>Cosmetics Shop</td>\n    </tr>\n    <tr>\n      <th>18</th>\n      <td>Scarborough</td>\n      <td>3</td>\n      <td>Pizza Place</td>\n      <td>Medical Center</td>\n      <td>Intersection</td>\n      <td>Breakfast Spot</td>\n      <td>Electronics Store</td>\n      <td>Mexican Restaurant</td>\n      <td>Rental Car Location</td>\n      <td>Doner Restaurant</td>\n      <td>Discount Store</td>\n      <td>Dive Bar</td>\n    </tr>\n    <tr>\n      <th>19</th>\n      <td>East Toronto</td>\n      <td>3</td>\n      <td>Health Food Store</td>\n      <td>Neighborhood</td>\n      <td>Pub</td>\n      <td>Trail</td>\n      <td>Donut Shop</td>\n      <td>Diner</td>\n      <td>Discount Store</td>\n      <td>Dive Bar</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n    </tr>\n    <tr>\n      <th>20</th>\n      <td>Downtown Toronto</td>\n      <td>3</td>\n      <td>Coffee Shop</td>\n      <td>Cocktail Bar</td>\n      <td>Steakhouse</td>\n      <td>Seafood Restaurant</td>\n      <td>Beer Bar</td>\n      <td>Cheese Shop</td>\n      <td>Bakery</td>\n      <td>Farmers Market</td>\n      <td>Caf\u00e9</td>\n      <td>Breakfast Spot</td>\n    </tr>\n    <tr>\n      <th>22</th>\n      <td>Scarborough</td>\n      <td>3</td>\n      <td>Coffee Shop</td>\n      <td>Mexican Restaurant</td>\n      <td>Korean Restaurant</td>\n      <td>Yoga Studio</td>\n      <td>Dumpling Restaurant</td>\n      <td>Dive Bar</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n      <td>Drugstore</td>\n    </tr>\n    <tr>\n      <th>23</th>\n      <td>East York</td>\n      <td>3</td>\n      <td>Coffee Shop</td>\n      <td>Sporting Goods Shop</td>\n      <td>Furniture / Home Store</td>\n      <td>Burger Joint</td>\n      <td>Grocery Store</td>\n      <td>Pet Store</td>\n      <td>Bank</td>\n      <td>Brewery</td>\n      <td>Shopping Mall</td>\n      <td>Breakfast Spot</td>\n    </tr>\n    <tr>\n      <th>24</th>\n      <td>Downtown Toronto</td>\n      <td>3</td>\n      <td>Coffee Shop</td>\n      <td>Italian Restaurant</td>\n      <td>Ice Cream Shop</td>\n      <td>Caf\u00e9</td>\n      <td>Sandwich Place</td>\n      <td>Burger Joint</td>\n      <td>Sushi Restaurant</td>\n      <td>Chinese Restaurant</td>\n      <td>Bar</td>\n      <td>Japanese Restaurant</td>\n    </tr>\n    <tr>\n      <th>25</th>\n      <td>Downtown Toronto</td>\n      <td>3</td>\n      <td>Caf\u00e9</td>\n      <td>Grocery Store</td>\n      <td>Park</td>\n      <td>Baby Store</td>\n      <td>Convenience Store</td>\n      <td>Italian Restaurant</td>\n      <td>Coffee Shop</td>\n      <td>Restaurant</td>\n      <td>Diner</td>\n      <td>Nightclub</td>\n    </tr>\n    <tr>\n      <th>26</th>\n      <td>Scarborough</td>\n      <td>3</td>\n      <td>Bakery</td>\n      <td>Hakka Restaurant</td>\n      <td>Caribbean Restaurant</td>\n      <td>Athletics &amp; Sports</td>\n      <td>Thai Restaurant</td>\n      <td>Bank</td>\n      <td>Fried Chicken Joint</td>\n      <td>Yoga Studio</td>\n      <td>Donut Shop</td>\n      <td>Dog Run</td>\n    </tr>\n    <tr>\n      <th>27</th>\n      <td>North York</td>\n      <td>3</td>\n      <td>Golf Course</td>\n      <td>Mediterranean Restaurant</td>\n      <td>Pool</td>\n      <td>Dog Run</td>\n      <td>Dumpling Restaurant</td>\n      <td>Discount Store</td>\n      <td>Dive Bar</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n      <td>Drugstore</td>\n    </tr>\n    <tr>\n      <th>28</th>\n      <td>North York</td>\n      <td>3</td>\n      <td>Coffee Shop</td>\n      <td>Deli / Bodega</td>\n      <td>Bank</td>\n      <td>Restaurant</td>\n      <td>Supermarket</td>\n      <td>Fried Chicken Joint</td>\n      <td>Frozen Yogurt Shop</td>\n      <td>Diner</td>\n      <td>Middle Eastern Restaurant</td>\n      <td>Sandwich Place</td>\n    </tr>\n    <tr>\n      <th>29</th>\n      <td>East York</td>\n      <td>3</td>\n      <td>Indian Restaurant</td>\n      <td>Yoga Studio</td>\n      <td>Pizza Place</td>\n      <td>Park</td>\n      <td>Coffee Shop</td>\n      <td>Discount Store</td>\n      <td>Sandwich Place</td>\n      <td>Burger Joint</td>\n      <td>Supermarket</td>\n      <td>Bank</td>\n    </tr>\n    <tr>\n      <th>30</th>\n      <td>Downtown Toronto</td>\n      <td>3</td>\n      <td>Coffee Shop</td>\n      <td>Caf\u00e9</td>\n      <td>Bar</td>\n      <td>Thai Restaurant</td>\n      <td>Steakhouse</td>\n      <td>Gym</td>\n      <td>Restaurant</td>\n      <td>Asian Restaurant</td>\n      <td>Cosmetics Shop</td>\n      <td>Hotel</td>\n    </tr>\n    <tr>\n      <th>31</th>\n      <td>West Toronto</td>\n      <td>3</td>\n      <td>Pharmacy</td>\n      <td>Supermarket</td>\n      <td>Bakery</td>\n      <td>Furniture / Home Store</td>\n      <td>Park</td>\n      <td>Portuguese Restaurant</td>\n      <td>Music Venue</td>\n      <td>Discount Store</td>\n      <td>Caf\u00e9</td>\n      <td>Middle Eastern Restaurant</td>\n    </tr>\n    <tr>\n      <th>33</th>\n      <td>North York</td>\n      <td>3</td>\n      <td>Clothing Store</td>\n      <td>Coffee Shop</td>\n      <td>Fast Food Restaurant</td>\n      <td>Japanese Restaurant</td>\n      <td>Toy / Game Store</td>\n      <td>Bus Station</td>\n      <td>Bakery</td>\n      <td>Food Court</td>\n      <td>Asian Restaurant</td>\n      <td>Cosmetics Shop</td>\n    </tr>\n    <tr>\n      <th>36</th>\n      <td>Downtown Toronto</td>\n      <td>3</td>\n      <td>Coffee Shop</td>\n      <td>Hotel</td>\n      <td>Aquarium</td>\n      <td>Caf\u00e9</td>\n      <td>Italian Restaurant</td>\n      <td>Scenic Lookout</td>\n      <td>Pizza Place</td>\n      <td>Brewery</td>\n      <td>Sporting Goods Shop</td>\n      <td>Bakery</td>\n    </tr>\n    <tr>\n      <th>37</th>\n      <td>West Toronto</td>\n      <td>3</td>\n      <td>Bar</td>\n      <td>Coffee Shop</td>\n      <td>Asian Restaurant</td>\n      <td>New American Restaurant</td>\n      <td>Men's Store</td>\n      <td>Cocktail Bar</td>\n      <td>Pizza Place</td>\n      <td>Bakery</td>\n      <td>Boutique</td>\n      <td>Caf\u00e9</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>67</th>\n      <td>Central Toronto</td>\n      <td>3</td>\n      <td>Breakfast Spot</td>\n      <td>Sandwich Place</td>\n      <td>Gym</td>\n      <td>Grocery Store</td>\n      <td>Park</td>\n      <td>Hotel</td>\n      <td>Food &amp; Drink Shop</td>\n      <td>Clothing Store</td>\n      <td>Yoga Studio</td>\n      <td>Doner Restaurant</td>\n    </tr>\n    <tr>\n      <th>69</th>\n      <td>West Toronto</td>\n      <td>3</td>\n      <td>Mexican Restaurant</td>\n      <td>Caf\u00e9</td>\n      <td>Bar</td>\n      <td>Park</td>\n      <td>Thai Restaurant</td>\n      <td>Fast Food Restaurant</td>\n      <td>Bookstore</td>\n      <td>Speakeasy</td>\n      <td>Flea Market</td>\n      <td>Cajun / Creole Restaurant</td>\n    </tr>\n    <tr>\n      <th>70</th>\n      <td>Etobicoke</td>\n      <td>3</td>\n      <td>Pizza Place</td>\n      <td>Coffee Shop</td>\n      <td>Intersection</td>\n      <td>Chinese Restaurant</td>\n      <td>Middle Eastern Restaurant</td>\n      <td>Sandwich Place</td>\n      <td>Eastern European Restaurant</td>\n      <td>Electronics Store</td>\n      <td>Empanada Restaurant</td>\n      <td>Diner</td>\n    </tr>\n    <tr>\n      <th>71</th>\n      <td>Scarborough</td>\n      <td>3</td>\n      <td>Middle Eastern Restaurant</td>\n      <td>Shopping Mall</td>\n      <td>Auto Garage</td>\n      <td>Breakfast Spot</td>\n      <td>Bakery</td>\n      <td>Sandwich Place</td>\n      <td>Drugstore</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n    </tr>\n    <tr>\n      <th>72</th>\n      <td>North York</td>\n      <td>3</td>\n      <td>Pizza Place</td>\n      <td>Pharmacy</td>\n      <td>Discount Store</td>\n      <td>Grocery Store</td>\n      <td>Coffee Shop</td>\n      <td>Yoga Studio</td>\n      <td>Drugstore</td>\n      <td>Dive Bar</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n    </tr>\n    <tr>\n      <th>73</th>\n      <td>Central Toronto</td>\n      <td>3</td>\n      <td>Coffee Shop</td>\n      <td>Clothing Store</td>\n      <td>Yoga Studio</td>\n      <td>Bagel Shop</td>\n      <td>Chinese Restaurant</td>\n      <td>Dessert Shop</td>\n      <td>Diner</td>\n      <td>Salon / Barbershop</td>\n      <td>Shoe Store</td>\n      <td>Mexican Restaurant</td>\n    </tr>\n    <tr>\n      <th>74</th>\n      <td>Central Toronto</td>\n      <td>3</td>\n      <td>Sandwich Place</td>\n      <td>Coffee Shop</td>\n      <td>Caf\u00e9</td>\n      <td>Pizza Place</td>\n      <td>Pub</td>\n      <td>Indian Restaurant</td>\n      <td>BBQ Joint</td>\n      <td>Liquor Store</td>\n      <td>American Restaurant</td>\n      <td>Park</td>\n    </tr>\n    <tr>\n      <th>75</th>\n      <td>West Toronto</td>\n      <td>3</td>\n      <td>Gift Shop</td>\n      <td>Breakfast Spot</td>\n      <td>Bookstore</td>\n      <td>Bar</td>\n      <td>Dog Run</td>\n      <td>Italian Restaurant</td>\n      <td>Restaurant</td>\n      <td>Dessert Shop</td>\n      <td>Bank</td>\n      <td>Eastern European Restaurant</td>\n    </tr>\n    <tr>\n      <th>76</th>\n      <td>Mississauga</td>\n      <td>3</td>\n      <td>Coffee Shop</td>\n      <td>Hotel</td>\n      <td>Mediterranean Restaurant</td>\n      <td>Gym / Fitness Center</td>\n      <td>Fried Chicken Joint</td>\n      <td>Sandwich Place</td>\n      <td>Middle Eastern Restaurant</td>\n      <td>American Restaurant</td>\n      <td>Burrito Place</td>\n      <td>Drugstore</td>\n    </tr>\n    <tr>\n      <th>77</th>\n      <td>Etobicoke</td>\n      <td>3</td>\n      <td>Mobile Phone Shop</td>\n      <td>Pizza Place</td>\n      <td>Bus Line</td>\n      <td>Yoga Studio</td>\n      <td>Dive Bar</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n      <td>Drugstore</td>\n      <td>Dumpling Restaurant</td>\n    </tr>\n    <tr>\n      <th>78</th>\n      <td>Scarborough</td>\n      <td>3</td>\n      <td>Clothing Store</td>\n      <td>Breakfast Spot</td>\n      <td>Lounge</td>\n      <td>Skating Rink</td>\n      <td>Eastern European Restaurant</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n      <td>Drugstore</td>\n      <td>Dumpling Restaurant</td>\n    </tr>\n    <tr>\n      <th>79</th>\n      <td>Central Toronto</td>\n      <td>3</td>\n      <td>Pizza Place</td>\n      <td>Dessert Shop</td>\n      <td>Sandwich Place</td>\n      <td>Coffee Shop</td>\n      <td>Italian Restaurant</td>\n      <td>Sushi Restaurant</td>\n      <td>Thai Restaurant</td>\n      <td>Caf\u00e9</td>\n      <td>Restaurant</td>\n      <td>Seafood Restaurant</td>\n    </tr>\n    <tr>\n      <th>80</th>\n      <td>Downtown Toronto</td>\n      <td>3</td>\n      <td>Caf\u00e9</td>\n      <td>Bar</td>\n      <td>Japanese Restaurant</td>\n      <td>Bookstore</td>\n      <td>Restaurant</td>\n      <td>Bakery</td>\n      <td>Yoga Studio</td>\n      <td>Chinese Restaurant</td>\n      <td>Beer Bar</td>\n      <td>Beer Store</td>\n    </tr>\n    <tr>\n      <th>81</th>\n      <td>West Toronto</td>\n      <td>3</td>\n      <td>Pizza Place</td>\n      <td>Coffee Shop</td>\n      <td>Caf\u00e9</td>\n      <td>Bookstore</td>\n      <td>Sushi Restaurant</td>\n      <td>Italian Restaurant</td>\n      <td>Grocery Store</td>\n      <td>Sandwich Place</td>\n      <td>Fish &amp; Chips Shop</td>\n      <td>Bar</td>\n    </tr>\n    <tr>\n      <th>82</th>\n      <td>Scarborough</td>\n      <td>3</td>\n      <td>Pizza Place</td>\n      <td>Pharmacy</td>\n      <td>Chinese Restaurant</td>\n      <td>Fried Chicken Joint</td>\n      <td>Bank</td>\n      <td>Thai Restaurant</td>\n      <td>Noodle House</td>\n      <td>Fast Food Restaurant</td>\n      <td>Italian Restaurant</td>\n      <td>Dumpling Restaurant</td>\n    </tr>\n    <tr>\n      <th>83</th>\n      <td>Central Toronto</td>\n      <td>3</td>\n      <td>Playground</td>\n      <td>Tennis Court</td>\n      <td>Gym</td>\n      <td>Restaurant</td>\n      <td>Doner Restaurant</td>\n      <td>Dim Sum Restaurant</td>\n      <td>Diner</td>\n      <td>Discount Store</td>\n      <td>Dive Bar</td>\n      <td>Dog Run</td>\n    </tr>\n    <tr>\n      <th>84</th>\n      <td>Downtown Toronto</td>\n      <td>3</td>\n      <td>Caf\u00e9</td>\n      <td>Vegetarian / Vegan Restaurant</td>\n      <td>Vietnamese Restaurant</td>\n      <td>Chinese Restaurant</td>\n      <td>Mexican Restaurant</td>\n      <td>Bar</td>\n      <td>Bakery</td>\n      <td>Dumpling Restaurant</td>\n      <td>Coffee Shop</td>\n      <td>Cocktail Bar</td>\n    </tr>\n    <tr>\n      <th>86</th>\n      <td>Central Toronto</td>\n      <td>3</td>\n      <td>Coffee Shop</td>\n      <td>Pub</td>\n      <td>Fried Chicken Joint</td>\n      <td>Pizza Place</td>\n      <td>Restaurant</td>\n      <td>Skating Rink</td>\n      <td>Liquor Store</td>\n      <td>Spa</td>\n      <td>Sports Bar</td>\n      <td>Supermarket</td>\n    </tr>\n    <tr>\n      <th>87</th>\n      <td>Downtown Toronto</td>\n      <td>3</td>\n      <td>Airport Service</td>\n      <td>Airport Terminal</td>\n      <td>Airport Lounge</td>\n      <td>Bar</td>\n      <td>Sculpture Garden</td>\n      <td>Boat or Ferry</td>\n      <td>Boutique</td>\n      <td>Plane</td>\n      <td>Coffee Shop</td>\n      <td>Airport Gate</td>\n    </tr>\n    <tr>\n      <th>88</th>\n      <td>Etobicoke</td>\n      <td>3</td>\n      <td>Fried Chicken Joint</td>\n      <td>Fast Food Restaurant</td>\n      <td>Restaurant</td>\n      <td>Caf\u00e9</td>\n      <td>Sandwich Place</td>\n      <td>Seafood Restaurant</td>\n      <td>Liquor Store</td>\n      <td>American Restaurant</td>\n      <td>Coffee Shop</td>\n      <td>Mexican Restaurant</td>\n    </tr>\n    <tr>\n      <th>89</th>\n      <td>Etobicoke</td>\n      <td>3</td>\n      <td>Grocery Store</td>\n      <td>Pharmacy</td>\n      <td>Fast Food Restaurant</td>\n      <td>Pizza Place</td>\n      <td>Fried Chicken Joint</td>\n      <td>Sandwich Place</td>\n      <td>Discount Store</td>\n      <td>Coffee Shop</td>\n      <td>Beer Store</td>\n      <td>Japanese Restaurant</td>\n    </tr>\n    <tr>\n      <th>90</th>\n      <td>Scarborough</td>\n      <td>3</td>\n      <td>Chinese Restaurant</td>\n      <td>Fast Food Restaurant</td>\n      <td>Pharmacy</td>\n      <td>Coffee Shop</td>\n      <td>Sandwich Place</td>\n      <td>Noodle House</td>\n      <td>Japanese Restaurant</td>\n      <td>Grocery Store</td>\n      <td>Breakfast Spot</td>\n      <td>Pizza Place</td>\n    </tr>\n    <tr>\n      <th>92</th>\n      <td>Downtown Toronto</td>\n      <td>3</td>\n      <td>Coffee Shop</td>\n      <td>Restaurant</td>\n      <td>Caf\u00e9</td>\n      <td>Seafood Restaurant</td>\n      <td>Beer Bar</td>\n      <td>Cocktail Bar</td>\n      <td>Hotel</td>\n      <td>Fast Food Restaurant</td>\n      <td>Japanese Restaurant</td>\n      <td>Breakfast Spot</td>\n    </tr>\n    <tr>\n      <th>93</th>\n      <td>Etobicoke</td>\n      <td>3</td>\n      <td>Pizza Place</td>\n      <td>Pharmacy</td>\n      <td>Pub</td>\n      <td>Gym</td>\n      <td>Sandwich Place</td>\n      <td>Skating Rink</td>\n      <td>Coffee Shop</td>\n      <td>Pool</td>\n      <td>Dessert Shop</td>\n      <td>Dim Sum Restaurant</td>\n    </tr>\n    <tr>\n      <th>94</th>\n      <td>Etobicoke</td>\n      <td>3</td>\n      <td>Drugstore</td>\n      <td>Rental Car Location</td>\n      <td>Yoga Studio</td>\n      <td>Discount Store</td>\n      <td>Dive Bar</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n      <td>Dumpling Restaurant</td>\n      <td>Dim Sum Restaurant</td>\n    </tr>\n    <tr>\n      <th>96</th>\n      <td>Downtown Toronto</td>\n      <td>3</td>\n      <td>Coffee Shop</td>\n      <td>Caf\u00e9</td>\n      <td>Restaurant</td>\n      <td>Italian Restaurant</td>\n      <td>Bakery</td>\n      <td>Pub</td>\n      <td>Pizza Place</td>\n      <td>Yoga Studio</td>\n      <td>Pet Store</td>\n      <td>Breakfast Spot</td>\n    </tr>\n    <tr>\n      <th>97</th>\n      <td>Downtown Toronto</td>\n      <td>3</td>\n      <td>Coffee Shop</td>\n      <td>Caf\u00e9</td>\n      <td>Hotel</td>\n      <td>Steakhouse</td>\n      <td>Gastropub</td>\n      <td>American Restaurant</td>\n      <td>Deli / Bodega</td>\n      <td>Restaurant</td>\n      <td>Bar</td>\n      <td>Bakery</td>\n    </tr>\n    <tr>\n      <th>99</th>\n      <td>Downtown Toronto</td>\n      <td>3</td>\n      <td>Coffee Shop</td>\n      <td>Japanese Restaurant</td>\n      <td>Sushi Restaurant</td>\n      <td>Gay Bar</td>\n      <td>Restaurant</td>\n      <td>Bubble Tea Shop</td>\n      <td>Men's Store</td>\n      <td>Caf\u00e9</td>\n      <td>Burger Joint</td>\n      <td>Pub</td>\n    </tr>\n    <tr>\n      <th>100</th>\n      <td>East Toronto</td>\n      <td>3</td>\n      <td>Light Rail Station</td>\n      <td>Yoga Studio</td>\n      <td>Moving Target</td>\n      <td>Skate Park</td>\n      <td>Park</td>\n      <td>Spa</td>\n      <td>Farmers Market</td>\n      <td>Fast Food Restaurant</td>\n      <td>Burrito Place</td>\n      <td>Butcher</td>\n    </tr>\n    <tr>\n      <th>102</th>\n      <td>Etobicoke</td>\n      <td>3</td>\n      <td>Hardware Store</td>\n      <td>Discount Store</td>\n      <td>Supplement Shop</td>\n      <td>Tanning Salon</td>\n      <td>Burrito Place</td>\n      <td>Sandwich Place</td>\n      <td>Flower Shop</td>\n      <td>Burger Joint</td>\n      <td>Thrift / Vintage Store</td>\n      <td>Bakery</td>\n    </tr>\n  </tbody>\n</table>\n<p>82 rows \u00d7 12 columns</p>\n</div>", 
                        "text/plain": "              Borough  Cluster Labels      1st Most Common Venue  \\\n1          North York               3                Pizza Place   \n2    Downtown Toronto               3                Coffee Shop   \n3          North York               3          Accessories Store   \n4        Queen's Park               3                Coffee Shop   \n6         Scarborough               3       Fast Food Restaurant   \n7          North York               3        Japanese Restaurant   \n8           East York               3       Fast Food Restaurant   \n9    Downtown Toronto               3                Coffee Shop   \n10         North York               3                Pizza Place   \n13         North York               3                        Gym   \n14          East York               3                   Pharmacy   \n15   Downtown Toronto               3                Coffee Shop   \n16               York               3                      Field   \n17          Etobicoke               3                   Pharmacy   \n18        Scarborough               3                Pizza Place   \n19       East Toronto               3          Health Food Store   \n20   Downtown Toronto               3                Coffee Shop   \n22        Scarborough               3                Coffee Shop   \n23          East York               3                Coffee Shop   \n24   Downtown Toronto               3                Coffee Shop   \n25   Downtown Toronto               3                       Caf\u00e9   \n26        Scarborough               3                     Bakery   \n27         North York               3                Golf Course   \n28         North York               3                Coffee Shop   \n29          East York               3          Indian Restaurant   \n30   Downtown Toronto               3                Coffee Shop   \n31       West Toronto               3                   Pharmacy   \n33         North York               3             Clothing Store   \n36   Downtown Toronto               3                Coffee Shop   \n37       West Toronto               3                        Bar   \n..                ...             ...                        ...   \n67    Central Toronto               3             Breakfast Spot   \n69       West Toronto               3         Mexican Restaurant   \n70          Etobicoke               3                Pizza Place   \n71        Scarborough               3  Middle Eastern Restaurant   \n72         North York               3                Pizza Place   \n73    Central Toronto               3                Coffee Shop   \n74    Central Toronto               3             Sandwich Place   \n75       West Toronto               3                  Gift Shop   \n76        Mississauga               3                Coffee Shop   \n77          Etobicoke               3          Mobile Phone Shop   \n78        Scarborough               3             Clothing Store   \n79    Central Toronto               3                Pizza Place   \n80   Downtown Toronto               3                       Caf\u00e9   \n81       West Toronto               3                Pizza Place   \n82        Scarborough               3                Pizza Place   \n83    Central Toronto               3                 Playground   \n84   Downtown Toronto               3                       Caf\u00e9   \n86    Central Toronto               3                Coffee Shop   \n87   Downtown Toronto               3            Airport Service   \n88          Etobicoke               3        Fried Chicken Joint   \n89          Etobicoke               3              Grocery Store   \n90        Scarborough               3         Chinese Restaurant   \n92   Downtown Toronto               3                Coffee Shop   \n93          Etobicoke               3                Pizza Place   \n94          Etobicoke               3                  Drugstore   \n96   Downtown Toronto               3                Coffee Shop   \n97   Downtown Toronto               3                Coffee Shop   \n99   Downtown Toronto               3                Coffee Shop   \n100      East Toronto               3         Light Rail Station   \n102         Etobicoke               3             Hardware Store   \n\n             2nd Most Common Venue     3rd Most Common Venue  \\\n1                French Restaurant              Hockey Arena   \n2                             Park                    Bakery   \n3                         Boutique               Event Space   \n4                              Gym                      Park   \n6              Dumpling Restaurant            Discount Store   \n7                             Caf\u00e9      Caribbean Restaurant   \n8                      Pizza Place                  Pharmacy   \n9                   Clothing Store            Cosmetics Shop   \n10                            Park          Sushi Restaurant   \n13                      Beer Store          Asian Restaurant   \n14                            Park               Video Store   \n15                           Hotel                Restaurant   \n16                         Dog Run              Hockey Arena   \n17                     Coffee Shop                Beer Store   \n18                  Medical Center              Intersection   \n19                    Neighborhood                       Pub   \n20                    Cocktail Bar                Steakhouse   \n22              Mexican Restaurant         Korean Restaurant   \n23             Sporting Goods Shop    Furniture / Home Store   \n24              Italian Restaurant            Ice Cream Shop   \n25                   Grocery Store                      Park   \n26                Hakka Restaurant      Caribbean Restaurant   \n27        Mediterranean Restaurant                      Pool   \n28                   Deli / Bodega                      Bank   \n29                     Yoga Studio               Pizza Place   \n30                            Caf\u00e9                       Bar   \n31                     Supermarket                    Bakery   \n33                     Coffee Shop      Fast Food Restaurant   \n36                           Hotel                  Aquarium   \n37                     Coffee Shop          Asian Restaurant   \n..                             ...                       ...   \n67                  Sandwich Place                       Gym   \n69                            Caf\u00e9                       Bar   \n70                     Coffee Shop              Intersection   \n71                   Shopping Mall               Auto Garage   \n72                        Pharmacy            Discount Store   \n73                  Clothing Store               Yoga Studio   \n74                     Coffee Shop                      Caf\u00e9   \n75                  Breakfast Spot                 Bookstore   \n76                           Hotel  Mediterranean Restaurant   \n77                     Pizza Place                  Bus Line   \n78                  Breakfast Spot                    Lounge   \n79                    Dessert Shop            Sandwich Place   \n80                             Bar       Japanese Restaurant   \n81                     Coffee Shop                      Caf\u00e9   \n82                        Pharmacy        Chinese Restaurant   \n83                    Tennis Court                       Gym   \n84   Vegetarian / Vegan Restaurant     Vietnamese Restaurant   \n86                             Pub       Fried Chicken Joint   \n87                Airport Terminal            Airport Lounge   \n88            Fast Food Restaurant                Restaurant   \n89                        Pharmacy      Fast Food Restaurant   \n90            Fast Food Restaurant                  Pharmacy   \n92                      Restaurant                      Caf\u00e9   \n93                        Pharmacy                       Pub   \n94             Rental Car Location               Yoga Studio   \n96                            Caf\u00e9                Restaurant   \n97                            Caf\u00e9                     Hotel   \n99             Japanese Restaurant          Sushi Restaurant   \n100                    Yoga Studio             Moving Target   \n102                 Discount Store           Supplement Shop   \n\n       4th Most Common Venue        5th Most Common Venue  \\\n1      Portuguese Restaurant                  Coffee Shop   \n2                       Caf\u00e9           Mexican Restaurant   \n3      Vietnamese Restaurant                  Coffee Shop   \n4                      Diner                  Yoga Studio   \n6                   Dive Bar                      Dog Run   \n7       Gym / Fitness Center               Baseball Field   \n8                  Gastropub                         Bank   \n9                       Caf\u00e9         Fast Food Restaurant   \n10                       Pub          Japanese Restaurant   \n13               Coffee Shop          Japanese Restaurant   \n14            Cosmetics Shop                 Skating Rink   \n15                      Caf\u00e9           Italian Restaurant   \n16                     Trail          Dumpling Restaurant   \n17              Liquor Store               Shopping Plaza   \n18            Breakfast Spot            Electronics Store   \n19                     Trail                   Donut Shop   \n20        Seafood Restaurant                     Beer Bar   \n22               Yoga Studio          Dumpling Restaurant   \n23              Burger Joint                Grocery Store   \n24                      Caf\u00e9               Sandwich Place   \n25                Baby Store            Convenience Store   \n26        Athletics & Sports              Thai Restaurant   \n27                   Dog Run          Dumpling Restaurant   \n28                Restaurant                  Supermarket   \n29                      Park                  Coffee Shop   \n30           Thai Restaurant                   Steakhouse   \n31    Furniture / Home Store                         Park   \n33       Japanese Restaurant             Toy / Game Store   \n36                      Caf\u00e9           Italian Restaurant   \n37   New American Restaurant                  Men's Store   \n..                       ...                          ...   \n67             Grocery Store                         Park   \n69                      Park              Thai Restaurant   \n70        Chinese Restaurant    Middle Eastern Restaurant   \n71            Breakfast Spot                       Bakery   \n72             Grocery Store                  Coffee Shop   \n73                Bagel Shop           Chinese Restaurant   \n74               Pizza Place                          Pub   \n75                       Bar                      Dog Run   \n76      Gym / Fitness Center          Fried Chicken Joint   \n77               Yoga Studio                     Dive Bar   \n78              Skating Rink  Eastern European Restaurant   \n79               Coffee Shop           Italian Restaurant   \n80                 Bookstore                   Restaurant   \n81                 Bookstore             Sushi Restaurant   \n82       Fried Chicken Joint                         Bank   \n83                Restaurant             Doner Restaurant   \n84        Chinese Restaurant           Mexican Restaurant   \n86               Pizza Place                   Restaurant   \n87                       Bar             Sculpture Garden   \n88                      Caf\u00e9               Sandwich Place   \n89               Pizza Place          Fried Chicken Joint   \n90               Coffee Shop               Sandwich Place   \n92        Seafood Restaurant                     Beer Bar   \n93                       Gym               Sandwich Place   \n94            Discount Store                     Dive Bar   \n96        Italian Restaurant                       Bakery   \n97                Steakhouse                    Gastropub   \n99                   Gay Bar                   Restaurant   \n100               Skate Park                         Park   \n102            Tanning Salon                Burrito Place   \n\n      6th Most Common Venue        7th Most Common Venue  \\\n1                 Drugstore               Discount Store   \n2            Breakfast Spot                   Restaurant   \n3    Furniture / Home Store               Clothing Store   \n4                Restaurant           Italian Restaurant   \n6          Doner Restaurant                   Donut Shop   \n7                 Drugstore                     Dive Bar   \n8              Intersection           Athletics & Sports   \n9                     Diner               Lingerie Store   \n10        Electronics Store          Empanada Restaurant   \n13           Discount Store           Dim Sum Restaurant   \n14               Beer Store           Athletics & Sports   \n15             Cocktail Bar                       Bakery   \n16           Discount Store                     Dive Bar   \n17                     Caf\u00e9                  Pizza Place   \n18       Mexican Restaurant          Rental Car Location   \n19                    Diner               Discount Store   \n20              Cheese Shop                       Bakery   \n22                 Dive Bar                      Dog Run   \n23                Pet Store                         Bank   \n24             Burger Joint             Sushi Restaurant   \n25       Italian Restaurant                  Coffee Shop   \n26                     Bank          Fried Chicken Joint   \n27           Discount Store                     Dive Bar   \n28      Fried Chicken Joint           Frozen Yogurt Shop   \n29           Discount Store               Sandwich Place   \n30                      Gym                   Restaurant   \n31    Portuguese Restaurant                  Music Venue   \n33              Bus Station                       Bakery   \n36           Scenic Lookout                  Pizza Place   \n37             Cocktail Bar                  Pizza Place   \n..                      ...                          ...   \n67                    Hotel            Food & Drink Shop   \n69     Fast Food Restaurant                    Bookstore   \n70           Sandwich Place  Eastern European Restaurant   \n71           Sandwich Place                    Drugstore   \n72              Yoga Studio                    Drugstore   \n73             Dessert Shop                        Diner   \n74        Indian Restaurant                    BBQ Joint   \n75       Italian Restaurant                   Restaurant   \n76           Sandwich Place    Middle Eastern Restaurant   \n77                  Dog Run             Doner Restaurant   \n78                  Dog Run             Doner Restaurant   \n79         Sushi Restaurant              Thai Restaurant   \n80                   Bakery                  Yoga Studio   \n81       Italian Restaurant                Grocery Store   \n82          Thai Restaurant                 Noodle House   \n83       Dim Sum Restaurant                        Diner   \n84                      Bar                       Bakery   \n86             Skating Rink                 Liquor Store   \n87            Boat or Ferry                     Boutique   \n88       Seafood Restaurant                 Liquor Store   \n89           Sandwich Place               Discount Store   \n90             Noodle House          Japanese Restaurant   \n92             Cocktail Bar                        Hotel   \n93             Skating Rink                  Coffee Shop   \n94                  Dog Run             Doner Restaurant   \n96                      Pub                  Pizza Place   \n97      American Restaurant                Deli / Bodega   \n99          Bubble Tea Shop                  Men's Store   \n100                     Spa               Farmers Market   \n102          Sandwich Place                  Flower Shop   \n\n           8th Most Common Venue        9th Most Common Venue  \\\n1                       Dive Bar                      Dog Run   \n2                            Pub                      Theater   \n3             Miscellaneous Shop                    Drugstore   \n4            Japanese Restaurant         Fast Food Restaurant   \n6                      Drugstore  Eastern European Restaurant   \n7                        Dog Run             Doner Restaurant   \n8                 Breakfast Spot                    Pet Store   \n9                      Bookstore                   Restaurant   \n10   Eastern European Restaurant          Dumpling Restaurant   \n13                    Restaurant               Sandwich Place   \n14              Asian Restaurant                  Curling Ice   \n15                Cosmetics Shop                    Gastropub   \n16              Doner Restaurant                   Donut Shop   \n17             Convenience Store                    Pet Store   \n18              Doner Restaurant               Discount Store   \n19                      Dive Bar                      Dog Run   \n20                Farmers Market                         Caf\u00e9   \n22              Doner Restaurant                   Donut Shop   \n23                       Brewery                Shopping Mall   \n24            Chinese Restaurant                          Bar   \n25                    Restaurant                        Diner   \n26                   Yoga Studio                   Donut Shop   \n27              Doner Restaurant                   Donut Shop   \n28                         Diner    Middle Eastern Restaurant   \n29                  Burger Joint                  Supermarket   \n30              Asian Restaurant               Cosmetics Shop   \n31                Discount Store                         Caf\u00e9   \n33                    Food Court             Asian Restaurant   \n36                       Brewery          Sporting Goods Shop   \n37                        Bakery                     Boutique   \n..                           ...                          ...   \n67                Clothing Store                  Yoga Studio   \n69                     Speakeasy                  Flea Market   \n70             Electronics Store          Empanada Restaurant   \n71                       Dog Run             Doner Restaurant   \n72                      Dive Bar                      Dog Run   \n73            Salon / Barbershop                   Shoe Store   \n74                  Liquor Store          American Restaurant   \n75                  Dessert Shop                         Bank   \n76           American Restaurant                Burrito Place   \n77                    Donut Shop                    Drugstore   \n78                    Donut Shop                    Drugstore   \n79                          Caf\u00e9                   Restaurant   \n80            Chinese Restaurant                     Beer Bar   \n81                Sandwich Place            Fish & Chips Shop   \n82          Fast Food Restaurant           Italian Restaurant   \n83                Discount Store                     Dive Bar   \n84           Dumpling Restaurant                  Coffee Shop   \n86                           Spa                   Sports Bar   \n87                         Plane                  Coffee Shop   \n88           American Restaurant                  Coffee Shop   \n89                   Coffee Shop                   Beer Store   \n90                 Grocery Store               Breakfast Spot   \n92          Fast Food Restaurant          Japanese Restaurant   \n93                          Pool                 Dessert Shop   \n94                    Donut Shop          Dumpling Restaurant   \n96                   Yoga Studio                    Pet Store   \n97                    Restaurant                          Bar   \n99                          Caf\u00e9                 Burger Joint   \n100         Fast Food Restaurant                Burrito Place   \n102                 Burger Joint       Thrift / Vintage Store   \n\n          10th Most Common Venue  \n1               Doner Restaurant  \n2           Gym / Fitness Center  \n3                       Dive Bar  \n4             Seafood Restaurant  \n6                          Field  \n7                     Donut Shop  \n8           Gym / Fitness Center  \n9                 Ice Cream Shop  \n10                     Drugstore  \n13            Italian Restaurant  \n14                   Yoga Studio  \n15                Breakfast Spot  \n16                     Drugstore  \n17                Cosmetics Shop  \n18                      Dive Bar  \n19              Doner Restaurant  \n20                Breakfast Spot  \n22                     Drugstore  \n23                Breakfast Spot  \n24           Japanese Restaurant  \n25                     Nightclub  \n26                       Dog Run  \n27                     Drugstore  \n28                Sandwich Place  \n29                          Bank  \n30                         Hotel  \n31     Middle Eastern Restaurant  \n33                Cosmetics Shop  \n36                        Bakery  \n37                          Caf\u00e9  \n..                           ...  \n67              Doner Restaurant  \n69     Cajun / Creole Restaurant  \n70                         Diner  \n71                    Donut Shop  \n72              Doner Restaurant  \n73            Mexican Restaurant  \n74                          Park  \n75   Eastern European Restaurant  \n76                     Drugstore  \n77           Dumpling Restaurant  \n78           Dumpling Restaurant  \n79            Seafood Restaurant  \n80                    Beer Store  \n81                           Bar  \n82           Dumpling Restaurant  \n83                       Dog Run  \n84                  Cocktail Bar  \n86                   Supermarket  \n87                  Airport Gate  \n88            Mexican Restaurant  \n89           Japanese Restaurant  \n90                   Pizza Place  \n92                Breakfast Spot  \n93            Dim Sum Restaurant  \n94            Dim Sum Restaurant  \n96                Breakfast Spot  \n97                        Bakery  \n99                           Pub  \n100                      Butcher  \n102                       Bakery  \n\n[82 rows x 12 columns]"
                    }, 
                    "output_type": "execute_result"
                }
            ], 
            "source": "toronto_merged.loc[toronto_merged['Cluster Labels'] == 3, toronto_merged.columns[[1] + list(range(5, toronto_merged.shape[1]))]]"
        }, 
        {
            "source": "## Cluster 5 - parks, playgrounds are the most common venues", 
            "cell_type": "markdown", 
            "metadata": {}
        }, 
        {
            "execution_count": 55, 
            "cell_type": "code", 
            "metadata": {}, 
            "outputs": [
                {
                    "execution_count": 55, 
                    "metadata": {}, 
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Borough</th>\n      <th>Cluster Labels</th>\n      <th>1st Most Common Venue</th>\n      <th>2nd Most Common Venue</th>\n      <th>3rd Most Common Venue</th>\n      <th>4th Most Common Venue</th>\n      <th>5th Most Common Venue</th>\n      <th>6th Most Common Venue</th>\n      <th>7th Most Common Venue</th>\n      <th>8th Most Common Venue</th>\n      <th>9th Most Common Venue</th>\n      <th>10th Most Common Venue</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>North York</td>\n      <td>4</td>\n      <td>Food &amp; Drink Shop</td>\n      <td>Park</td>\n      <td>Fast Food Restaurant</td>\n      <td>Event Space</td>\n      <td>Ethiopian Restaurant</td>\n      <td>Empanada Restaurant</td>\n      <td>Electronics Store</td>\n      <td>Falafel Restaurant</td>\n      <td>Eastern European Restaurant</td>\n      <td>Diner</td>\n    </tr>\n    <tr>\n      <th>21</th>\n      <td>York</td>\n      <td>4</td>\n      <td>Park</td>\n      <td>Market</td>\n      <td>Women's Store</td>\n      <td>Fast Food Restaurant</td>\n      <td>Pharmacy</td>\n      <td>Dumpling Restaurant</td>\n      <td>Dive Bar</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n    </tr>\n    <tr>\n      <th>32</th>\n      <td>Scarborough</td>\n      <td>4</td>\n      <td>Playground</td>\n      <td>Drugstore</td>\n      <td>Diner</td>\n      <td>Discount Store</td>\n      <td>Dive Bar</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n      <td>Dumpling Restaurant</td>\n      <td>Fast Food Restaurant</td>\n    </tr>\n    <tr>\n      <th>40</th>\n      <td>North York</td>\n      <td>4</td>\n      <td>Airport</td>\n      <td>Park</td>\n      <td>Yoga Studio</td>\n      <td>Eastern European Restaurant</td>\n      <td>Dive Bar</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n      <td>Drugstore</td>\n      <td>Dumpling Restaurant</td>\n    </tr>\n    <tr>\n      <th>61</th>\n      <td>Central Toronto</td>\n      <td>4</td>\n      <td>Bus Line</td>\n      <td>Park</td>\n      <td>Swim School</td>\n      <td>Yoga Studio</td>\n      <td>Drugstore</td>\n      <td>Dive Bar</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n      <td>Dumpling Restaurant</td>\n    </tr>\n    <tr>\n      <th>68</th>\n      <td>Central Toronto</td>\n      <td>4</td>\n      <td>Jewelry Store</td>\n      <td>Park</td>\n      <td>Sushi Restaurant</td>\n      <td>Trail</td>\n      <td>Yoga Studio</td>\n      <td>Drugstore</td>\n      <td>Dive Bar</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n    </tr>\n    <tr>\n      <th>85</th>\n      <td>Scarborough</td>\n      <td>4</td>\n      <td>Playground</td>\n      <td>Park</td>\n      <td>Dumpling Restaurant</td>\n      <td>Discount Store</td>\n      <td>Dive Bar</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n      <td>Drugstore</td>\n      <td>Eastern European Restaurant</td>\n    </tr>\n    <tr>\n      <th>91</th>\n      <td>Downtown Toronto</td>\n      <td>4</td>\n      <td>Park</td>\n      <td>Playground</td>\n      <td>Building</td>\n      <td>Trail</td>\n      <td>Diner</td>\n      <td>Discount Store</td>\n      <td>Dive Bar</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n    </tr>\n    <tr>\n      <th>98</th>\n      <td>Etobicoke</td>\n      <td>4</td>\n      <td>River</td>\n      <td>Park</td>\n      <td>Yoga Studio</td>\n      <td>Drugstore</td>\n      <td>Discount Store</td>\n      <td>Dive Bar</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n      <td>Dumpling Restaurant</td>\n    </tr>\n  </tbody>\n</table>\n</div>", 
                        "text/plain": "             Borough  Cluster Labels 1st Most Common Venue  \\\n0         North York               4     Food & Drink Shop   \n21              York               4                  Park   \n32       Scarborough               4            Playground   \n40        North York               4               Airport   \n61   Central Toronto               4              Bus Line   \n68   Central Toronto               4         Jewelry Store   \n85       Scarborough               4            Playground   \n91  Downtown Toronto               4                  Park   \n98         Etobicoke               4                 River   \n\n   2nd Most Common Venue 3rd Most Common Venue        4th Most Common Venue  \\\n0                   Park  Fast Food Restaurant                  Event Space   \n21                Market         Women's Store         Fast Food Restaurant   \n32             Drugstore                 Diner               Discount Store   \n40                  Park           Yoga Studio  Eastern European Restaurant   \n61                  Park           Swim School                  Yoga Studio   \n68                  Park      Sushi Restaurant                        Trail   \n85                  Park   Dumpling Restaurant               Discount Store   \n91            Playground              Building                        Trail   \n98                  Park           Yoga Studio                    Drugstore   \n\n   5th Most Common Venue 6th Most Common Venue 7th Most Common Venue  \\\n0   Ethiopian Restaurant   Empanada Restaurant     Electronics Store   \n21              Pharmacy   Dumpling Restaurant              Dive Bar   \n32              Dive Bar               Dog Run      Doner Restaurant   \n40              Dive Bar               Dog Run      Doner Restaurant   \n61             Drugstore              Dive Bar               Dog Run   \n68           Yoga Studio             Drugstore              Dive Bar   \n85              Dive Bar               Dog Run      Doner Restaurant   \n91                 Diner        Discount Store              Dive Bar   \n98        Discount Store              Dive Bar               Dog Run   \n\n   8th Most Common Venue        9th Most Common Venue  \\\n0     Falafel Restaurant  Eastern European Restaurant   \n21               Dog Run             Doner Restaurant   \n32            Donut Shop          Dumpling Restaurant   \n40            Donut Shop                    Drugstore   \n61      Doner Restaurant                   Donut Shop   \n68               Dog Run             Doner Restaurant   \n85            Donut Shop                    Drugstore   \n91               Dog Run             Doner Restaurant   \n98      Doner Restaurant                   Donut Shop   \n\n         10th Most Common Venue  \n0                         Diner  \n21                   Donut Shop  \n32         Fast Food Restaurant  \n40          Dumpling Restaurant  \n61          Dumpling Restaurant  \n68                   Donut Shop  \n85  Eastern European Restaurant  \n91                   Donut Shop  \n98          Dumpling Restaurant  "
                    }, 
                    "output_type": "execute_result"
                }
            ], 
            "source": "toronto_merged.loc[toronto_merged['Cluster Labels'] == 4, toronto_merged.columns[[1] + list(range(5, toronto_merged.shape[1]))]]"
        }, 
        {
            "execution_count": null, 
            "cell_type": "code", 
            "metadata": {}, 
            "outputs": [], 
            "source": ""
        }
    ], 
    "metadata": {
        "kernelspec": {
            "display_name": "Python 3.6", 
            "name": "python3", 
            "language": "python"
        }, 
        "language_info": {
            "mimetype": "text/x-python", 
            "nbconvert_exporter": "python", 
            "version": "3.6.8", 
            "name": "python", 
            "file_extension": ".py", 
            "pygments_lexer": "ipython3", 
            "codemirror_mode": {
                "version": 3, 
                "name": "ipython"
            }
        }
    }, 
    "nbformat": 4
}